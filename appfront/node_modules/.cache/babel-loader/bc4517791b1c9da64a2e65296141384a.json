{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { nextTick, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils\";\nimport { Icon } from \"../icon\";\nimport { Popup } from \"../popup\";\nimport { Loading } from \"../loading\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared\";\nconst [name, bem] = createNamespace(\"action-sheet\");\nconst actionSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  actions: makeArrayProp(),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: truthProp,\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  closeOnClickAction: Boolean,\n  safeAreaInsetBottom: truthProp\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nvar stdin_default = defineComponent({\n  name,\n  props: actionSheetProps,\n  emits: [\"select\", \"cancel\", \"update:show\"],\n\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const updateShow = show => emit(\"update:show\", show);\n\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n\n    const renderHeader = () => {\n      if (props.title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [props.title, props.closeable && _createVNode(Icon, {\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\n          \"onClick\": onCancel\n        }, null)]);\n      }\n    };\n\n    const renderCancel = () => {\n      if (slots.cancel || props.cancelText) {\n        return [_createVNode(\"div\", {\n          \"class\": bem(\"gap\")\n        }, null), _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\n      }\n    };\n\n    const renderActionContent = (action, index) => {\n      if (action.loading) {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, null);\n      }\n\n      if (slots.action) {\n        return slots.action({\n          action,\n          index\n        });\n      }\n\n      return [_createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [action.name]), action.subname && _createVNode(\"div\", {\n        \"class\": bem(\"subname\")\n      }, [action.subname])];\n    };\n\n    const renderAction = (action, index) => {\n      const {\n        color,\n        loading,\n        callback,\n        disabled,\n        className\n      } = action;\n\n      const onClick = () => {\n        if (disabled || loading) {\n          return;\n        }\n\n        if (callback) {\n          callback(action);\n        }\n\n        if (props.closeOnClickAction) {\n          updateShow(false);\n        }\n\n        nextTick(() => emit(\"select\", action, index));\n      };\n\n      return _createVNode(\"button\", {\n        \"type\": \"button\",\n        \"style\": {\n          color\n        },\n        \"class\": [bem(\"item\", {\n          loading,\n          disabled\n        }), className],\n        \"onClick\": onClick\n      }, [renderActionContent(action, index)]);\n    };\n\n    const renderDescription = () => {\n      if (props.description || slots.description) {\n        const content = slots.description ? slots.description() : props.description;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"description\")\n        }, [content]);\n      }\n    };\n\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => {\n        var _a;\n\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\n      }\n    });\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/action-sheet/ActionSheet.js"],"names":["mergeProps","_mergeProps","createVNode","_createVNode","nextTick","defineComponent","pick","extend","truthProp","makeArrayProp","makeStringProp","createNamespace","HAPTICS_FEEDBACK","Icon","Popup","Loading","popupSharedProps","popupSharedPropKeys","name","bem","actionSheetProps","title","String","round","actions","closeIcon","closeable","cancelText","description","closeOnPopstate","closeOnClickAction","Boolean","safeAreaInsetBottom","popupInheritKeys","stdin_default","props","emits","setup","slots","emit","updateShow","show","onCancel","renderHeader","renderCancel","cancel","renderActionContent","action","index","loading","subname","renderAction","color","callback","disabled","className","onClick","renderDescription","content","default","_a","map","call"],"mappings":"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","sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { nextTick, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils\";\nimport { Icon } from \"../icon\";\nimport { Popup } from \"../popup\";\nimport { Loading } from \"../loading\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared\";\nconst [name, bem] = createNamespace(\"action-sheet\");\nconst actionSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  actions: makeArrayProp(),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: truthProp,\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  closeOnClickAction: Boolean,\n  safeAreaInsetBottom: truthProp\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nvar stdin_default = defineComponent({\n  name,\n  props: actionSheetProps,\n  emits: [\"select\", \"cancel\", \"update:show\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const updateShow = (show) => emit(\"update:show\", show);\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n    const renderHeader = () => {\n      if (props.title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [props.title, props.closeable && _createVNode(Icon, {\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\n          \"onClick\": onCancel\n        }, null)]);\n      }\n    };\n    const renderCancel = () => {\n      if (slots.cancel || props.cancelText) {\n        return [_createVNode(\"div\", {\n          \"class\": bem(\"gap\")\n        }, null), _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\n      }\n    };\n    const renderActionContent = (action, index) => {\n      if (action.loading) {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, null);\n      }\n      if (slots.action) {\n        return slots.action({\n          action,\n          index\n        });\n      }\n      return [_createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [action.name]), action.subname && _createVNode(\"div\", {\n        \"class\": bem(\"subname\")\n      }, [action.subname])];\n    };\n    const renderAction = (action, index) => {\n      const {\n        color,\n        loading,\n        callback,\n        disabled,\n        className\n      } = action;\n      const onClick = () => {\n        if (disabled || loading) {\n          return;\n        }\n        if (callback) {\n          callback(action);\n        }\n        if (props.closeOnClickAction) {\n          updateShow(false);\n        }\n        nextTick(() => emit(\"select\", action, index));\n      };\n      return _createVNode(\"button\", {\n        \"type\": \"button\",\n        \"style\": {\n          color\n        },\n        \"class\": [bem(\"item\", {\n          loading,\n          disabled\n        }), className],\n        \"onClick\": onClick\n      }, [renderActionContent(action, index)]);\n    };\n    const renderDescription = () => {\n      if (props.description || slots.description) {\n        const content = slots.description ? slots.description() : props.description;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"description\")\n        }, [content]);\n      }\n    };\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => {\n        var _a;\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\n      }\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}