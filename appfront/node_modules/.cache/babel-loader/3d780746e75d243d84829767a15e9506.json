{"ast":null,"code":"import XEUtils from 'xe-utils';\nvar reClsMap = {};\nexport var browse = XEUtils.browse();\n\nfunction getClsRE(cls) {\n  if (!reClsMap[cls]) {\n    reClsMap[cls] = new RegExp(\"(?:^|\\\\s)\" + cls + \"(?!\\\\S)\", 'g');\n  }\n\n  return reClsMap[cls];\n}\n\nfunction getNodeOffset(elem, container, rest) {\n  if (elem) {\n    var parentElem = elem.parentNode;\n    rest.top += elem.offsetTop;\n    rest.left += elem.offsetLeft;\n\n    if (parentElem && parentElem !== document.documentElement && parentElem !== document.body) {\n      rest.top -= parentElem.scrollTop;\n      rest.left -= parentElem.scrollLeft;\n    }\n\n    if (container && (elem === container || elem.offsetParent === container) ? 0 : elem.offsetParent) {\n      return getNodeOffset(elem.offsetParent, container, rest);\n    }\n  }\n\n  return rest;\n}\n\nexport function isPx(val) {\n  return val && /^\\d+(px)?$/.test(val);\n}\nexport function isScale(val) {\n  return val && /^\\d+%$/.test(val);\n}\nexport function hasClass(elem, cls) {\n  return elem && elem.className && elem.className.match && elem.className.match(getClsRE(cls));\n}\nexport function removeClass(elem, cls) {\n  if (elem && hasClass(elem, cls)) {\n    elem.className = elem.className.replace(getClsRE(cls), '');\n  }\n}\nexport function addClass(elem, cls) {\n  if (elem && !hasClass(elem, cls)) {\n    removeClass(elem, cls);\n    elem.className = elem.className + \" \" + cls;\n  }\n}\nexport function getDomNode() {\n  var documentElement = document.documentElement;\n  var bodyElem = document.body;\n  return {\n    scrollTop: documentElement.scrollTop || bodyElem.scrollTop,\n    scrollLeft: documentElement.scrollLeft || bodyElem.scrollLeft,\n    visibleHeight: documentElement.clientHeight || bodyElem.clientHeight,\n    visibleWidth: documentElement.clientWidth || bodyElem.clientWidth\n  };\n}\nexport function getOffsetHeight(elem) {\n  return elem ? elem.offsetHeight : 0;\n}\nexport function getPaddingTopBottomSize(elem) {\n  if (elem) {\n    var computedStyle = getComputedStyle(elem);\n    var paddingTop = XEUtils.toNumber(computedStyle.paddingTop);\n    var paddingBottom = XEUtils.toNumber(computedStyle.paddingBottom);\n    return paddingTop + paddingBottom;\n  }\n\n  return 0;\n}\nexport function setScrollTop(elem, scrollTop) {\n  if (elem) {\n    elem.scrollTop = scrollTop;\n  }\n}\nexport function setScrollLeft(elem, scrollLeft) {\n  if (elem) {\n    elem.scrollLeft = scrollLeft;\n  }\n} // export function setScrollLeftAndTop (elem: HTMLElement | null, scrollLeft: number, scrollTop: number) {\n//   if (elem) {\n//     elem.scrollLeft = scrollLeft\n//     elem.scrollTop = scrollTop\n//   }\n// }\n\nexport function updateCellTitle(overflowElem, column) {\n  var content = column.type === 'html' ? overflowElem.innerText : overflowElem.textContent;\n\n  if (overflowElem.getAttribute('title') !== content) {\n    overflowElem.setAttribute('title', content);\n  }\n}\n/**\n * 检查触发源是否属于目标节点\n */\n\nexport function getEventTargetNode(evnt, container, queryCls, queryMethod) {\n  var targetElem;\n  var target = evnt.target;\n\n  while (target && target.nodeType && target !== document) {\n    if (queryCls && hasClass(target, queryCls) && (!queryMethod || queryMethod(target))) {\n      targetElem = target;\n    } else if (target === container) {\n      return {\n        flag: queryCls ? !!targetElem : true,\n        container: container,\n        targetElem: targetElem\n      };\n    }\n\n    target = target.parentNode;\n  }\n\n  return {\n    flag: false\n  };\n}\n/**\n * 获取元素相对于 document 的位置\n */\n\nexport function getOffsetPos(elem, container) {\n  return getNodeOffset(elem, container, {\n    left: 0,\n    top: 0\n  });\n}\nexport function getAbsolutePos(elem) {\n  var bounding = elem.getBoundingClientRect();\n  var boundingTop = bounding.top;\n  var boundingLeft = bounding.left;\n\n  var _a = getDomNode(),\n      scrollTop = _a.scrollTop,\n      scrollLeft = _a.scrollLeft,\n      visibleHeight = _a.visibleHeight,\n      visibleWidth = _a.visibleWidth;\n\n  return {\n    boundingTop: boundingTop,\n    top: scrollTop + boundingTop,\n    boundingLeft: boundingLeft,\n    left: scrollLeft + boundingLeft,\n    visibleHeight: visibleHeight,\n    visibleWidth: visibleWidth\n  };\n}\nvar scrollIntoViewIfNeeded = 'scrollIntoViewIfNeeded';\nvar scrollIntoView = 'scrollIntoView';\nexport function scrollToView(elem) {\n  if (elem) {\n    if (elem[scrollIntoViewIfNeeded]) {\n      elem[scrollIntoViewIfNeeded]();\n    } else if (elem[scrollIntoView]) {\n      elem[scrollIntoView]();\n    }\n  }\n}\nexport function triggerEvent(targetElem, type) {\n  if (targetElem) {\n    targetElem.dispatchEvent(new Event(type));\n  }\n}\nexport function isNodeElement(elem) {\n  return elem && elem.nodeType === 1;\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/tools/dom.js"],"names":["XEUtils","reClsMap","browse","getClsRE","cls","RegExp","getNodeOffset","elem","container","rest","parentElem","parentNode","top","offsetTop","left","offsetLeft","document","documentElement","body","scrollTop","scrollLeft","offsetParent","isPx","val","test","isScale","hasClass","className","match","removeClass","replace","addClass","getDomNode","bodyElem","visibleHeight","clientHeight","visibleWidth","clientWidth","getOffsetHeight","offsetHeight","getPaddingTopBottomSize","computedStyle","getComputedStyle","paddingTop","toNumber","paddingBottom","setScrollTop","setScrollLeft","updateCellTitle","overflowElem","column","content","type","innerText","textContent","getAttribute","setAttribute","getEventTargetNode","evnt","queryCls","queryMethod","targetElem","target","nodeType","flag","getOffsetPos","getAbsolutePos","bounding","getBoundingClientRect","boundingTop","boundingLeft","_a","scrollIntoViewIfNeeded","scrollIntoView","scrollToView","triggerEvent","dispatchEvent","Event","isNodeElement"],"mappings":"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","sourcesContent":["import XEUtils from 'xe-utils';\nvar reClsMap = {};\nexport var browse = XEUtils.browse();\nfunction getClsRE(cls) {\n    if (!reClsMap[cls]) {\n        reClsMap[cls] = new RegExp(\"(?:^|\\\\s)\" + cls + \"(?!\\\\S)\", 'g');\n    }\n    return reClsMap[cls];\n}\nfunction getNodeOffset(elem, container, rest) {\n    if (elem) {\n        var parentElem = elem.parentNode;\n        rest.top += elem.offsetTop;\n        rest.left += elem.offsetLeft;\n        if (parentElem && parentElem !== document.documentElement && parentElem !== document.body) {\n            rest.top -= parentElem.scrollTop;\n            rest.left -= parentElem.scrollLeft;\n        }\n        if (container && (elem === container || elem.offsetParent === container) ? 0 : elem.offsetParent) {\n            return getNodeOffset(elem.offsetParent, container, rest);\n        }\n    }\n    return rest;\n}\nexport function isPx(val) {\n    return val && /^\\d+(px)?$/.test(val);\n}\nexport function isScale(val) {\n    return val && /^\\d+%$/.test(val);\n}\nexport function hasClass(elem, cls) {\n    return elem && elem.className && elem.className.match && elem.className.match(getClsRE(cls));\n}\nexport function removeClass(elem, cls) {\n    if (elem && hasClass(elem, cls)) {\n        elem.className = elem.className.replace(getClsRE(cls), '');\n    }\n}\nexport function addClass(elem, cls) {\n    if (elem && !hasClass(elem, cls)) {\n        removeClass(elem, cls);\n        elem.className = elem.className + \" \" + cls;\n    }\n}\nexport function getDomNode() {\n    var documentElement = document.documentElement;\n    var bodyElem = document.body;\n    return {\n        scrollTop: documentElement.scrollTop || bodyElem.scrollTop,\n        scrollLeft: documentElement.scrollLeft || bodyElem.scrollLeft,\n        visibleHeight: documentElement.clientHeight || bodyElem.clientHeight,\n        visibleWidth: documentElement.clientWidth || bodyElem.clientWidth\n    };\n}\nexport function getOffsetHeight(elem) {\n    return elem ? elem.offsetHeight : 0;\n}\nexport function getPaddingTopBottomSize(elem) {\n    if (elem) {\n        var computedStyle = getComputedStyle(elem);\n        var paddingTop = XEUtils.toNumber(computedStyle.paddingTop);\n        var paddingBottom = XEUtils.toNumber(computedStyle.paddingBottom);\n        return paddingTop + paddingBottom;\n    }\n    return 0;\n}\nexport function setScrollTop(elem, scrollTop) {\n    if (elem) {\n        elem.scrollTop = scrollTop;\n    }\n}\nexport function setScrollLeft(elem, scrollLeft) {\n    if (elem) {\n        elem.scrollLeft = scrollLeft;\n    }\n}\n// export function setScrollLeftAndTop (elem: HTMLElement | null, scrollLeft: number, scrollTop: number) {\n//   if (elem) {\n//     elem.scrollLeft = scrollLeft\n//     elem.scrollTop = scrollTop\n//   }\n// }\nexport function updateCellTitle(overflowElem, column) {\n    var content = column.type === 'html' ? overflowElem.innerText : overflowElem.textContent;\n    if (overflowElem.getAttribute('title') !== content) {\n        overflowElem.setAttribute('title', content);\n    }\n}\n/**\n * 检查触发源是否属于目标节点\n */\nexport function getEventTargetNode(evnt, container, queryCls, queryMethod) {\n    var targetElem;\n    var target = evnt.target;\n    while (target && target.nodeType && target !== document) {\n        if (queryCls && hasClass(target, queryCls) && (!queryMethod || queryMethod(target))) {\n            targetElem = target;\n        }\n        else if (target === container) {\n            return { flag: queryCls ? !!targetElem : true, container: container, targetElem: targetElem };\n        }\n        target = target.parentNode;\n    }\n    return { flag: false };\n}\n/**\n * 获取元素相对于 document 的位置\n */\nexport function getOffsetPos(elem, container) {\n    return getNodeOffset(elem, container, { left: 0, top: 0 });\n}\nexport function getAbsolutePos(elem) {\n    var bounding = elem.getBoundingClientRect();\n    var boundingTop = bounding.top;\n    var boundingLeft = bounding.left;\n    var _a = getDomNode(), scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft, visibleHeight = _a.visibleHeight, visibleWidth = _a.visibleWidth;\n    return { boundingTop: boundingTop, top: scrollTop + boundingTop, boundingLeft: boundingLeft, left: scrollLeft + boundingLeft, visibleHeight: visibleHeight, visibleWidth: visibleWidth };\n}\nvar scrollIntoViewIfNeeded = 'scrollIntoViewIfNeeded';\nvar scrollIntoView = 'scrollIntoView';\nexport function scrollToView(elem) {\n    if (elem) {\n        if (elem[scrollIntoViewIfNeeded]) {\n            elem[scrollIntoViewIfNeeded]();\n        }\n        else if (elem[scrollIntoView]) {\n            elem[scrollIntoView]();\n        }\n    }\n}\nexport function triggerEvent(targetElem, type) {\n    if (targetElem) {\n        targetElem.dispatchEvent(new Event(type));\n    }\n}\nexport function isNodeElement(elem) {\n    return elem && elem.nodeType === 1;\n}\n"]},"metadata":{},"sourceType":"module"}