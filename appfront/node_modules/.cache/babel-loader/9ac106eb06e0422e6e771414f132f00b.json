{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject } from 'vue';\nimport classNames from '../_util/classNames';\nimport Dialog from '../vc-dialog';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { getConfirmLocale } from './locale';\nimport CloseOutlined from '@ant-design/icons-vue/CloseOutlined';\nimport Button from '../button';\nimport buttonTypes, { convertLegacyProps } from '../button/buttonTypes';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { getComponent, getSlot } from '../_util/props-util';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { defaultConfigProvider } from '../config-provider';\nvar mousePosition = null; // ref: https://github.com/ant-design/ant-design/issues/15795\n\nvar getClickPosition = function getClickPosition(e) {\n  mousePosition = {\n    x: e.pageX,\n    y: e.pageY\n  }; // 100ms 内发生过点击事件，则从点击位置动画展示\n  // 否则直接 zoom 展示\n  // 这样可以兼容非点击方式展开\n\n  setTimeout(function () {\n    return mousePosition = null;\n  }, 100);\n}; // 只有点击事件支持从鼠标位置动画展开\n\n\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n  addEventListener(document.documentElement, 'click', getClickPosition, true);\n}\n\nfunction noop() {}\n\nvar modalProps = {\n  prefixCls: PropTypes.string,\n\n  /** 对话框是否可见*/\n  visible: PropTypes.looseBool,\n\n  /** 确定按钮 loading*/\n  confirmLoading: PropTypes.looseBool,\n\n  /** 标题*/\n  title: PropTypes.any,\n\n  /** 是否显示右上角的关闭按钮*/\n  closable: PropTypes.looseBool,\n  closeIcon: PropTypes.any,\n\n  /** 点击确定回调*/\n  onOk: {\n    type: Function\n  },\n\n  /** 点击模态框右上角叉、取消按钮、Props.maskClosable 值为 true 时的遮罩层或键盘按下 Esc 时的回调*/\n  onCancel: {\n    type: Function\n  },\n  afterClose: PropTypes.func.def(noop),\n\n  /** 垂直居中 */\n  centered: PropTypes.looseBool,\n\n  /** 宽度*/\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /** 底部内容*/\n  footer: PropTypes.any,\n\n  /** 确认按钮文字*/\n  okText: PropTypes.any,\n\n  /** 确认按钮类型*/\n  okType: {\n    type: String\n  },\n\n  /** 取消按钮文字*/\n  cancelText: PropTypes.any,\n  icon: PropTypes.any,\n\n  /** 点击蒙层是否允许关闭*/\n  maskClosable: PropTypes.looseBool,\n\n  /** 强制渲染 Modal*/\n  forceRender: PropTypes.looseBool,\n  okButtonProps: PropTypes.shape(buttonTypes).loose,\n  cancelButtonProps: PropTypes.shape(buttonTypes).loose,\n  destroyOnClose: PropTypes.looseBool,\n  wrapClassName: PropTypes.string,\n  maskTransitionName: PropTypes.string,\n  transitionName: PropTypes.string,\n  getContainer: PropTypes.any,\n  zIndex: PropTypes.number,\n  bodyStyle: PropTypes.style,\n  maskStyle: PropTypes.style,\n  mask: PropTypes.looseBool,\n  keyboard: PropTypes.looseBool,\n  wrapProps: PropTypes.object,\n  focusTriggerAfterClose: PropTypes.looseBool\n};\nexport var destroyFns = [];\nexport default defineComponent({\n  name: 'AModal',\n  inheritAttrs: false,\n  props: initDefaultProps(modalProps, {\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary'\n  }),\n  emits: ['update:visible', 'cancel', 'change', 'ok'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.visible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    handleCancel: function handleCancel(e) {\n      this.$emit('update:visible', false);\n      this.$emit('cancel', e);\n      this.$emit('change', false);\n    },\n    handleOk: function handleOk(e) {\n      this.$emit('ok', e);\n    },\n    renderFooter: function renderFooter(locale) {\n      var _this = this;\n\n      var okType = this.okType,\n          confirmLoading = this.confirmLoading;\n\n      var cancelBtnProps = _extends({\n        onClick: this.handleCancel\n      }, this.cancelButtonProps || {});\n\n      var okBtnProps = _extends(_extends(_extends({\n        onClick: this.handleOk\n      }, convertLegacyProps(okType)), {\n        loading: confirmLoading\n      }), this.okButtonProps || {});\n\n      return _createVNode(\"div\", null, [_createVNode(Button, cancelBtnProps, {\n        default: function _default() {\n          return [getComponent(_this, 'cancelText') || locale.cancelText];\n        }\n      }), _createVNode(Button, okBtnProps, {\n        default: function _default() {\n          return [getComponent(_this, 'okText') || locale.okText];\n        }\n      })]);\n    }\n  },\n  render: function render() {\n    var customizePrefixCls = this.prefixCls,\n        visible = this.sVisible,\n        wrapClassName = this.wrapClassName,\n        centered = this.centered,\n        getContainer = this.getContainer,\n        $attrs = this.$attrs;\n    var children = getSlot(this);\n    var _this$configProvider = this.configProvider,\n        getPrefixCls = _this$configProvider.getPrefixCls,\n        getContextPopupContainer = _this$configProvider.getPopupContainer;\n    var prefixCls = getPrefixCls('modal', customizePrefixCls);\n\n    var defaultFooter = _createVNode(LocaleReceiver, {\n      \"componentName\": \"Modal\",\n      \"defaultLocale\": getConfirmLocale(),\n      \"children\": this.renderFooter\n    }, null);\n\n    var closeIcon = getComponent(this, 'closeIcon');\n\n    var closeIconToRender = _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-close-x\")\n    }, [closeIcon || _createVNode(CloseOutlined, {\n      \"class\": \"\".concat(prefixCls, \"-close-icon\")\n    }, null)]);\n\n    var footer = getComponent(this, 'footer');\n    var title = getComponent(this, 'title');\n\n    var dialogProps = _extends(_extends(_extends({}, this.$props), $attrs), {\n      getContainer: getContainer === undefined ? getContextPopupContainer : getContainer,\n      prefixCls: prefixCls,\n      wrapClassName: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-centered\"), !!centered), wrapClassName),\n      title: title,\n      footer: footer === undefined ? defaultFooter : footer,\n      visible: visible,\n      mousePosition: mousePosition,\n      closeIcon: closeIconToRender,\n      onClose: this.handleCancel\n    });\n\n    return _createVNode(Dialog, dialogProps, {\n      default: function _default() {\n        return [children];\n      }\n    });\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/modal/Modal.js"],"names":["_defineProperty","_extends","createVNode","_createVNode","defineComponent","inject","classNames","Dialog","PropTypes","addEventListener","getConfirmLocale","CloseOutlined","Button","buttonTypes","convertLegacyProps","LocaleReceiver","getComponent","getSlot","initDefaultProps","defaultConfigProvider","mousePosition","getClickPosition","e","x","pageX","y","pageY","setTimeout","window","document","documentElement","noop","modalProps","prefixCls","string","visible","looseBool","confirmLoading","title","any","closable","closeIcon","onOk","type","Function","onCancel","afterClose","func","def","centered","width","oneOfType","number","footer","okText","okType","String","cancelText","icon","maskClosable","forceRender","okButtonProps","shape","loose","cancelButtonProps","destroyOnClose","wrapClassName","maskTransitionName","transitionName","getContainer","zIndex","bodyStyle","style","maskStyle","mask","keyboard","wrapProps","object","focusTriggerAfterClose","destroyFns","name","inheritAttrs","props","emits","setup","configProvider","data","sVisible","watch","val","methods","handleCancel","$emit","handleOk","renderFooter","locale","_this","cancelBtnProps","onClick","okBtnProps","loading","default","_default","render","customizePrefixCls","$attrs","children","_this$configProvider","getPrefixCls","getContextPopupContainer","getPopupContainer","defaultFooter","closeIconToRender","concat","dialogProps","$props","undefined","onClose"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject } from 'vue';\nimport classNames from '../_util/classNames';\nimport Dialog from '../vc-dialog';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { getConfirmLocale } from './locale';\nimport CloseOutlined from '@ant-design/icons-vue/CloseOutlined';\nimport Button from '../button';\nimport buttonTypes, { convertLegacyProps } from '../button/buttonTypes';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { getComponent, getSlot } from '../_util/props-util';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { defaultConfigProvider } from '../config-provider';\nvar mousePosition = null; // ref: https://github.com/ant-design/ant-design/issues/15795\n\nvar getClickPosition = function getClickPosition(e) {\n  mousePosition = {\n    x: e.pageX,\n    y: e.pageY\n  }; // 100ms 内发生过点击事件，则从点击位置动画展示\n  // 否则直接 zoom 展示\n  // 这样可以兼容非点击方式展开\n\n  setTimeout(function () {\n    return mousePosition = null;\n  }, 100);\n}; // 只有点击事件支持从鼠标位置动画展开\n\n\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n  addEventListener(document.documentElement, 'click', getClickPosition, true);\n}\n\nfunction noop() {}\n\nvar modalProps = {\n  prefixCls: PropTypes.string,\n\n  /** 对话框是否可见*/\n  visible: PropTypes.looseBool,\n\n  /** 确定按钮 loading*/\n  confirmLoading: PropTypes.looseBool,\n\n  /** 标题*/\n  title: PropTypes.any,\n\n  /** 是否显示右上角的关闭按钮*/\n  closable: PropTypes.looseBool,\n  closeIcon: PropTypes.any,\n\n  /** 点击确定回调*/\n  onOk: {\n    type: Function\n  },\n\n  /** 点击模态框右上角叉、取消按钮、Props.maskClosable 值为 true 时的遮罩层或键盘按下 Esc 时的回调*/\n  onCancel: {\n    type: Function\n  },\n  afterClose: PropTypes.func.def(noop),\n\n  /** 垂直居中 */\n  centered: PropTypes.looseBool,\n\n  /** 宽度*/\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /** 底部内容*/\n  footer: PropTypes.any,\n\n  /** 确认按钮文字*/\n  okText: PropTypes.any,\n\n  /** 确认按钮类型*/\n  okType: {\n    type: String\n  },\n\n  /** 取消按钮文字*/\n  cancelText: PropTypes.any,\n  icon: PropTypes.any,\n\n  /** 点击蒙层是否允许关闭*/\n  maskClosable: PropTypes.looseBool,\n\n  /** 强制渲染 Modal*/\n  forceRender: PropTypes.looseBool,\n  okButtonProps: PropTypes.shape(buttonTypes).loose,\n  cancelButtonProps: PropTypes.shape(buttonTypes).loose,\n  destroyOnClose: PropTypes.looseBool,\n  wrapClassName: PropTypes.string,\n  maskTransitionName: PropTypes.string,\n  transitionName: PropTypes.string,\n  getContainer: PropTypes.any,\n  zIndex: PropTypes.number,\n  bodyStyle: PropTypes.style,\n  maskStyle: PropTypes.style,\n  mask: PropTypes.looseBool,\n  keyboard: PropTypes.looseBool,\n  wrapProps: PropTypes.object,\n  focusTriggerAfterClose: PropTypes.looseBool\n};\nexport var destroyFns = [];\nexport default defineComponent({\n  name: 'AModal',\n  inheritAttrs: false,\n  props: initDefaultProps(modalProps, {\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary'\n  }),\n  emits: ['update:visible', 'cancel', 'change', 'ok'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.visible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    handleCancel: function handleCancel(e) {\n      this.$emit('update:visible', false);\n      this.$emit('cancel', e);\n      this.$emit('change', false);\n    },\n    handleOk: function handleOk(e) {\n      this.$emit('ok', e);\n    },\n    renderFooter: function renderFooter(locale) {\n      var _this = this;\n\n      var okType = this.okType,\n          confirmLoading = this.confirmLoading;\n\n      var cancelBtnProps = _extends({\n        onClick: this.handleCancel\n      }, this.cancelButtonProps || {});\n\n      var okBtnProps = _extends(_extends(_extends({\n        onClick: this.handleOk\n      }, convertLegacyProps(okType)), {\n        loading: confirmLoading\n      }), this.okButtonProps || {});\n\n      return _createVNode(\"div\", null, [_createVNode(Button, cancelBtnProps, {\n        default: function _default() {\n          return [getComponent(_this, 'cancelText') || locale.cancelText];\n        }\n      }), _createVNode(Button, okBtnProps, {\n        default: function _default() {\n          return [getComponent(_this, 'okText') || locale.okText];\n        }\n      })]);\n    }\n  },\n  render: function render() {\n    var customizePrefixCls = this.prefixCls,\n        visible = this.sVisible,\n        wrapClassName = this.wrapClassName,\n        centered = this.centered,\n        getContainer = this.getContainer,\n        $attrs = this.$attrs;\n    var children = getSlot(this);\n    var _this$configProvider = this.configProvider,\n        getPrefixCls = _this$configProvider.getPrefixCls,\n        getContextPopupContainer = _this$configProvider.getPopupContainer;\n    var prefixCls = getPrefixCls('modal', customizePrefixCls);\n\n    var defaultFooter = _createVNode(LocaleReceiver, {\n      \"componentName\": \"Modal\",\n      \"defaultLocale\": getConfirmLocale(),\n      \"children\": this.renderFooter\n    }, null);\n\n    var closeIcon = getComponent(this, 'closeIcon');\n\n    var closeIconToRender = _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-close-x\")\n    }, [closeIcon || _createVNode(CloseOutlined, {\n      \"class\": \"\".concat(prefixCls, \"-close-icon\")\n    }, null)]);\n\n    var footer = getComponent(this, 'footer');\n    var title = getComponent(this, 'title');\n\n    var dialogProps = _extends(_extends(_extends({}, this.$props), $attrs), {\n      getContainer: getContainer === undefined ? getContextPopupContainer : getContainer,\n      prefixCls: prefixCls,\n      wrapClassName: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-centered\"), !!centered), wrapClassName),\n      title: title,\n      footer: footer === undefined ? defaultFooter : footer,\n      visible: visible,\n      mousePosition: mousePosition,\n      closeIcon: closeIconToRender,\n      onClose: this.handleCancel\n    });\n\n    return _createVNode(Dialog, dialogProps, {\n      default: function _default() {\n        return [children];\n      }\n    });\n  }\n});"]},"metadata":{},"sourceType":"module"}