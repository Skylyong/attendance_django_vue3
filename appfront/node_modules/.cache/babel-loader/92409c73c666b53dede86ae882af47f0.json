{"ast":null,"code":"export default {\n  data() {\n    return {\n      userName: 'root',\n      passWord: 'root'\n    };\n  },\n\n  login() {\n    const self = this;\n    axios.get('https://easy-mock.com/mock/5c7cd0f89d0184e94358d/museum/login').then(response => {\n      var res = response.data.data,\n          len = res.length,\n          userNameArr = [],\n          passWordArr = [],\n          ses = window.sessionStorage; // 拿到所有的username\n\n      for (var i = 0; i < len; i++) {\n        userNameArr.push(res[i].username);\n        passWordArr.push(res[i].password);\n      }\n\n      console.log(userNameArr, passWordArr);\n\n      if (userNameArr.indexOf(this.userName) === -1) {\n        alert('账号不存在！');\n      } else {\n        var index = userNameArr.indexOf(this.userName);\n\n        if (passWordArr[index] === this.passWord) {\n          // 把token放在sessionStorage中\n          ses.setItem('data', res[index].token);\n          this.$parent.$data.userTitle = res[index].usertitle; //验证成功进入首页\n\n          this.startHacking('登录成功！'); //跳转到首页\n\n          this.$router.push('/index'); // console.log(this.$router);\n        } else {\n          alert('密码错误！');\n        }\n      }\n    }).catch(err => {\n      console.log('连接数据库失败！');\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAQC,eAAe;AACZA,MAAI,GAAG;AACH,WAAO;AACLC,cAAQ,EAAC,MADJ;AAELC,cAAQ,EAAC;AAFJ,KAAP;AAIH,GANW;;AAOXC,OAAK,GAAE;AACJ,UAAMC,IAAG,GAAI,IAAb;AACAC,SAAK,CAACC,GAAN,CAAU,+DAAV,EAA2EC,IAA3E,CAAgFC,QAAQ,IAAE;AACxF,UAAIC,GAAE,GAAGD,QAAQ,CAACR,IAAT,CAAcA,IAAvB;AAAA,UACIU,GAAE,GAAID,GAAG,CAACE,MADd;AAAA,UAEIC,WAAW,GAAE,EAFjB;AAAA,UAGIC,WAAW,GAAE,EAHjB;AAAA,UAIIC,GAAG,GAAEC,MAAM,CAACC,cAJhB,CADwF,CAMxF;;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACP,GAAf,EAAoBO,CAAC,EAArB,EAAwB;AACtBL,mBAAW,CAACM,IAAZ,CAAiBT,GAAG,CAACQ,CAAD,CAAH,CAAOE,QAAxB;AACAN,mBAAW,CAACK,IAAZ,CAAiBT,GAAG,CAACQ,CAAD,CAAH,CAAOG,QAAxB;AACF;;AACAC,aAAO,CAACC,GAAR,CAAYV,WAAZ,EAAyBC,WAAzB;;AACA,UAAGD,WAAW,CAACW,OAAZ,CAAoB,KAAKtB,QAAzB,MAAuC,CAAC,CAA3C,EAA6C;AACzCuB,aAAK,CAAC,QAAD,CAAL;AACH,OAFD,MAEK;AACH,YAAIC,KAAI,GAAIb,WAAW,CAACW,OAAZ,CAAoB,KAAKtB,QAAzB,CAAZ;;AACA,YAAGY,WAAW,CAACY,KAAD,CAAX,KAAuB,KAAKvB,QAA/B,EAAwC;AACtC;AACAY,aAAG,CAACY,OAAJ,CAAY,MAAZ,EAAoBjB,GAAG,CAACgB,KAAD,CAAH,CAAWE,KAA/B;AACA,eAAKC,OAAL,CAAaC,KAAb,CAAmBC,SAAnB,GAA+BrB,GAAG,CAACgB,KAAD,CAAH,CAAWM,SAA1C,CAHsC,CAItC;;AACA,eAAKC,YAAL,CAAmB,OAAnB,EALsC,CAMtC;;AACA,eAAKC,OAAL,CAAaf,IAAb,CAAkB,QAAlB,EAPsC,CAQtC;AACD,SATD,MASK;AACHM,eAAK,CAAC,OAAD,CAAL;AACF;AACF;AACD,KA7BD,EA6BGU,KA7BH,CA6BSC,GAAG,IAAE;AACZd,aAAO,CAACC,GAAR,CAAY,UAAZ;AACD,KA/BD;AAgCF;;AAzCU,CAAf","names":["data","userName","passWord","login","self","axios","get","then","response","res","len","length","userNameArr","passWordArr","ses","window","sessionStorage","i","push","username","password","console","log","indexOf","alert","index","setItem","token","$parent","$data","userTitle","usertitle","startHacking","$router","catch","err"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/views/login.vue"],"sourcesContent":["<template>\n<div>\n    <p>用户名：<input type='text' v-model=\"userName\"></p>\n    <p>密码：<input type='text' v-model=\"passWord\"></p>\n    <button @click=\"login()\">登录</button>\n</div>\n</template>\n<script>\n export default {\n    data() {\n        return {\n          userName:'root',\n          passWord:'root'\n        }\n    },\n     login(){\n        const self = this;\n        axios.get('https://easy-mock.com/mock/5c7cd0f89d0184e94358d/museum/login').then(response=>{\n          var res =response.data.data,\n              len = res.length,\n              userNameArr= [],\n              passWordArr= [],\n              ses= window.sessionStorage; \n          // 拿到所有的username\n          for(var i=0; i<len; i++){\n            userNameArr.push(res[i].username);\n            passWordArr.push(res[i].password);\n          }\n          console.log(userNameArr, passWordArr);\n          if(userNameArr.indexOf(this.userName) === -1){\n              alert('账号不存在！');\n          }else{\n            var index = userNameArr.indexOf(this.userName);\n            if(passWordArr[index] === this.passWord){\n              // 把token放在sessionStorage中\n              ses.setItem('data', res[index].token);\n              this.$parent.$data.userTitle = res[index].usertitle;\n              //验证成功进入首页\n              this.startHacking ('登录成功！');\n              //跳转到首页\n              this.$router.push('/index');\n              // console.log(this.$router);\n            }else{\n              alert('密码错误！')\n            }\n          }\n        }).catch(err=>{\n          console.log('连接数据库失败！')\n        })\n      }\n}\n</script>"]},"metadata":{},"sourceType":"module"}