{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { addUnit, truthProp, numericProp, preventDefault, makeStringProp, makeNumberProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs\";\nimport { useTouch } from \"../composables/use-touch\";\nimport { Icon } from \"../icon\";\nconst [name, bem] = createNamespace(\"rate\");\n\nfunction getRateStatus(value, index, allowHalf, readonly) {\n  if (value >= index) {\n    return {\n      status: \"full\",\n      value: 1\n    };\n  }\n\n  if (value + 0.5 >= index && allowHalf && !readonly) {\n    return {\n      status: \"half\",\n      value: 0.5\n    };\n  }\n\n  if (value + 1 >= index && allowHalf && readonly) {\n    const cardinal = 10 ** 10;\n    return {\n      status: \"half\",\n      value: Math.round((value - index + 1) * cardinal) / cardinal\n    };\n  }\n\n  return {\n    status: \"void\",\n    value: 0\n  };\n}\n\nconst rateProps = {\n  size: numericProp,\n  icon: makeStringProp(\"star\"),\n  color: String,\n  count: makeNumericProp(5),\n  gutter: numericProp,\n  readonly: Boolean,\n  disabled: Boolean,\n  voidIcon: makeStringProp(\"star-o\"),\n  allowHalf: Boolean,\n  voidColor: String,\n  touchable: truthProp,\n  iconPrefix: String,\n  modelValue: makeNumberProp(0),\n  disabledColor: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: rateProps,\n  emits: [\"change\", \"update:modelValue\"],\n\n  setup(props, {\n    emit\n  }) {\n    const touch = useTouch();\n    const [itemRefs, setItemRefs] = useRefs();\n\n    const untouchable = () => props.readonly || props.disabled || !props.touchable;\n\n    const list = computed(() => Array(+props.count).fill(\"\").map((_, i) => getRateStatus(props.modelValue, i + 1, props.allowHalf, props.readonly)));\n    let ranges;\n\n    const updateRanges = () => {\n      const rects = itemRefs.value.map(useRect);\n      ranges = [];\n      rects.forEach((rect, index) => {\n        if (props.allowHalf) {\n          ranges.push({\n            score: index + 0.5,\n            left: rect.left\n          }, {\n            score: index + 1,\n            left: rect.left + rect.width / 2\n          });\n        } else {\n          ranges.push({\n            score: index + 1,\n            left: rect.left\n          });\n        }\n      });\n    };\n\n    const getScoreByPosition = x => {\n      for (let i = ranges.length - 1; i > 0; i--) {\n        if (x > ranges[i].left) {\n          return ranges[i].score;\n        }\n      }\n\n      return props.allowHalf ? 0.5 : 1;\n    };\n\n    const select = index => {\n      if (!props.disabled && !props.readonly && index !== props.modelValue) {\n        emit(\"update:modelValue\", index);\n        emit(\"change\", index);\n      }\n    };\n\n    const onTouchStart = event => {\n      if (untouchable()) {\n        return;\n      }\n\n      touch.start(event);\n      updateRanges();\n    };\n\n    const onTouchMove = event => {\n      if (untouchable()) {\n        return;\n      }\n\n      touch.move(event);\n\n      if (touch.isHorizontal()) {\n        const {\n          clientX\n        } = event.touches[0];\n        preventDefault(event);\n        select(getScoreByPosition(clientX));\n      }\n    };\n\n    const renderStar = (item, index) => {\n      const {\n        icon,\n        size,\n        color,\n        count,\n        gutter,\n        voidIcon,\n        disabled,\n        voidColor,\n        allowHalf,\n        iconPrefix,\n        disabledColor\n      } = props;\n      const score = index + 1;\n      const isFull = item.status === \"full\";\n      const isVoid = item.status === \"void\";\n      const renderHalf = allowHalf && item.value > 0 && item.value < 1;\n      let style;\n\n      if (gutter && score !== +count) {\n        style = {\n          paddingRight: addUnit(gutter)\n        };\n      }\n\n      const onClickItem = event => {\n        updateRanges();\n        select(allowHalf ? getScoreByPosition(event.clientX) : score);\n      };\n\n      return _createVNode(\"div\", {\n        \"key\": index,\n        \"ref\": setItemRefs(index),\n        \"role\": \"radio\",\n        \"style\": style,\n        \"class\": bem(\"item\"),\n        \"tabindex\": disabled ? void 0 : 0,\n        \"aria-setsize\": count,\n        \"aria-posinset\": score,\n        \"aria-checked\": !isVoid,\n        \"onClick\": onClickItem\n      }, [_createVNode(Icon, {\n        \"size\": size,\n        \"name\": isFull ? icon : voidIcon,\n        \"class\": bem(\"icon\", {\n          disabled,\n          full: isFull\n        }),\n        \"color\": disabled ? disabledColor : isFull ? color : voidColor,\n        \"classPrefix\": iconPrefix\n      }, null), renderHalf && _createVNode(Icon, {\n        \"size\": size,\n        \"style\": {\n          width: item.value + \"em\"\n        },\n        \"name\": isVoid ? voidIcon : icon,\n        \"class\": bem(\"icon\", [\"half\", {\n          disabled,\n          full: !isVoid\n        }]),\n        \"color\": disabled ? disabledColor : isVoid ? voidColor : color,\n        \"classPrefix\": iconPrefix\n      }, null)]);\n    };\n\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"role\": \"radiogroup\",\n      \"class\": bem({\n        readonly: props.readonly,\n        disabled: props.disabled\n      }),\n      \"tabindex\": props.disabled ? void 0 : 0,\n      \"aria-disabled\": props.disabled,\n      \"aria-readonly\": props.readonly,\n      \"onTouchstart\": onTouchStart,\n      \"onTouchmove\": onTouchMove\n    }, [list.value.map(renderStar)]);\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/rate/Rate.js"],"names":["createVNode","_createVNode","computed","defineComponent","addUnit","truthProp","numericProp","preventDefault","makeStringProp","makeNumberProp","makeNumericProp","createNamespace","useRect","useCustomFieldValue","useRefs","useTouch","Icon","name","bem","getRateStatus","value","index","allowHalf","readonly","status","cardinal","Math","round","rateProps","size","icon","color","String","count","gutter","Boolean","disabled","voidIcon","voidColor","touchable","iconPrefix","modelValue","disabledColor","stdin_default","props","emits","setup","emit","touch","itemRefs","setItemRefs","untouchable","list","Array","fill","map","_","i","ranges","updateRanges","rects","forEach","rect","push","score","left","width","getScoreByPosition","x","length","select","onTouchStart","event","start","onTouchMove","move","isHorizontal","clientX","touches","renderStar","item","isFull","isVoid","renderHalf","style","paddingRight","onClickItem","full","default"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { addUnit, truthProp, numericProp, preventDefault, makeStringProp, makeNumberProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs\";\nimport { useTouch } from \"../composables/use-touch\";\nimport { Icon } from \"../icon\";\nconst [name, bem] = createNamespace(\"rate\");\nfunction getRateStatus(value, index, allowHalf, readonly) {\n  if (value >= index) {\n    return {\n      status: \"full\",\n      value: 1\n    };\n  }\n  if (value + 0.5 >= index && allowHalf && !readonly) {\n    return {\n      status: \"half\",\n      value: 0.5\n    };\n  }\n  if (value + 1 >= index && allowHalf && readonly) {\n    const cardinal = 10 ** 10;\n    return {\n      status: \"half\",\n      value: Math.round((value - index + 1) * cardinal) / cardinal\n    };\n  }\n  return {\n    status: \"void\",\n    value: 0\n  };\n}\nconst rateProps = {\n  size: numericProp,\n  icon: makeStringProp(\"star\"),\n  color: String,\n  count: makeNumericProp(5),\n  gutter: numericProp,\n  readonly: Boolean,\n  disabled: Boolean,\n  voidIcon: makeStringProp(\"star-o\"),\n  allowHalf: Boolean,\n  voidColor: String,\n  touchable: truthProp,\n  iconPrefix: String,\n  modelValue: makeNumberProp(0),\n  disabledColor: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: rateProps,\n  emits: [\"change\", \"update:modelValue\"],\n  setup(props, {\n    emit\n  }) {\n    const touch = useTouch();\n    const [itemRefs, setItemRefs] = useRefs();\n    const untouchable = () => props.readonly || props.disabled || !props.touchable;\n    const list = computed(() => Array(+props.count).fill(\"\").map((_, i) => getRateStatus(props.modelValue, i + 1, props.allowHalf, props.readonly)));\n    let ranges;\n    const updateRanges = () => {\n      const rects = itemRefs.value.map(useRect);\n      ranges = [];\n      rects.forEach((rect, index) => {\n        if (props.allowHalf) {\n          ranges.push({\n            score: index + 0.5,\n            left: rect.left\n          }, {\n            score: index + 1,\n            left: rect.left + rect.width / 2\n          });\n        } else {\n          ranges.push({\n            score: index + 1,\n            left: rect.left\n          });\n        }\n      });\n    };\n    const getScoreByPosition = (x) => {\n      for (let i = ranges.length - 1; i > 0; i--) {\n        if (x > ranges[i].left) {\n          return ranges[i].score;\n        }\n      }\n      return props.allowHalf ? 0.5 : 1;\n    };\n    const select = (index) => {\n      if (!props.disabled && !props.readonly && index !== props.modelValue) {\n        emit(\"update:modelValue\", index);\n        emit(\"change\", index);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (untouchable()) {\n        return;\n      }\n      touch.start(event);\n      updateRanges();\n    };\n    const onTouchMove = (event) => {\n      if (untouchable()) {\n        return;\n      }\n      touch.move(event);\n      if (touch.isHorizontal()) {\n        const {\n          clientX\n        } = event.touches[0];\n        preventDefault(event);\n        select(getScoreByPosition(clientX));\n      }\n    };\n    const renderStar = (item, index) => {\n      const {\n        icon,\n        size,\n        color,\n        count,\n        gutter,\n        voidIcon,\n        disabled,\n        voidColor,\n        allowHalf,\n        iconPrefix,\n        disabledColor\n      } = props;\n      const score = index + 1;\n      const isFull = item.status === \"full\";\n      const isVoid = item.status === \"void\";\n      const renderHalf = allowHalf && item.value > 0 && item.value < 1;\n      let style;\n      if (gutter && score !== +count) {\n        style = {\n          paddingRight: addUnit(gutter)\n        };\n      }\n      const onClickItem = (event) => {\n        updateRanges();\n        select(allowHalf ? getScoreByPosition(event.clientX) : score);\n      };\n      return _createVNode(\"div\", {\n        \"key\": index,\n        \"ref\": setItemRefs(index),\n        \"role\": \"radio\",\n        \"style\": style,\n        \"class\": bem(\"item\"),\n        \"tabindex\": disabled ? void 0 : 0,\n        \"aria-setsize\": count,\n        \"aria-posinset\": score,\n        \"aria-checked\": !isVoid,\n        \"onClick\": onClickItem\n      }, [_createVNode(Icon, {\n        \"size\": size,\n        \"name\": isFull ? icon : voidIcon,\n        \"class\": bem(\"icon\", {\n          disabled,\n          full: isFull\n        }),\n        \"color\": disabled ? disabledColor : isFull ? color : voidColor,\n        \"classPrefix\": iconPrefix\n      }, null), renderHalf && _createVNode(Icon, {\n        \"size\": size,\n        \"style\": {\n          width: item.value + \"em\"\n        },\n        \"name\": isVoid ? voidIcon : icon,\n        \"class\": bem(\"icon\", [\"half\", {\n          disabled,\n          full: !isVoid\n        }]),\n        \"color\": disabled ? disabledColor : isVoid ? voidColor : color,\n        \"classPrefix\": iconPrefix\n      }, null)]);\n    };\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"role\": \"radiogroup\",\n      \"class\": bem({\n        readonly: props.readonly,\n        disabled: props.disabled\n      }),\n      \"tabindex\": props.disabled ? void 0 : 0,\n      \"aria-disabled\": props.disabled,\n      \"aria-readonly\": props.readonly,\n      \"onTouchstart\": onTouchStart,\n      \"onTouchmove\": onTouchMove\n    }, [list.value.map(renderStar)]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}