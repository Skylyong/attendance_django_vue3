{"ast":null,"code":"import XEUtils from 'xe-utils';\nimport { browse } from './dom';\nexport var EVENT_KEYS = {\n  F2: 'F2',\n  ESCAPE: 'Escape',\n  ENTER: 'Enter',\n  TAB: 'Tab',\n  DELETE: 'Delete',\n  BACKSPACE: 'Backspace',\n  SPACEBAR: ' ',\n  CONTEXT_MENU: 'ContextMenu',\n  ARROW_UP: 'ArrowUp',\n  ARROW_DOWN: 'ArrowDown',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight',\n  PAGE_UP: 'PageUp',\n  PAGE_DOWN: 'PageDown'\n};\nvar convertEventKeys = {\n  ' ': 'Spacebar',\n  Apps: EVENT_KEYS.CONTEXT_MENU,\n  Del: EVENT_KEYS.DELETE,\n  Up: EVENT_KEYS.ARROW_UP,\n  Down: EVENT_KEYS.ARROW_DOWN,\n  Left: EVENT_KEYS.ARROW_LEFT,\n  Right: EVENT_KEYS.ARROW_RIGHT\n}; // 监听全局事件\n\nvar wheelName = browse.firefox ? 'DOMMouseScroll' : 'mousewheel';\nvar eventStore = [];\nexport var hasEventKey = function (evnt, targetKey) {\n  var key = evnt.key;\n  targetKey = targetKey.toLowerCase();\n  return key ? targetKey === key.toLowerCase() || !!(convertEventKeys[key] && convertEventKeys[key].toLowerCase() === targetKey) : false;\n};\n\nfunction triggerEvent(evnt) {\n  var isWheel = evnt.type === wheelName;\n  eventStore.forEach(function (_a) {\n    var type = _a.type,\n        cb = _a.cb; // 如果被取消冒泡，不再执行\n\n    if (!evnt.cancelBubble) {\n      if (type === evnt.type || isWheel && type === 'mousewheel') {\n        cb(evnt);\n      }\n    }\n  });\n}\n\nexport var GlobalEvent = {\n  on: function (comp, type, cb) {\n    eventStore.push({\n      comp: comp,\n      type: type,\n      cb: cb\n    });\n  },\n  off: function (comp, type) {\n    XEUtils.remove(eventStore, function (item) {\n      return item.comp === comp && item.type === type;\n    });\n  },\n  trigger: triggerEvent,\n  eqKeypad: function (evnt, keyVal) {\n    var key = evnt.key;\n\n    if (keyVal.toLowerCase() === key.toLowerCase()) {\n      return true;\n    }\n\n    return false;\n  }\n};\n\nif (browse.isDoc) {\n  if (!browse.msie) {\n    document.addEventListener('copy', triggerEvent, false);\n    document.addEventListener('cut', triggerEvent, false);\n    document.addEventListener('paste', triggerEvent, false);\n  }\n\n  document.addEventListener('keydown', triggerEvent, false);\n  document.addEventListener('contextmenu', triggerEvent, false);\n  window.addEventListener('mousedown', triggerEvent, false);\n  window.addEventListener('blur', triggerEvent, false);\n  window.addEventListener('resize', triggerEvent, false);\n  window.addEventListener(wheelName, XEUtils.throttle(triggerEvent, 100, {\n    leading: true,\n    trailing: false\n  }), {\n    passive: true,\n    capture: false\n  });\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/tools/event.js"],"names":["XEUtils","browse","EVENT_KEYS","F2","ESCAPE","ENTER","TAB","DELETE","BACKSPACE","SPACEBAR","CONTEXT_MENU","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","PAGE_UP","PAGE_DOWN","convertEventKeys","Apps","Del","Up","Down","Left","Right","wheelName","firefox","eventStore","hasEventKey","evnt","targetKey","key","toLowerCase","triggerEvent","isWheel","type","forEach","_a","cb","cancelBubble","GlobalEvent","on","comp","push","off","remove","item","trigger","eqKeypad","keyVal","isDoc","msie","document","addEventListener","window","throttle","leading","trailing","passive","capture"],"mappings":"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","sourcesContent":["import XEUtils from 'xe-utils';\nimport { browse } from './dom';\nexport var EVENT_KEYS = {\n    F2: 'F2',\n    ESCAPE: 'Escape',\n    ENTER: 'Enter',\n    TAB: 'Tab',\n    DELETE: 'Delete',\n    BACKSPACE: 'Backspace',\n    SPACEBAR: ' ',\n    CONTEXT_MENU: 'ContextMenu',\n    ARROW_UP: 'ArrowUp',\n    ARROW_DOWN: 'ArrowDown',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_RIGHT: 'ArrowRight',\n    PAGE_UP: 'PageUp',\n    PAGE_DOWN: 'PageDown'\n};\nvar convertEventKeys = {\n    ' ': 'Spacebar',\n    Apps: EVENT_KEYS.CONTEXT_MENU,\n    Del: EVENT_KEYS.DELETE,\n    Up: EVENT_KEYS.ARROW_UP,\n    Down: EVENT_KEYS.ARROW_DOWN,\n    Left: EVENT_KEYS.ARROW_LEFT,\n    Right: EVENT_KEYS.ARROW_RIGHT\n};\n// 监听全局事件\nvar wheelName = browse.firefox ? 'DOMMouseScroll' : 'mousewheel';\nvar eventStore = [];\nexport var hasEventKey = function (evnt, targetKey) {\n    var key = evnt.key;\n    targetKey = targetKey.toLowerCase();\n    return key ? (targetKey === key.toLowerCase() || !!(convertEventKeys[key] && convertEventKeys[key].toLowerCase() === targetKey)) : false;\n};\nfunction triggerEvent(evnt) {\n    var isWheel = evnt.type === wheelName;\n    eventStore.forEach(function (_a) {\n        var type = _a.type, cb = _a.cb;\n        // 如果被取消冒泡，不再执行\n        if (!evnt.cancelBubble) {\n            if (type === evnt.type || (isWheel && type === 'mousewheel')) {\n                cb(evnt);\n            }\n        }\n    });\n}\nexport var GlobalEvent = {\n    on: function (comp, type, cb) {\n        eventStore.push({ comp: comp, type: type, cb: cb });\n    },\n    off: function (comp, type) {\n        XEUtils.remove(eventStore, function (item) { return item.comp === comp && item.type === type; });\n    },\n    trigger: triggerEvent,\n    eqKeypad: function (evnt, keyVal) {\n        var key = evnt.key;\n        if (keyVal.toLowerCase() === key.toLowerCase()) {\n            return true;\n        }\n        return false;\n    }\n};\nif (browse.isDoc) {\n    if (!browse.msie) {\n        document.addEventListener('copy', triggerEvent, false);\n        document.addEventListener('cut', triggerEvent, false);\n        document.addEventListener('paste', triggerEvent, false);\n    }\n    document.addEventListener('keydown', triggerEvent, false);\n    document.addEventListener('contextmenu', triggerEvent, false);\n    window.addEventListener('mousedown', triggerEvent, false);\n    window.addEventListener('blur', triggerEvent, false);\n    window.addEventListener('resize', triggerEvent, false);\n    window.addEventListener(wheelName, XEUtils.throttle(triggerEvent, 100, { leading: true, trailing: false }), { passive: true, capture: false });\n}\n"]},"metadata":{},"sourceType":"module"}