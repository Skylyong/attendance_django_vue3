{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport omit from 'omit.js';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport warning from '../_util/warning';\nimport TransButton from '../_util/transButton';\nimport raf from '../_util/raf';\nimport isStyleSupport from '../_util/styleChecker';\nimport Editable from './Editable';\nimport measure from './util';\nimport PropTypes from '../_util/vue-types';\nimport Typography from './Typography';\nimport ResizeObserver from '../vc-resize-observer';\nimport Tooltip from '../tooltip';\nimport copy from '../_util/copy-to-clipboard';\nimport CheckOutlined from '@ant-design/icons-vue/CheckOutlined';\nimport CopyOutlined from '@ant-design/icons-vue/CopyOutlined';\nimport EditOutlined from '@ant-design/icons-vue/EditOutlined';\nimport { defineComponent, reactive, ref, onMounted, onBeforeUnmount, watch, watchEffect, nextTick, computed, toRaw } from 'vue';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nvar isLineClampSupport = isStyleSupport('webkitLineClamp');\nvar isTextOverflowSupport = isStyleSupport('textOverflow');\nvar ELLIPSIS_STR = '...';\nvar Base = defineComponent({\n  name: 'Base',\n  inheritAttrs: false,\n  emits: ['update:content'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = useConfigInject('typography', props),\n        prefixCls = _useConfigInject.prefixCls;\n\n    var state = reactive({\n      edit: false,\n      copied: false,\n      ellipsisText: '',\n      ellipsisContent: null,\n      isEllipsis: false,\n      expanded: false,\n      clientRendered: false,\n      //locale\n      expandStr: '',\n      copyStr: '',\n      copiedStr: '',\n      editStr: '',\n      copyId: undefined,\n      rafId: undefined,\n      prevProps: undefined,\n      originContent: ''\n    });\n    var contentRef = ref();\n    var editIcon = ref();\n    var ellipsis = computed(function () {\n      var ellipsis = props.ellipsis;\n      if (!ellipsis) return {};\n      return _extends({\n        rows: 1,\n        expandable: false\n      }, _typeof(ellipsis) === 'object' ? ellipsis : null);\n    });\n    onMounted(function () {\n      state.clientRendered = true;\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(state.copyId);\n      raf.cancel(state.rafId);\n    });\n    watch([function () {\n      return ellipsis.value.rows;\n    }, function () {\n      return props.content;\n    }], function () {\n      nextTick(function () {\n        resizeOnNextFrame();\n      });\n    }, {\n      flush: 'post',\n      deep: true,\n      immediate: true\n    });\n    watchEffect(function () {\n      if (props.content === undefined) {\n        warning(!props.editable, 'Typography', 'When `editable` is enabled, please use `content` instead of children');\n        warning(!props.ellipsis, 'Typography', 'When `ellipsis` is enabled, please use `content` instead of children');\n      }\n    });\n\n    function getChildrenText() {\n      var _a, _b;\n\n      return props.ellipsis || props.editable ? props.content : (_b = (_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.innerText;\n    } // =============== Expand ===============\n\n\n    function onExpandClick(e) {\n      var onExpand = ellipsis.value.onExpand;\n      state.expanded = true;\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(e);\n    } // ================ Edit ================\n\n\n    function onEditClick(e) {\n      e.preventDefault();\n      state.originContent = props.content;\n      triggerEdit(true);\n    }\n\n    function onEditChange(value) {\n      onContentChange(value);\n      triggerEdit(false);\n    }\n\n    function onContentChange(value) {\n      var onChange = editable.value.onChange;\n\n      if (value !== props.content) {\n        emit('update:content', value);\n        onChange === null || onChange === void 0 ? void 0 : onChange(value);\n      }\n    }\n\n    function onEditCancel() {\n      var _a, _b;\n\n      (_b = (_a = editable.value).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);\n      triggerEdit(false);\n    } // ================ Copy ================\n\n\n    function onCopyClick(e) {\n      e.preventDefault();\n      var copyable = props.copyable;\n\n      var copyConfig = _extends({}, _typeof(copyable) === 'object' ? copyable : null);\n\n      if (copyConfig.text === undefined) {\n        copyConfig.text = getChildrenText();\n      }\n\n      copy(copyConfig.text || '');\n      state.copied = true;\n      nextTick(function () {\n        if (copyConfig.onCopy) {\n          copyConfig.onCopy();\n        }\n\n        state.copyId = window.setTimeout(function () {\n          state.copied = false;\n        }, 3000);\n      });\n    }\n\n    var editable = computed(function () {\n      var editable = props.editable;\n      if (!editable) return {\n        editing: state.edit\n      };\n      return _extends({\n        editing: state.edit\n      }, _typeof(editable) === 'object' ? editable : null);\n    });\n\n    function triggerEdit(edit) {\n      var onStart = editable.value.onStart;\n\n      if (edit && onStart) {\n        onStart();\n      }\n\n      state.edit = edit;\n      nextTick(function () {\n        var _a;\n\n        if (!edit) {\n          (_a = editIcon.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n      });\n    } // ============== Ellipsis ==============\n\n\n    function resizeOnNextFrame() {\n      raf.cancel(state.rafId);\n      state.rafId = raf(function () {\n        // Do not bind `syncEllipsis`. It need for test usage on prototype\n        syncEllipsis();\n      });\n    }\n\n    var canUseCSSEllipsis = computed(function () {\n      var _ellipsis$value = ellipsis.value,\n          rows = _ellipsis$value.rows,\n          expandable = _ellipsis$value.expandable,\n          suffix = _ellipsis$value.suffix,\n          onEllipsis = _ellipsis$value.onEllipsis,\n          tooltip = _ellipsis$value.tooltip;\n      if (suffix || tooltip) return false; // Can't use css ellipsis since we need to provide the place for button\n\n      if (props.editable || props.copyable || expandable || onEllipsis) {\n        return false;\n      }\n\n      if (rows === 1) {\n        return isTextOverflowSupport;\n      }\n\n      return isLineClampSupport;\n    });\n\n    var syncEllipsis = function syncEllipsis() {\n      var _a, _b;\n\n      var ellipsisText = state.ellipsisText,\n          isEllipsis = state.isEllipsis;\n      var _ellipsis$value2 = ellipsis.value,\n          rows = _ellipsis$value2.rows,\n          suffix = _ellipsis$value2.suffix,\n          onEllipsis = _ellipsis$value2.onEllipsis;\n      if (!rows || rows < 0 || !((_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) || state.expanded || props.content === undefined) return; // Do not measure if css already support ellipsis\n\n      if (canUseCSSEllipsis.value) return;\n\n      var _measure = measure((_b = contentRef.value) === null || _b === void 0 ? void 0 : _b.$el, {\n        rows: rows,\n        suffix: suffix\n      }, props.content, renderOperations(true), ELLIPSIS_STR),\n          content = _measure.content,\n          text = _measure.text,\n          ell = _measure.ellipsis;\n\n      if (ellipsisText !== text || state.isEllipsis !== ell) {\n        state.ellipsisText = text;\n        state.ellipsisContent = content;\n        state.isEllipsis = ell;\n\n        if (isEllipsis !== ell && onEllipsis) {\n          onEllipsis(ell);\n        }\n      }\n    };\n\n    function wrapperDecorations(_ref2, content) {\n      var mark = _ref2.mark,\n          code = _ref2.code,\n          underline = _ref2.underline,\n          del = _ref2.delete,\n          strong = _ref2.strong,\n          keyboard = _ref2.keyboard;\n      var currentContent = content;\n\n      function wrap(needed, Tag) {\n        if (!needed) return;\n\n        var _currentContent = function () {\n          return currentContent;\n        }();\n\n        currentContent = _createVNode(Tag, null, {\n          default: function _default() {\n            return [_currentContent];\n          }\n        });\n      }\n\n      wrap(strong, 'strong');\n      wrap(underline, 'u');\n      wrap(del, 'del');\n      wrap(code, 'code');\n      wrap(mark, 'mark');\n      wrap(keyboard, 'kbd');\n      return currentContent;\n    }\n\n    function renderExpand(forceRender) {\n      var _ellipsis$value3 = ellipsis.value,\n          expandable = _ellipsis$value3.expandable,\n          symbol = _ellipsis$value3.symbol;\n      if (!expandable) return null; // force render expand icon for measure usage or it will cause dead loop\n\n      if (!forceRender && (state.expanded || !state.isEllipsis)) return null;\n      var expandContent = (slots.ellipsisSymbol ? slots.ellipsisSymbol() : symbol) || state.expandStr;\n      return _createVNode(\"a\", {\n        \"key\": \"expand\",\n        \"class\": \"\".concat(prefixCls.value, \"-expand\"),\n        \"onClick\": onExpandClick,\n        \"aria-label\": state.expandStr\n      }, [expandContent]);\n    }\n\n    function renderEdit() {\n      if (!props.editable) return;\n      var tooltip = props.editable.tooltip;\n      var icon = slots.editableIcon ? slots.editableIcon() : _createVNode(EditOutlined, {\n        \"role\": \"button\"\n      }, null);\n      var title = slots.editableTooltip ? slots.editableTooltip() : state.editStr;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      return _createVNode(Tooltip, {\n        \"key\": \"edit\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"ref\": editIcon,\n            \"class\": \"\".concat(prefixCls.value, \"-edit\"),\n            \"onClick\": onEditClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderCopy() {\n      if (!props.copyable) return;\n      var tooltip = props.copyable.tooltip;\n      var defaultTitle = state.copied ? state.copiedStr : state.copyStr;\n      var title = slots.copyableTooltip ? slots.copyableTooltip({\n        copied: state.copied\n      }) : defaultTitle;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      var defaultIcon = state.copied ? _createVNode(CheckOutlined, null, null) : _createVNode(CopyOutlined, null, null);\n      var icon = slots.copyableIcon ? slots.copyableIcon({\n        copied: !!state.copied\n      }) : defaultIcon;\n      return _createVNode(Tooltip, {\n        \"key\": \"copy\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"class\": [\"\".concat(prefixCls.value, \"-copy\"), _defineProperty({}, \"\".concat(prefixCls.value, \"-copy-success\"), state.copied)],\n            \"onClick\": onCopyClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderEditInput() {\n      var className = attrs.class,\n          style = attrs.style;\n      var _editable$value = editable.value,\n          maxlength = _editable$value.maxlength,\n          autoSize = _editable$value.autoSize,\n          onEnd = _editable$value.onEnd;\n      return _createVNode(Editable, {\n        \"class\": className,\n        \"style\": style,\n        \"prefixCls\": prefixCls.value,\n        \"value\": props.content,\n        \"originContent\": state.originContent,\n        \"maxlength\": maxlength,\n        \"autoSize\": autoSize,\n        \"onSave\": onEditChange,\n        \"onChange\": onContentChange,\n        \"onCancel\": onEditCancel,\n        \"onEnd\": onEnd\n      }, null);\n    }\n\n    function renderOperations(forceRenderExpanded) {\n      return [renderExpand(forceRenderExpanded), renderEdit(), renderCopy()].filter(function (node) {\n        return node;\n      });\n    }\n\n    return function () {\n      var _a;\n\n      var editing = editable.value.editing;\n\n      var _children = props.ellipsis || props.editable ? props.content !== undefined ? props.content : (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots) : slots.default ? slots.default() : props.content;\n\n      if (editing) {\n        return renderEditInput();\n      }\n\n      return _createVNode(LocaleReceiver, {\n        \"componentName\": \"Text\",\n        \"children\": function children(locale) {\n          var _ref4;\n\n          var _a = _extends(_extends({}, props), attrs),\n              type = _a.type,\n              disabled = _a.disabled,\n              content = _a.content,\n              className = _a.class,\n              style = _a.style,\n              restProps = __rest(_a, [\"type\", \"disabled\", \"content\", \"class\", \"style\"]);\n\n          var _ellipsis$value4 = ellipsis.value,\n              rows = _ellipsis$value4.rows,\n              suffix = _ellipsis$value4.suffix,\n              tooltip = _ellipsis$value4.tooltip;\n          var edit = locale.edit,\n              copyStr = locale.copy,\n              copied = locale.copied,\n              expand = locale.expand;\n          state.editStr = edit;\n          state.copyStr = copyStr;\n          state.copiedStr = copied;\n          state.expandStr = expand;\n          var textProps = omit(restProps, ['prefixCls', 'editable', 'copyable', 'ellipsis', 'mark', 'code', 'delete', 'underline', 'strong', 'keyboard']);\n          var cssEllipsis = canUseCSSEllipsis.value;\n          var cssTextOverflow = rows === 1 && cssEllipsis;\n          var cssLineClamp = rows && rows > 1 && cssEllipsis;\n          var textNode = _children;\n          var ariaLabel; // Only use js ellipsis when css ellipsis not support\n\n          if (rows && state.isEllipsis && !state.expanded && !cssEllipsis) {\n            var _title = restProps.title;\n            var restContent = _title || '';\n\n            if (!_title && (typeof _children === 'string' || typeof _children === 'number')) {\n              restContent = String(_children);\n            } // show rest content as title on symbol\n\n\n            restContent = restContent === null || restContent === void 0 ? void 0 : restContent.slice(String(state.ellipsisContent || '').length); // We move full content to outer element to avoid repeat read the content by accessibility\n\n            textNode = _createVNode(_Fragment, null, [toRaw(state.ellipsisContent), _createVNode(\"span\", {\n              \"title\": restContent,\n              \"aria-hidden\": \"true\"\n            }, [ELLIPSIS_STR]), suffix]);\n          } else {\n            textNode = _createVNode(_Fragment, null, [_children, suffix]);\n          }\n\n          textNode = wrapperDecorations(props, textNode);\n          var showTooltip = tooltip && rows && state.isEllipsis && !state.expanded && !cssEllipsis;\n          var title = slots.ellipsisTooltip ? slots.ellipsisTooltip() : tooltip;\n          return _createVNode(ResizeObserver, {\n            \"onResize\": resizeOnNextFrame,\n            \"disabled\": !rows\n          }, {\n            default: function _default() {\n              return [_createVNode(Typography, _objectSpread({\n                \"ref\": contentRef,\n                \"class\": [(_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-\").concat(type), type), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-disabled\"), disabled), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis\"), rows), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-single-line\"), rows === 1), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-single-line\"), cssTextOverflow), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-multiple-line\"), cssLineClamp), _ref4), className],\n                \"style\": _extends(_extends({}, style), {\n                  WebkitLineClamp: cssLineClamp ? rows : undefined\n                }),\n                \"aria-label\": ariaLabel\n              }, textProps), {\n                default: function _default() {\n                  return [showTooltip ? _createVNode(Tooltip, {\n                    \"title\": tooltip === true ? _children : title\n                  }, {\n                    default: function _default() {\n                      return [_createVNode(\"span\", null, [textNode])];\n                    }\n                  }) : textNode, renderOperations()];\n                }\n              })];\n            }\n          });\n        }\n      }, null);\n    };\n  }\n});\nexport var baseProps = function baseProps() {\n  return {\n    editable: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    copyable: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    prefixCls: PropTypes.string,\n    component: PropTypes.string,\n    type: PropTypes.oneOf(['secondary', 'success', 'danger', 'warning']),\n    disabled: PropTypes.looseBool,\n    ellipsis: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    code: PropTypes.looseBool,\n    mark: PropTypes.looseBool,\n    underline: PropTypes.looseBool,\n    delete: PropTypes.looseBool,\n    strong: PropTypes.looseBool,\n    keyboard: PropTypes.looseBool,\n    content: PropTypes.string\n  };\n};\nBase.props = baseProps();\nexport default Base;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/typography/Base.js"],"names":["_objectSpread","_defineProperty","_typeof","_extends","Fragment","_Fragment","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","omit","LocaleReceiver","warning","TransButton","raf","isStyleSupport","Editable","measure","PropTypes","Typography","ResizeObserver","Tooltip","copy","CheckOutlined","CopyOutlined","EditOutlined","defineComponent","reactive","ref","onMounted","onBeforeUnmount","watch","watchEffect","nextTick","computed","toRaw","useConfigInject","isLineClampSupport","isTextOverflowSupport","ELLIPSIS_STR","Base","name","inheritAttrs","emits","setup","props","_ref","slots","attrs","emit","_useConfigInject","prefixCls","state","edit","copied","ellipsisText","ellipsisContent","isEllipsis","expanded","clientRendered","expandStr","copyStr","copiedStr","editStr","copyId","undefined","rafId","prevProps","originContent","contentRef","editIcon","ellipsis","rows","expandable","window","clearTimeout","cancel","value","content","resizeOnNextFrame","flush","deep","immediate","editable","getChildrenText","_a","_b","$el","innerText","onExpandClick","onExpand","onEditClick","preventDefault","triggerEdit","onEditChange","onContentChange","onChange","onEditCancel","onCancel","onCopyClick","copyable","copyConfig","text","onCopy","setTimeout","editing","onStart","focus","syncEllipsis","canUseCSSEllipsis","_ellipsis$value","suffix","onEllipsis","tooltip","_ellipsis$value2","_measure","renderOperations","ell","wrapperDecorations","_ref2","mark","code","underline","del","delete","strong","keyboard","currentContent","wrap","needed","Tag","_currentContent","default","_default","renderExpand","forceRender","_ellipsis$value3","symbol","expandContent","ellipsisSymbol","concat","renderEdit","icon","editableIcon","title","editableTooltip","ariaLabel","renderCopy","defaultTitle","copyableTooltip","defaultIcon","copyableIcon","renderEditInput","className","class","style","_editable$value","maxlength","autoSize","onEnd","forceRenderExpanded","filter","node","_children","children","locale","_ref4","type","disabled","restProps","_ellipsis$value4","expand","textProps","cssEllipsis","cssTextOverflow","cssLineClamp","textNode","_title","restContent","String","slice","showTooltip","ellipsisTooltip","WebkitLineClamp","baseProps","oneOfType","looseBool","object","string","component","oneOf"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport omit from 'omit.js';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport warning from '../_util/warning';\nimport TransButton from '../_util/transButton';\nimport raf from '../_util/raf';\nimport isStyleSupport from '../_util/styleChecker';\nimport Editable from './Editable';\nimport measure from './util';\nimport PropTypes from '../_util/vue-types';\nimport Typography from './Typography';\nimport ResizeObserver from '../vc-resize-observer';\nimport Tooltip from '../tooltip';\nimport copy from '../_util/copy-to-clipboard';\nimport CheckOutlined from '@ant-design/icons-vue/CheckOutlined';\nimport CopyOutlined from '@ant-design/icons-vue/CopyOutlined';\nimport EditOutlined from '@ant-design/icons-vue/EditOutlined';\nimport { defineComponent, reactive, ref, onMounted, onBeforeUnmount, watch, watchEffect, nextTick, computed, toRaw } from 'vue';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nvar isLineClampSupport = isStyleSupport('webkitLineClamp');\nvar isTextOverflowSupport = isStyleSupport('textOverflow');\nvar ELLIPSIS_STR = '...';\nvar Base = defineComponent({\n  name: 'Base',\n  inheritAttrs: false,\n  emits: ['update:content'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = useConfigInject('typography', props),\n        prefixCls = _useConfigInject.prefixCls;\n\n    var state = reactive({\n      edit: false,\n      copied: false,\n      ellipsisText: '',\n      ellipsisContent: null,\n      isEllipsis: false,\n      expanded: false,\n      clientRendered: false,\n      //locale\n      expandStr: '',\n      copyStr: '',\n      copiedStr: '',\n      editStr: '',\n      copyId: undefined,\n      rafId: undefined,\n      prevProps: undefined,\n      originContent: ''\n    });\n    var contentRef = ref();\n    var editIcon = ref();\n    var ellipsis = computed(function () {\n      var ellipsis = props.ellipsis;\n      if (!ellipsis) return {};\n      return _extends({\n        rows: 1,\n        expandable: false\n      }, _typeof(ellipsis) === 'object' ? ellipsis : null);\n    });\n    onMounted(function () {\n      state.clientRendered = true;\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(state.copyId);\n      raf.cancel(state.rafId);\n    });\n    watch([function () {\n      return ellipsis.value.rows;\n    }, function () {\n      return props.content;\n    }], function () {\n      nextTick(function () {\n        resizeOnNextFrame();\n      });\n    }, {\n      flush: 'post',\n      deep: true,\n      immediate: true\n    });\n    watchEffect(function () {\n      if (props.content === undefined) {\n        warning(!props.editable, 'Typography', 'When `editable` is enabled, please use `content` instead of children');\n        warning(!props.ellipsis, 'Typography', 'When `ellipsis` is enabled, please use `content` instead of children');\n      }\n    });\n\n    function getChildrenText() {\n      var _a, _b;\n\n      return props.ellipsis || props.editable ? props.content : (_b = (_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.innerText;\n    } // =============== Expand ===============\n\n\n    function onExpandClick(e) {\n      var onExpand = ellipsis.value.onExpand;\n      state.expanded = true;\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(e);\n    } // ================ Edit ================\n\n\n    function onEditClick(e) {\n      e.preventDefault();\n      state.originContent = props.content;\n      triggerEdit(true);\n    }\n\n    function onEditChange(value) {\n      onContentChange(value);\n      triggerEdit(false);\n    }\n\n    function onContentChange(value) {\n      var onChange = editable.value.onChange;\n\n      if (value !== props.content) {\n        emit('update:content', value);\n        onChange === null || onChange === void 0 ? void 0 : onChange(value);\n      }\n    }\n\n    function onEditCancel() {\n      var _a, _b;\n\n      (_b = (_a = editable.value).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);\n      triggerEdit(false);\n    } // ================ Copy ================\n\n\n    function onCopyClick(e) {\n      e.preventDefault();\n      var copyable = props.copyable;\n\n      var copyConfig = _extends({}, _typeof(copyable) === 'object' ? copyable : null);\n\n      if (copyConfig.text === undefined) {\n        copyConfig.text = getChildrenText();\n      }\n\n      copy(copyConfig.text || '');\n      state.copied = true;\n      nextTick(function () {\n        if (copyConfig.onCopy) {\n          copyConfig.onCopy();\n        }\n\n        state.copyId = window.setTimeout(function () {\n          state.copied = false;\n        }, 3000);\n      });\n    }\n\n    var editable = computed(function () {\n      var editable = props.editable;\n      if (!editable) return {\n        editing: state.edit\n      };\n      return _extends({\n        editing: state.edit\n      }, _typeof(editable) === 'object' ? editable : null);\n    });\n\n    function triggerEdit(edit) {\n      var onStart = editable.value.onStart;\n\n      if (edit && onStart) {\n        onStart();\n      }\n\n      state.edit = edit;\n      nextTick(function () {\n        var _a;\n\n        if (!edit) {\n          (_a = editIcon.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n      });\n    } // ============== Ellipsis ==============\n\n\n    function resizeOnNextFrame() {\n      raf.cancel(state.rafId);\n      state.rafId = raf(function () {\n        // Do not bind `syncEllipsis`. It need for test usage on prototype\n        syncEllipsis();\n      });\n    }\n\n    var canUseCSSEllipsis = computed(function () {\n      var _ellipsis$value = ellipsis.value,\n          rows = _ellipsis$value.rows,\n          expandable = _ellipsis$value.expandable,\n          suffix = _ellipsis$value.suffix,\n          onEllipsis = _ellipsis$value.onEllipsis,\n          tooltip = _ellipsis$value.tooltip;\n      if (suffix || tooltip) return false; // Can't use css ellipsis since we need to provide the place for button\n\n      if (props.editable || props.copyable || expandable || onEllipsis) {\n        return false;\n      }\n\n      if (rows === 1) {\n        return isTextOverflowSupport;\n      }\n\n      return isLineClampSupport;\n    });\n\n    var syncEllipsis = function syncEllipsis() {\n      var _a, _b;\n\n      var ellipsisText = state.ellipsisText,\n          isEllipsis = state.isEllipsis;\n      var _ellipsis$value2 = ellipsis.value,\n          rows = _ellipsis$value2.rows,\n          suffix = _ellipsis$value2.suffix,\n          onEllipsis = _ellipsis$value2.onEllipsis;\n      if (!rows || rows < 0 || !((_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) || state.expanded || props.content === undefined) return; // Do not measure if css already support ellipsis\n\n      if (canUseCSSEllipsis.value) return;\n\n      var _measure = measure((_b = contentRef.value) === null || _b === void 0 ? void 0 : _b.$el, {\n        rows: rows,\n        suffix: suffix\n      }, props.content, renderOperations(true), ELLIPSIS_STR),\n          content = _measure.content,\n          text = _measure.text,\n          ell = _measure.ellipsis;\n\n      if (ellipsisText !== text || state.isEllipsis !== ell) {\n        state.ellipsisText = text;\n        state.ellipsisContent = content;\n        state.isEllipsis = ell;\n\n        if (isEllipsis !== ell && onEllipsis) {\n          onEllipsis(ell);\n        }\n      }\n    };\n\n    function wrapperDecorations(_ref2, content) {\n      var mark = _ref2.mark,\n          code = _ref2.code,\n          underline = _ref2.underline,\n          del = _ref2.delete,\n          strong = _ref2.strong,\n          keyboard = _ref2.keyboard;\n      var currentContent = content;\n\n      function wrap(needed, Tag) {\n        if (!needed) return;\n\n        var _currentContent = function () {\n          return currentContent;\n        }();\n\n        currentContent = _createVNode(Tag, null, {\n          default: function _default() {\n            return [_currentContent];\n          }\n        });\n      }\n\n      wrap(strong, 'strong');\n      wrap(underline, 'u');\n      wrap(del, 'del');\n      wrap(code, 'code');\n      wrap(mark, 'mark');\n      wrap(keyboard, 'kbd');\n      return currentContent;\n    }\n\n    function renderExpand(forceRender) {\n      var _ellipsis$value3 = ellipsis.value,\n          expandable = _ellipsis$value3.expandable,\n          symbol = _ellipsis$value3.symbol;\n      if (!expandable) return null; // force render expand icon for measure usage or it will cause dead loop\n\n      if (!forceRender && (state.expanded || !state.isEllipsis)) return null;\n      var expandContent = (slots.ellipsisSymbol ? slots.ellipsisSymbol() : symbol) || state.expandStr;\n      return _createVNode(\"a\", {\n        \"key\": \"expand\",\n        \"class\": \"\".concat(prefixCls.value, \"-expand\"),\n        \"onClick\": onExpandClick,\n        \"aria-label\": state.expandStr\n      }, [expandContent]);\n    }\n\n    function renderEdit() {\n      if (!props.editable) return;\n      var tooltip = props.editable.tooltip;\n      var icon = slots.editableIcon ? slots.editableIcon() : _createVNode(EditOutlined, {\n        \"role\": \"button\"\n      }, null);\n      var title = slots.editableTooltip ? slots.editableTooltip() : state.editStr;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      return _createVNode(Tooltip, {\n        \"key\": \"edit\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"ref\": editIcon,\n            \"class\": \"\".concat(prefixCls.value, \"-edit\"),\n            \"onClick\": onEditClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderCopy() {\n      if (!props.copyable) return;\n      var tooltip = props.copyable.tooltip;\n      var defaultTitle = state.copied ? state.copiedStr : state.copyStr;\n      var title = slots.copyableTooltip ? slots.copyableTooltip({\n        copied: state.copied\n      }) : defaultTitle;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      var defaultIcon = state.copied ? _createVNode(CheckOutlined, null, null) : _createVNode(CopyOutlined, null, null);\n      var icon = slots.copyableIcon ? slots.copyableIcon({\n        copied: !!state.copied\n      }) : defaultIcon;\n      return _createVNode(Tooltip, {\n        \"key\": \"copy\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"class\": [\"\".concat(prefixCls.value, \"-copy\"), _defineProperty({}, \"\".concat(prefixCls.value, \"-copy-success\"), state.copied)],\n            \"onClick\": onCopyClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderEditInput() {\n      var className = attrs.class,\n          style = attrs.style;\n      var _editable$value = editable.value,\n          maxlength = _editable$value.maxlength,\n          autoSize = _editable$value.autoSize,\n          onEnd = _editable$value.onEnd;\n      return _createVNode(Editable, {\n        \"class\": className,\n        \"style\": style,\n        \"prefixCls\": prefixCls.value,\n        \"value\": props.content,\n        \"originContent\": state.originContent,\n        \"maxlength\": maxlength,\n        \"autoSize\": autoSize,\n        \"onSave\": onEditChange,\n        \"onChange\": onContentChange,\n        \"onCancel\": onEditCancel,\n        \"onEnd\": onEnd\n      }, null);\n    }\n\n    function renderOperations(forceRenderExpanded) {\n      return [renderExpand(forceRenderExpanded), renderEdit(), renderCopy()].filter(function (node) {\n        return node;\n      });\n    }\n\n    return function () {\n      var _a;\n\n      var editing = editable.value.editing;\n\n      var _children = props.ellipsis || props.editable ? props.content !== undefined ? props.content : (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots) : slots.default ? slots.default() : props.content;\n\n      if (editing) {\n        return renderEditInput();\n      }\n\n      return _createVNode(LocaleReceiver, {\n        \"componentName\": \"Text\",\n        \"children\": function children(locale) {\n          var _ref4;\n\n          var _a = _extends(_extends({}, props), attrs),\n              type = _a.type,\n              disabled = _a.disabled,\n              content = _a.content,\n              className = _a.class,\n              style = _a.style,\n              restProps = __rest(_a, [\"type\", \"disabled\", \"content\", \"class\", \"style\"]);\n\n          var _ellipsis$value4 = ellipsis.value,\n              rows = _ellipsis$value4.rows,\n              suffix = _ellipsis$value4.suffix,\n              tooltip = _ellipsis$value4.tooltip;\n          var edit = locale.edit,\n              copyStr = locale.copy,\n              copied = locale.copied,\n              expand = locale.expand;\n          state.editStr = edit;\n          state.copyStr = copyStr;\n          state.copiedStr = copied;\n          state.expandStr = expand;\n          var textProps = omit(restProps, ['prefixCls', 'editable', 'copyable', 'ellipsis', 'mark', 'code', 'delete', 'underline', 'strong', 'keyboard']);\n          var cssEllipsis = canUseCSSEllipsis.value;\n          var cssTextOverflow = rows === 1 && cssEllipsis;\n          var cssLineClamp = rows && rows > 1 && cssEllipsis;\n          var textNode = _children;\n          var ariaLabel; // Only use js ellipsis when css ellipsis not support\n\n          if (rows && state.isEllipsis && !state.expanded && !cssEllipsis) {\n            var _title = restProps.title;\n            var restContent = _title || '';\n\n            if (!_title && (typeof _children === 'string' || typeof _children === 'number')) {\n              restContent = String(_children);\n            } // show rest content as title on symbol\n\n\n            restContent = restContent === null || restContent === void 0 ? void 0 : restContent.slice(String(state.ellipsisContent || '').length); // We move full content to outer element to avoid repeat read the content by accessibility\n\n            textNode = _createVNode(_Fragment, null, [toRaw(state.ellipsisContent), _createVNode(\"span\", {\n              \"title\": restContent,\n              \"aria-hidden\": \"true\"\n            }, [ELLIPSIS_STR]), suffix]);\n          } else {\n            textNode = _createVNode(_Fragment, null, [_children, suffix]);\n          }\n\n          textNode = wrapperDecorations(props, textNode);\n          var showTooltip = tooltip && rows && state.isEllipsis && !state.expanded && !cssEllipsis;\n          var title = slots.ellipsisTooltip ? slots.ellipsisTooltip() : tooltip;\n          return _createVNode(ResizeObserver, {\n            \"onResize\": resizeOnNextFrame,\n            \"disabled\": !rows\n          }, {\n            default: function _default() {\n              return [_createVNode(Typography, _objectSpread({\n                \"ref\": contentRef,\n                \"class\": [(_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-\").concat(type), type), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-disabled\"), disabled), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis\"), rows), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-single-line\"), rows === 1), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-single-line\"), cssTextOverflow), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-multiple-line\"), cssLineClamp), _ref4), className],\n                \"style\": _extends(_extends({}, style), {\n                  WebkitLineClamp: cssLineClamp ? rows : undefined\n                }),\n                \"aria-label\": ariaLabel\n              }, textProps), {\n                default: function _default() {\n                  return [showTooltip ? _createVNode(Tooltip, {\n                    \"title\": tooltip === true ? _children : title\n                  }, {\n                    default: function _default() {\n                      return [_createVNode(\"span\", null, [textNode])];\n                    }\n                  }) : textNode, renderOperations()];\n                }\n              })];\n            }\n          });\n        }\n      }, null);\n    };\n  }\n});\nexport var baseProps = function baseProps() {\n  return {\n    editable: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    copyable: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    prefixCls: PropTypes.string,\n    component: PropTypes.string,\n    type: PropTypes.oneOf(['secondary', 'success', 'danger', 'warning']),\n    disabled: PropTypes.looseBool,\n    ellipsis: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    code: PropTypes.looseBool,\n    mark: PropTypes.looseBool,\n    underline: PropTypes.looseBool,\n    delete: PropTypes.looseBool,\n    strong: PropTypes.looseBool,\n    keyboard: PropTypes.looseBool,\n    content: PropTypes.string\n  };\n};\nBase.props = baseProps();\nexport default Base;"]},"metadata":{},"sourceType":"module"}