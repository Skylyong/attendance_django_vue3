{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponent, findDOMNode } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport KeyCode from '../../_util/KeyCode';\nimport moment from 'moment';\nimport DateTable from './date/DateTable';\nimport CalendarHeader from './calendar/CalendarHeader';\nimport CalendarFooter from './calendar/CalendarFooter';\nimport CalendarMixin, { getNowByCurrentStateValue } from './mixin/CalendarMixin';\nimport CommonMixin from './mixin/CommonMixin';\nimport DateInput from './date/DateInput';\nimport enUs from './locale/en_US';\nimport { getTimeConfig, getTodayTime, syncTime } from './util';\nimport { goStartMonth, goEndMonth, goTime as _goTime } from './util/toTime';\nimport { defineComponent } from 'vue';\n\nvar getMomentObjectIfValid = function getMomentObjectIfValid(date) {\n  if (moment.isMoment(date) && date.isValid()) {\n    return date;\n  }\n\n  return false;\n};\n\nvar Calendar = defineComponent({\n  name: 'Calendar',\n  mixins: [BaseMixin, CommonMixin, CalendarMixin],\n  inheritAttrs: false,\n  props: {\n    locale: PropTypes.object.def(enUs),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    visible: PropTypes.looseBool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    // prefixCls: PropTypes.string,\n    defaultValue: PropTypes.object,\n    value: PropTypes.object,\n    selectedValue: PropTypes.object,\n    defaultSelectedValue: PropTypes.object,\n    mode: PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade']),\n    // locale: PropTypes.object,\n    showDateInput: PropTypes.looseBool.def(true),\n    showWeekNumber: PropTypes.looseBool,\n    showToday: PropTypes.looseBool.def(true),\n    showOk: PropTypes.looseBool,\n    // onSelect: PropTypes.func,\n    // onOk: PropTypes.func,\n    // onKeyDown: PropTypes.func,\n    timePicker: PropTypes.any,\n    dateInputPlaceholder: PropTypes.any,\n    // onClear: PropTypes.func,\n    // onChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.any,\n    dateRender: PropTypes.func,\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    clearIcon: PropTypes.any,\n    focusablePanel: PropTypes.looseBool.def(true),\n    inputMode: PropTypes.string,\n    inputReadOnly: PropTypes.looseBool,\n    monthCellRender: PropTypes.func,\n    monthCellContentRender: PropTypes.func\n  },\n  data: function data() {\n    var props = this.$props;\n    return {\n      sMode: this.mode || 'date',\n      sValue: getMomentObjectIfValid(props.value) || getMomentObjectIfValid(props.defaultValue) || moment(),\n      sSelectedValue: props.selectedValue || props.defaultSelectedValue\n    };\n  },\n  watch: {\n    mode: function mode(val) {\n      this.setState({\n        sMode: val\n      });\n    },\n    value: function value(val) {\n      this.setState({\n        sValue: getMomentObjectIfValid(val) || getMomentObjectIfValid(this.defaultValue) || getNowByCurrentStateValue(this.sValue)\n      });\n    },\n    selectedValue: function selectedValue(val) {\n      this.setState({\n        sSelectedValue: val\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.saveFocusElement(DateInput.getInstance());\n    });\n  },\n  methods: {\n    onPanelChange: function onPanelChange(value, mode) {\n      var sValue = this.sValue;\n\n      if (!hasProp(this, 'mode')) {\n        this.setState({\n          sMode: mode\n        });\n      }\n\n      this.__emit('panelChange', value || sValue, mode);\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return undefined;\n      }\n\n      var keyCode = event.keyCode; // mac\n\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var disabledDate = this.disabledDate,\n          value = this.sValue;\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          this.goTime(1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.UP:\n          this.goTime(-1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            this.goTime(-1, 'years');\n          } else {\n            this.goTime(-1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            this.goTime(1, 'years');\n          } else {\n            this.goTime(1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.HOME:\n          this.setValue(goStartMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.END:\n          this.setValue(goEndMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_DOWN:\n          this.goTime(1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_UP:\n          this.goTime(-1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.ENTER:\n          if (!disabledDate || !disabledDate(value)) {\n            this.onSelect(value, {\n              source: 'keyboard'\n            });\n          }\n\n          event.preventDefault();\n          return 1;\n\n        default:\n          this.__emit('keydown', event);\n\n          return 1;\n      }\n    },\n    onClear: function onClear() {\n      this.onSelect(null);\n\n      this.__emit('clear');\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDate(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onDateInputChange: function onDateInputChange(value) {\n      this.onSelect(value, {\n        source: 'dateInput'\n      });\n    },\n    onDateInputSelect: function onDateInputSelect(value) {\n      this.onSelect(value, {\n        source: 'dateInputSelect'\n      });\n    },\n    onDateTableSelect: function onDateTableSelect(value) {\n      var timePicker = this.timePicker,\n          sSelectedValue = this.sSelectedValue;\n\n      if (!sSelectedValue && timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n        var timePickerDefaultValue = timePickerProps.defaultValue;\n\n        if (timePickerDefaultValue) {\n          syncTime(timePickerDefaultValue, value);\n        }\n      }\n\n      this.onSelect(value);\n    },\n    onToday: function onToday() {\n      var sValue = this.sValue;\n      var now = getTodayTime(sValue);\n      this.onSelect(now, {\n        source: 'todayButton'\n      });\n    },\n    onBlur: function onBlur(event) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var dateInput = DateInput.getInstance();\n        var rootInstance = _this2.rootInstance;\n\n        if (!rootInstance || rootInstance.contains(document.activeElement) || dateInput && dateInput.contains(document.activeElement)) {\n          // focused element is still part of Calendar\n          return;\n        }\n\n        _this2.__emit('blur', event);\n      }, 0);\n    },\n    getRootDOMNode: function getRootDOMNode() {\n      return findDOMNode(this);\n    },\n    openTimePicker: function openTimePicker() {\n      this.onPanelChange(null, 'time');\n    },\n    closeTimePicker: function closeTimePicker() {\n      this.onPanelChange(null, 'date');\n    },\n    goTime: function goTime(direction, unit) {\n      this.setValue(_goTime(this.sValue, direction, unit));\n    }\n  },\n  render: function render() {\n    var locale = this.locale,\n        prefixCls = this.prefixCls,\n        disabledDate = this.disabledDate,\n        dateInputPlaceholder = this.dateInputPlaceholder,\n        timePicker = this.timePicker,\n        disabledTime = this.disabledTime,\n        showDateInput = this.showDateInput,\n        sValue = this.sValue,\n        sSelectedValue = this.sSelectedValue,\n        sMode = this.sMode,\n        renderFooter = this.renderFooter,\n        inputMode = this.inputMode,\n        inputReadOnly = this.inputReadOnly,\n        monthCellRender = this.monthCellRender,\n        monthCellContentRender = this.monthCellContentRender,\n        props = this.$props;\n    var clearIcon = getComponent(this, 'clearIcon');\n    var showTimePicker = sMode === 'time';\n    var disabledTimeConfig = showTimePicker && disabledTime && timePicker ? getTimeConfig(sSelectedValue, disabledTime) : null;\n    var timePickerEle = null;\n\n    if (timePicker && showTimePicker) {\n      var timePickerOriginProps = getOptionProps(timePicker);\n\n      var timePickerProps = _extends(_extends(_extends({\n        showHour: true,\n        showSecond: true,\n        showMinute: true\n      }, timePickerOriginProps), disabledTimeConfig), {\n        value: sSelectedValue,\n        disabledTime: disabledTime,\n        onChange: this.onDateInputChange\n      });\n\n      if (timePickerOriginProps.defaultValue !== undefined) {\n        timePickerProps.defaultOpenValue = timePickerOriginProps.defaultValue;\n      }\n\n      timePickerEle = cloneElement(timePicker, timePickerProps);\n    }\n\n    var dateInputElement = showDateInput ? _createVNode(DateInput, {\n      \"format\": this.getFormat(),\n      \"key\": \"date-input\",\n      \"value\": sValue,\n      \"locale\": locale,\n      \"placeholder\": dateInputPlaceholder,\n      \"showClear\": true,\n      \"disabledTime\": disabledTime,\n      \"disabledDate\": disabledDate,\n      \"onClear\": this.onClear,\n      \"prefixCls\": prefixCls,\n      \"selectedValue\": sSelectedValue,\n      \"onChange\": this.onDateInputChange,\n      \"clearIcon\": clearIcon,\n      \"onSelect\": this.onDateInputSelect,\n      \"inputMode\": inputMode,\n      \"inputReadOnly\": inputReadOnly\n    }, null) : null;\n    var children = [];\n\n    if (props.renderSidebar) {\n      children.push(props.renderSidebar());\n    }\n\n    children.push(_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-panel\"),\n      \"key\": \"panel\"\n    }, [dateInputElement, _createVNode(\"div\", {\n      \"tabindex\": props.focusablePanel ? 0 : undefined,\n      \"class\": \"\".concat(prefixCls, \"-date-panel\")\n    }, [_createVNode(CalendarHeader, {\n      \"locale\": locale,\n      \"mode\": sMode,\n      \"value\": sValue,\n      \"onValueChange\": this.setValue,\n      \"onPanelChange\": this.onPanelChange,\n      \"renderFooter\": renderFooter,\n      \"showTimePicker\": showTimePicker,\n      \"prefixCls\": prefixCls,\n      \"monthCellRender\": monthCellRender,\n      \"monthCellContentRender\": monthCellContentRender\n    }, null), timePicker && showTimePicker ? _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-time-picker\")\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-time-picker-panel\")\n    }, [timePickerEle])]) : null, _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-body\")\n    }, [_createVNode(DateTable, {\n      \"locale\": locale,\n      \"value\": sValue,\n      \"selectedValue\": sSelectedValue,\n      \"prefixCls\": prefixCls,\n      \"dateRender\": props.dateRender,\n      \"onSelect\": this.onDateTableSelect,\n      \"disabledDate\": disabledDate,\n      \"showWeekNumber\": props.showWeekNumber\n    }, null)]), _createVNode(CalendarFooter, {\n      \"showOk\": props.showOk,\n      \"mode\": sMode,\n      \"renderFooter\": props.renderFooter,\n      \"locale\": locale,\n      \"prefixCls\": prefixCls,\n      \"showToday\": props.showToday,\n      \"disabledTime\": disabledTime,\n      \"showTimePicker\": showTimePicker,\n      \"showDateInput\": props.showDateInput,\n      \"timePicker\": timePicker,\n      \"selectedValue\": sSelectedValue,\n      \"timePickerDisabled\": !sSelectedValue,\n      \"value\": sValue,\n      \"disabledDate\": disabledDate,\n      \"okDisabled\": props.showOk !== false && (!sSelectedValue || !this.isAllowedDate(sSelectedValue)),\n      \"onOk\": this.onOk,\n      \"onSelect\": this.onSelect,\n      \"onToday\": this.onToday,\n      \"onOpenTimePicker\": this.openTimePicker,\n      \"onCloseTimePicker\": this.closeTimePicker\n    }, null)])]));\n    return this.renderRoot({\n      children: children,\n      class: props.showWeekNumber ? \"\".concat(prefixCls, \"-week-number\") : ''\n    });\n  }\n});\nexport default Calendar;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-calendar/src/Calendar.js"],"names":["_extends","createVNode","_createVNode","PropTypes","BaseMixin","getOptionProps","hasProp","getComponent","findDOMNode","cloneElement","KeyCode","moment","DateTable","CalendarHeader","CalendarFooter","CalendarMixin","getNowByCurrentStateValue","CommonMixin","DateInput","enUs","getTimeConfig","getTodayTime","syncTime","goStartMonth","goEndMonth","goTime","_goTime","defineComponent","getMomentObjectIfValid","date","isMoment","isValid","Calendar","name","mixins","inheritAttrs","props","locale","object","def","format","oneOfType","string","arrayOf","func","visible","looseBool","prefixCls","defaultValue","value","selectedValue","defaultSelectedValue","mode","oneOf","showDateInput","showWeekNumber","showToday","showOk","timePicker","any","dateInputPlaceholder","disabledDate","disabledTime","dateRender","renderFooter","renderSidebar","clearIcon","focusablePanel","inputMode","inputReadOnly","monthCellRender","monthCellContentRender","data","$props","sMode","sValue","sSelectedValue","watch","val","setState","mounted","_this","$nextTick","saveFocusElement","getInstance","methods","onPanelChange","__emit","onKeyDown","event","target","nodeName","toLowerCase","undefined","keyCode","ctrlKey","metaKey","DOWN","preventDefault","UP","LEFT","RIGHT","HOME","setValue","END","PAGE_DOWN","PAGE_UP","ENTER","onSelect","source","onClear","onOk","isAllowedDate","onDateInputChange","onDateInputSelect","onDateTableSelect","timePickerProps","timePickerDefaultValue","onToday","now","onBlur","_this2","setTimeout","dateInput","rootInstance","contains","document","activeElement","getRootDOMNode","openTimePicker","closeTimePicker","direction","unit","render","showTimePicker","disabledTimeConfig","timePickerEle","timePickerOriginProps","showHour","showSecond","showMinute","onChange","defaultOpenValue","dateInputElement","getFormat","children","push","concat","renderRoot","class"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponent, findDOMNode } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport KeyCode from '../../_util/KeyCode';\nimport moment from 'moment';\nimport DateTable from './date/DateTable';\nimport CalendarHeader from './calendar/CalendarHeader';\nimport CalendarFooter from './calendar/CalendarFooter';\nimport CalendarMixin, { getNowByCurrentStateValue } from './mixin/CalendarMixin';\nimport CommonMixin from './mixin/CommonMixin';\nimport DateInput from './date/DateInput';\nimport enUs from './locale/en_US';\nimport { getTimeConfig, getTodayTime, syncTime } from './util';\nimport { goStartMonth, goEndMonth, goTime as _goTime } from './util/toTime';\nimport { defineComponent } from 'vue';\n\nvar getMomentObjectIfValid = function getMomentObjectIfValid(date) {\n  if (moment.isMoment(date) && date.isValid()) {\n    return date;\n  }\n\n  return false;\n};\n\nvar Calendar = defineComponent({\n  name: 'Calendar',\n  mixins: [BaseMixin, CommonMixin, CalendarMixin],\n  inheritAttrs: false,\n  props: {\n    locale: PropTypes.object.def(enUs),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    visible: PropTypes.looseBool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    // prefixCls: PropTypes.string,\n    defaultValue: PropTypes.object,\n    value: PropTypes.object,\n    selectedValue: PropTypes.object,\n    defaultSelectedValue: PropTypes.object,\n    mode: PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade']),\n    // locale: PropTypes.object,\n    showDateInput: PropTypes.looseBool.def(true),\n    showWeekNumber: PropTypes.looseBool,\n    showToday: PropTypes.looseBool.def(true),\n    showOk: PropTypes.looseBool,\n    // onSelect: PropTypes.func,\n    // onOk: PropTypes.func,\n    // onKeyDown: PropTypes.func,\n    timePicker: PropTypes.any,\n    dateInputPlaceholder: PropTypes.any,\n    // onClear: PropTypes.func,\n    // onChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.any,\n    dateRender: PropTypes.func,\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    clearIcon: PropTypes.any,\n    focusablePanel: PropTypes.looseBool.def(true),\n    inputMode: PropTypes.string,\n    inputReadOnly: PropTypes.looseBool,\n    monthCellRender: PropTypes.func,\n    monthCellContentRender: PropTypes.func\n  },\n  data: function data() {\n    var props = this.$props;\n    return {\n      sMode: this.mode || 'date',\n      sValue: getMomentObjectIfValid(props.value) || getMomentObjectIfValid(props.defaultValue) || moment(),\n      sSelectedValue: props.selectedValue || props.defaultSelectedValue\n    };\n  },\n  watch: {\n    mode: function mode(val) {\n      this.setState({\n        sMode: val\n      });\n    },\n    value: function value(val) {\n      this.setState({\n        sValue: getMomentObjectIfValid(val) || getMomentObjectIfValid(this.defaultValue) || getNowByCurrentStateValue(this.sValue)\n      });\n    },\n    selectedValue: function selectedValue(val) {\n      this.setState({\n        sSelectedValue: val\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.saveFocusElement(DateInput.getInstance());\n    });\n  },\n  methods: {\n    onPanelChange: function onPanelChange(value, mode) {\n      var sValue = this.sValue;\n\n      if (!hasProp(this, 'mode')) {\n        this.setState({\n          sMode: mode\n        });\n      }\n\n      this.__emit('panelChange', value || sValue, mode);\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return undefined;\n      }\n\n      var keyCode = event.keyCode; // mac\n\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var disabledDate = this.disabledDate,\n          value = this.sValue;\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          this.goTime(1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.UP:\n          this.goTime(-1, 'weeks');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            this.goTime(-1, 'years');\n          } else {\n            this.goTime(-1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            this.goTime(1, 'years');\n          } else {\n            this.goTime(1, 'days');\n          }\n\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.HOME:\n          this.setValue(goStartMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.END:\n          this.setValue(goEndMonth(value));\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_DOWN:\n          this.goTime(1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.PAGE_UP:\n          this.goTime(-1, 'month');\n          event.preventDefault();\n          return 1;\n\n        case KeyCode.ENTER:\n          if (!disabledDate || !disabledDate(value)) {\n            this.onSelect(value, {\n              source: 'keyboard'\n            });\n          }\n\n          event.preventDefault();\n          return 1;\n\n        default:\n          this.__emit('keydown', event);\n\n          return 1;\n      }\n    },\n    onClear: function onClear() {\n      this.onSelect(null);\n\n      this.__emit('clear');\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDate(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onDateInputChange: function onDateInputChange(value) {\n      this.onSelect(value, {\n        source: 'dateInput'\n      });\n    },\n    onDateInputSelect: function onDateInputSelect(value) {\n      this.onSelect(value, {\n        source: 'dateInputSelect'\n      });\n    },\n    onDateTableSelect: function onDateTableSelect(value) {\n      var timePicker = this.timePicker,\n          sSelectedValue = this.sSelectedValue;\n\n      if (!sSelectedValue && timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n        var timePickerDefaultValue = timePickerProps.defaultValue;\n\n        if (timePickerDefaultValue) {\n          syncTime(timePickerDefaultValue, value);\n        }\n      }\n\n      this.onSelect(value);\n    },\n    onToday: function onToday() {\n      var sValue = this.sValue;\n      var now = getTodayTime(sValue);\n      this.onSelect(now, {\n        source: 'todayButton'\n      });\n    },\n    onBlur: function onBlur(event) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        var dateInput = DateInput.getInstance();\n        var rootInstance = _this2.rootInstance;\n\n        if (!rootInstance || rootInstance.contains(document.activeElement) || dateInput && dateInput.contains(document.activeElement)) {\n          // focused element is still part of Calendar\n          return;\n        }\n\n        _this2.__emit('blur', event);\n      }, 0);\n    },\n    getRootDOMNode: function getRootDOMNode() {\n      return findDOMNode(this);\n    },\n    openTimePicker: function openTimePicker() {\n      this.onPanelChange(null, 'time');\n    },\n    closeTimePicker: function closeTimePicker() {\n      this.onPanelChange(null, 'date');\n    },\n    goTime: function goTime(direction, unit) {\n      this.setValue(_goTime(this.sValue, direction, unit));\n    }\n  },\n  render: function render() {\n    var locale = this.locale,\n        prefixCls = this.prefixCls,\n        disabledDate = this.disabledDate,\n        dateInputPlaceholder = this.dateInputPlaceholder,\n        timePicker = this.timePicker,\n        disabledTime = this.disabledTime,\n        showDateInput = this.showDateInput,\n        sValue = this.sValue,\n        sSelectedValue = this.sSelectedValue,\n        sMode = this.sMode,\n        renderFooter = this.renderFooter,\n        inputMode = this.inputMode,\n        inputReadOnly = this.inputReadOnly,\n        monthCellRender = this.monthCellRender,\n        monthCellContentRender = this.monthCellContentRender,\n        props = this.$props;\n    var clearIcon = getComponent(this, 'clearIcon');\n    var showTimePicker = sMode === 'time';\n    var disabledTimeConfig = showTimePicker && disabledTime && timePicker ? getTimeConfig(sSelectedValue, disabledTime) : null;\n    var timePickerEle = null;\n\n    if (timePicker && showTimePicker) {\n      var timePickerOriginProps = getOptionProps(timePicker);\n\n      var timePickerProps = _extends(_extends(_extends({\n        showHour: true,\n        showSecond: true,\n        showMinute: true\n      }, timePickerOriginProps), disabledTimeConfig), {\n        value: sSelectedValue,\n        disabledTime: disabledTime,\n        onChange: this.onDateInputChange\n      });\n\n      if (timePickerOriginProps.defaultValue !== undefined) {\n        timePickerProps.defaultOpenValue = timePickerOriginProps.defaultValue;\n      }\n\n      timePickerEle = cloneElement(timePicker, timePickerProps);\n    }\n\n    var dateInputElement = showDateInput ? _createVNode(DateInput, {\n      \"format\": this.getFormat(),\n      \"key\": \"date-input\",\n      \"value\": sValue,\n      \"locale\": locale,\n      \"placeholder\": dateInputPlaceholder,\n      \"showClear\": true,\n      \"disabledTime\": disabledTime,\n      \"disabledDate\": disabledDate,\n      \"onClear\": this.onClear,\n      \"prefixCls\": prefixCls,\n      \"selectedValue\": sSelectedValue,\n      \"onChange\": this.onDateInputChange,\n      \"clearIcon\": clearIcon,\n      \"onSelect\": this.onDateInputSelect,\n      \"inputMode\": inputMode,\n      \"inputReadOnly\": inputReadOnly\n    }, null) : null;\n    var children = [];\n\n    if (props.renderSidebar) {\n      children.push(props.renderSidebar());\n    }\n\n    children.push(_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-panel\"),\n      \"key\": \"panel\"\n    }, [dateInputElement, _createVNode(\"div\", {\n      \"tabindex\": props.focusablePanel ? 0 : undefined,\n      \"class\": \"\".concat(prefixCls, \"-date-panel\")\n    }, [_createVNode(CalendarHeader, {\n      \"locale\": locale,\n      \"mode\": sMode,\n      \"value\": sValue,\n      \"onValueChange\": this.setValue,\n      \"onPanelChange\": this.onPanelChange,\n      \"renderFooter\": renderFooter,\n      \"showTimePicker\": showTimePicker,\n      \"prefixCls\": prefixCls,\n      \"monthCellRender\": monthCellRender,\n      \"monthCellContentRender\": monthCellContentRender\n    }, null), timePicker && showTimePicker ? _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-time-picker\")\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-time-picker-panel\")\n    }, [timePickerEle])]) : null, _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-body\")\n    }, [_createVNode(DateTable, {\n      \"locale\": locale,\n      \"value\": sValue,\n      \"selectedValue\": sSelectedValue,\n      \"prefixCls\": prefixCls,\n      \"dateRender\": props.dateRender,\n      \"onSelect\": this.onDateTableSelect,\n      \"disabledDate\": disabledDate,\n      \"showWeekNumber\": props.showWeekNumber\n    }, null)]), _createVNode(CalendarFooter, {\n      \"showOk\": props.showOk,\n      \"mode\": sMode,\n      \"renderFooter\": props.renderFooter,\n      \"locale\": locale,\n      \"prefixCls\": prefixCls,\n      \"showToday\": props.showToday,\n      \"disabledTime\": disabledTime,\n      \"showTimePicker\": showTimePicker,\n      \"showDateInput\": props.showDateInput,\n      \"timePicker\": timePicker,\n      \"selectedValue\": sSelectedValue,\n      \"timePickerDisabled\": !sSelectedValue,\n      \"value\": sValue,\n      \"disabledDate\": disabledDate,\n      \"okDisabled\": props.showOk !== false && (!sSelectedValue || !this.isAllowedDate(sSelectedValue)),\n      \"onOk\": this.onOk,\n      \"onSelect\": this.onSelect,\n      \"onToday\": this.onToday,\n      \"onOpenTimePicker\": this.openTimePicker,\n      \"onCloseTimePicker\": this.closeTimePicker\n    }, null)])]));\n    return this.renderRoot({\n      children: children,\n      class: props.showWeekNumber ? \"\".concat(prefixCls, \"-week-number\") : ''\n    });\n  }\n});\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}