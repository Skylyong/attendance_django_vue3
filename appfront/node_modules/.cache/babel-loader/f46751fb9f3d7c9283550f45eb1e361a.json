{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, createSlots as _createSlots, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7da06adc\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"editable-row-operations\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"onClick\"];\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Cancel\", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n\n  const _component_a_select = _resolveComponent(\"a-select\");\n\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n\n  const _component_a_table = _resolveComponent(\"a-table\");\n\n  return _openBlock(), _createBlock(_component_a_table, {\n    columns: _ctx.columns,\n    \"data-source\": _ctx.dataSource,\n    bordered: \"\"\n  }, _createSlots({\n    operation: _withCtx(({\n      record\n    }) => [_createElementVNode(\"div\", _hoisted_1, [_ctx.editableData[record.key] ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [_createVNode(_component_a_select, {\n      value: _ctx.value,\n      \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _ctx.value = $event),\n      \"label-in-value\": \"\",\n      style: {\n        \"width\": \"120px\"\n      },\n      options: _ctx.options,\n      onChange: _ctx.handleChange\n    }, null, 8\n    /* PROPS */\n    , [\"value\", \"options\", \"onChange\"]), _createElementVNode(\"a\", {\n      onClick: $event => _ctx.save(record.key)\n    }, \"Save\", 8\n    /* PROPS */\n    , _hoisted_3), _createVNode(_component_a_popconfirm, {\n      title: \"Sure to cancel?\",\n      onConfirm: $event => _ctx.cancel(record.key)\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"onConfirm\"])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, [_createElementVNode(\"a\", {\n      onClick: $event => _ctx.edit(record.key)\n    }, \"Edit\", 8\n    /* PROPS */\n    , _hoisted_6)]))])]),\n    _: 2\n    /* DYNAMIC */\n\n  }, [_renderList(['name', 'age', 'address'], col => {\n    return {\n      name: col,\n      fn: _withCtx(({\n        text,\n        record\n      }) => [_createElementVNode(\"div\", null, [_ctx.editableData[record.key] ? (_openBlock(), _createBlock(_component_a_input, {\n        key: 0,\n        value: _ctx.editableData[record.key][col],\n        \"onUpdate:value\": $event => _ctx.editableData[record.key][col] = $event,\n        style: {\n          \"margin\": \"-5px 0\"\n        }\n      }, null, 8\n      /* PROPS */\n      , [\"value\", \"onUpdate:value\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createTextVNode(_toDisplayString(text), 1\n      /* TEXT */\n      )], 2112\n      /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n      ))])])\n    };\n  })]), 1032\n  /* PROPS, DYNAMIC_SLOTS */\n  , [\"columns\", \"data-source\"]);\n}","map":{"version":3,"mappings":";;;;;AAeWA,OAAK,EAAC;;;;;;;gEAgBLC,oBAAa,GAAb,EAAa,IAAb,EAAG,QAAH,EAAS;AAAA;AAAT;;;;;;;;;;;;;;;uBA9BVC,aAsCUC,kBAtCV,EAsCU;AAtCAC,WAAO,EAAEC,YAsCT;AAtCmB,mBAAaA,eAsChC;AAtC4CC,YAAQ,EAAR;AAsC5C,GAtCV;AAaaC,aAAS,WAClB,CAsBM;AAvBgBC;AAuBhB,KAtBN,KAD4B,CAC5BP,oBAsBM,KAtBN,cAsBM,CArBQI,kBAAaG,MAAM,CAACC,GAApB,mBAAZC,oBAiBO,MAjBP,EAiBOC,UAjBP,EAiBO,CAfXC,aAOSC,mBAPT,EAOS;AANDC,WAAK,EAAET,UAMN;4DANMA,aAAKU,OAMX;AALT,0BAKS;AAJTC,WAAoB,EAApB;AAAA;AAAA,OAIS;AAHRC,aAAO,EAAEZ,YAGD;AAFRa,cAAM,EAAEb;AAEA,KAPT;;AAAA,uCAeW,EAJLJ,oBAAqC,GAArC,EAAqC;AAAjCkB,aAAK,YAAEd,UAAKG,MAAM,CAACC,GAAZ;AAA0B,KAArC,EAA6B,MAA7B,EAAiC;AAAA;AAAjC,MAAiCW,UAAjC,CAIK,EAHLR,aAEeS,uBAFf,EAEe;AAFDC,WAAK,EAAC,iBAEL;AAFwBC,eAAO,YAAElB,YAAOG,MAAM,CAACC,GAAd;AAEjC,KAFf;wBACE,MAAa,CAAbe,UAAa;;;;KADf;;AAAA,oBAGK,CAjBP,oBAkBAd,oBAEO,MAFP,EAEOe,UAFP,EAEO,CADLxB,oBAAqC,GAArC,EAAqC;AAAjCkB,aAAK,YAAEd,UAAKG,MAAM,CAACC,GAAZ;AAA0B,KAArC,EAA6B,MAA7B,EAAiC;AAAA;AAAjC,MAAiCiB,UAAjC,CACK,CAFP,EAGI,CAtBN,CAD4B,CAAV;;;;kBAZI,4BAAPC,GAAiC,IAA9B;;YAAiCA;mBACnD,CASM;AAVsDC,YAUtD;AAV4DpB;AAU5D,OATN,KADwE,CACxEP,oBASM,KATN,EASM,IATN,EASM,CAPII,kBAAaG,MAAM,CAACC,GAApB,mBADRP,aAIE2B,kBAJF,EAIE;cAAA;AAFQf,aAAK,EAAET,kBAAaG,MAAM,CAACC,GAApB,EAAyBkB,GAAzB,CAEf;oCAFetB,kBAAaG,MAAM,CAACC,GAApB,EAAyBkB,GAAzB,IAA4BZ,MAE3C;AADAC,aAAsB,EAAtB;AAAA;AAAA;AACA,OAJF;;AAAA,uDAKAN,oBAEWoB,SAFX,EAEW;AAAArB;AAAA,OAFX,EAEW,mCADNmB,OAAI;AAAA;OACE,CAFX;;AAAA,QAGI,CATN,CADwE;;MAD5E;;AAAA","names":["class","_createElementVNode","_createBlock","_component_a_table","columns","_ctx","bordered","operation","record","key","_createElementBlock","_hoisted_2","_createVNode","_component_a_select","value","$event","style","options","onChange","onClick","_hoisted_3","_component_a_popconfirm","title","onConfirm","_hoisted_4","_hoisted_5","_hoisted_6","col","text","_component_a_input","_Fragment"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\n    <template v-for=\"col in ['name', 'age', 'address']\" #[col]=\"{ text, record }\" :key=\"col\">\n      <div>\n        <a-input\n          v-if=\"editableData[record.key]\"\n          v-model:value=\"editableData[record.key][col]\"\n          style=\"margin: -5px 0\"\n        />\n        <template v-else>\n          {{ text }}\n        </template>\n      </div>\n    </template>\n    <template #operation=\"{ record }\">\n      <div class=\"editable-row-operations\">\n        <span v-if=\"editableData[record.key]\">\n\n    <a-select\n    v-model:value=\"value\"\n    label-in-value\n    style=\"width: 120px\"\n    :options=\"options\"\n    @change=\"handleChange\"\n  >\n  </a-select>\n\n\n\n          <a @click=\"save(record.key)\">Save</a>\n          <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\n            <a>Cancel</a>\n          </a-popconfirm>\n        </span>\n        <span v-else>\n          <a @click=\"edit(record.key)\">Edit</a>\n        </span>\n      </div>\n    </template>\n  </a-table>\n</template>\n<script>\nimport { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n    width: '25%',\n    slots: {\n      customRender: 'name',\n    },\n  },\n  {\n    title: 'age',\n    dataIndex: 'age',\n    width: '15%',\n    slots: {\n      customRender: 'age',\n    },\n  },\n  {\n    title: 'address',\n    dataIndex: 'address',\n    width: '40%',\n    slots: {\n      customRender: 'address',\n    },\n  },\n  {\n    title: 'operation',\n    dataIndex: 'operation',\n    slots: {\n      customRender: 'operation',\n    },\n  },\n];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel,\n    };\n  },\n});\n</script>\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}