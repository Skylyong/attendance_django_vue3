{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7da06adc\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"editable-row-operations\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Save\");\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Cancel\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n\n  const _component_a_typography_link = _resolveComponent(\"a-typography-link\");\n\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n\n  const _component_a_table = _resolveComponent(\"a-table\");\n\n  return _openBlock(), _createBlock(_component_a_table, {\n    columns: _ctx.columns,\n    \"data-source\": _ctx.dataSource,\n    bordered: \"\"\n  }, {\n    bodyCell: _withCtx(({\n      column,\n      text,\n      record\n    }) => [['name', 'age', 'address'].includes(column.dataIndex) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_ctx.editableData[record.key] ? (_openBlock(), _createBlock(_component_a_input, {\n      key: 0,\n      value: _ctx.editableData[record.key][column.dataIndex],\n      \"onUpdate:value\": $event => _ctx.editableData[record.key][column.dataIndex] = $event,\n      style: {\n        \"margin\": \"-5px 0\"\n      }\n    }, null, 8\n    /* PROPS */\n    , [\"value\", \"onUpdate:value\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createTextVNode(_toDisplayString(text), 1\n    /* TEXT */\n    )], 2112\n    /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n    ))])) : column.dataIndex === 'operation' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_ctx.editableData[record.key] ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [_createVNode(_component_a_typography_link, {\n      onClick: $event => _ctx.save(record.key)\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"onClick\"]), _createVNode(_component_a_popconfirm, {\n      title: \"Sure to cancel?\",\n      onConfirm: $event => _ctx.cancel(record.key)\n    }, {\n      default: _withCtx(() => [_hoisted_5]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"onConfirm\"])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, [_createElementVNode(\"a\", {\n      onClick: $event => _ctx.edit(record.key)\n    }, \"Edit\", 8\n    /* PROPS */\n    , _hoisted_7)]))])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"columns\", \"data-source\"]);\n}","map":{"version":3,"mappings":";;;;;;;;;AAgBaA,OAAK,EAAC;;;;;;iDAEsC;;gEAE3CC,oBAAa,GAAb,EAAa,IAAb,EAAG,QAAH,EAAS;AAAA;AAAT;;;;;;;;;;;;;;;uBAnBZC,aA4BUC,kBA5BV,EA4BU;AA5BAC,WAAO,EAAEC,YA4BT;AA5BmB,mBAAaA,eA4BhC;AA5B4CC,YAAQ,EAAR;AA4B5C,GA5BV;AACaC,YAAQ,WACjB,CAWW;AAZUC,YAYV;AAZkBC,UAYlB;AAZwBC;AAYxB,KAXX,KADyC,4BACEC,SAASH,MAAM,CAACI,4BACzDC,oBASM,KATN,EASMC,UATN,EASM,CAPIT,kBAAaK,MAAM,CAACK,GAApB,mBADRb,aAIEc,kBAJF,EAIE;YAAA;AAFQC,WAAK,EAAEZ,kBAAaK,MAAM,CAACK,GAApB,EAAyBP,MAAM,CAACI,SAAhC,CAEf;kCAFeP,kBAAaK,MAAM,CAACK,GAApB,EAAyBP,MAAM,CAACI,SAAhC,IAAyCM,MAExD;AADAC,WAAsB,EAAtB;AAAA;AAAA;AACA,KAJF;;AAAA,qDAKAN,oBAEWO,SAFX,EAEW;AAAAL;AAAA,KAFX,EAEW,mCADNN,OAAI;AAAA;KACE,CAFX;;AAAA,MAGI,CATN,KAWmBD,MAAM,CAACI,SAAP,KAAgB,6BACnCC,oBAUM,KAVN,cAUM,CATQR,kBAAaK,MAAM,CAACK,GAApB,mBAAZF,oBAKO,MALP,EAKOQ,UALP,EAKO,CAJLC,aAAqEC,4BAArE,EAAqE;AAAjDC,aAAK,YAAEnB,UAAKK,MAAM,CAACK,GAAZ;AAA0C,KAArE;wBAA6C,MAAI;;;;KAAjD;;AAAA,kBAIK,EAHLO,aAEeG,uBAFf,EAEe;AAFDC,WAAK,EAAC,iBAEL;AAFwBC,eAAO,YAAEtB,YAAOK,MAAM,CAACK,GAAd;AAEjC,KAFf;wBACE,MAAa,CAAba,UAAa;;;;KADf;;AAAA,oBAGK,CALP,oBAMAf,oBAEO,MAFP,EAEOgB,UAFP,EAEO,CADL5B,oBAAqC,GAArC,EAAqC;AAAjCuB,aAAK,YAAEnB,UAAKK,MAAM,CAACK,GAAZ;AAA0B,KAArC,EAA6B,MAA7B,EAAiC;AAAA;AAAjC,MAAiCe,UAAjC,CACK,CAFP,EAGI,CAVN,sCAduC,CAAxB;;;;GADrB;;AAAA","names":["class","_createElementVNode","_createBlock","_component_a_table","columns","_ctx","bordered","bodyCell","column","text","record","includes","dataIndex","_createElementBlock","_hoisted_1","key","_component_a_input","value","$event","style","_Fragment","_hoisted_3","_createVNode","_component_a_typography_link","onClick","_component_a_popconfirm","title","onConfirm","_hoisted_5","_hoisted_6","_hoisted_7"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\n    <template #bodyCell=\"{ column, text, record }\">\n      <template v-if=\"['name', 'age', 'address'].includes(column.dataIndex)\">\n        <div>\n          <a-input\n            v-if=\"editableData[record.key]\"\n            v-model:value=\"editableData[record.key][column.dataIndex]\"\n            style=\"margin: -5px 0\"\n          />\n          <template v-else>\n            {{ text }}\n          </template>\n        </div>\n      </template>\n      <template v-else-if=\"column.dataIndex === 'operation'\">\n        <div class=\"editable-row-operations\">\n          <span v-if=\"editableData[record.key]\">\n            <a-typography-link @click=\"save(record.key)\">Save</a-typography-link>\n            <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\n              <a>Cancel</a>\n            </a-popconfirm>\n          </span>\n          <span v-else>\n            <a @click=\"edit(record.key)\">Edit</a>\n          </span>\n        </div>\n      </template>\n    </template>\n  </a-table>\n</template>\n<script lang=\"js\">\nimport { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nimport type { UnwrapRef } from 'vue';\n\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n    width: '25%',\n  },\n  {\n    title: 'age',\n    dataIndex: 'age',\n    width: '15%',\n  },\n  {\n    title: 'address',\n    dataIndex: 'address',\n    width: '40%',\n  },\n  {\n    title: 'operation',\n    dataIndex: 'operation',\n  },\n];\ninterface DataItem {\n  key: string;\n  name: string;\n  age: number;\n  address: string;\n}\nconst data: DataItem[] = [];\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData: UnwrapRef<Record<string, DataItem>> = reactive({});\n\n    const edit = (key: string) => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n    const save = (key: string) => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n    const cancel = (key: string) => {\n      delete editableData[key];\n    };\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel,\n    };\n  },\n});\n</script>\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}