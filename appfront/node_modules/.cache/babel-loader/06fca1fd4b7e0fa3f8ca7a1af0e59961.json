{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { watch, reactive, defineComponent } from \"vue\";\nimport { isMobile, createNamespace, extend } from \"../utils\";\nimport { Cell } from \"../cell\";\nimport { Form } from \"../form\";\nimport { Field } from \"../field\";\nimport { Button } from \"../button\";\nimport { Switch } from \"../switch\";\nconst [name, bem, t] = createNamespace(\"contact-edit\");\nconst DEFAULT_CONTACT = {\n  tel: \"\",\n  name: \"\"\n};\nconst contactEditProps = {\n  isEdit: Boolean,\n  isSaving: Boolean,\n  isDeleting: Boolean,\n  showSetDefault: Boolean,\n  setDefaultLabel: String,\n  contactInfo: {\n    type: Object,\n    default: () => extend({}, DEFAULT_CONTACT)\n  },\n  telValidator: {\n    type: Function,\n    default: isMobile\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: contactEditProps,\n  emits: [\"save\", \"delete\", \"change-default\"],\n\n  setup(props, {\n    emit\n  }) {\n    const contact = reactive(extend({}, DEFAULT_CONTACT, props.contactInfo));\n\n    const onSave = () => {\n      if (!props.isSaving) {\n        emit(\"save\", contact);\n      }\n    };\n\n    const onDelete = () => emit(\"delete\", contact);\n\n    const renderButtons = () => _createVNode(\"div\", {\n      \"class\": bem(\"buttons\")\n    }, [_createVNode(Button, {\n      \"block\": true,\n      \"round\": true,\n      \"type\": \"danger\",\n      \"text\": t(\"save\"),\n      \"class\": bem(\"button\"),\n      \"loading\": props.isSaving,\n      \"nativeType\": \"submit\"\n    }, null), props.isEdit && _createVNode(Button, {\n      \"block\": true,\n      \"round\": true,\n      \"text\": t(\"delete\"),\n      \"class\": bem(\"button\"),\n      \"loading\": props.isDeleting,\n      \"onClick\": onDelete\n    }, null)]);\n\n    const renderSwitch = () => _createVNode(Switch, {\n      \"modelValue\": contact.isDefault,\n      \"onUpdate:modelValue\": $event => contact.isDefault = $event,\n      \"size\": 24,\n      \"onChange\": checked => emit(\"change-default\", checked)\n    }, null);\n\n    const renderSetDefault = () => {\n      if (props.showSetDefault) {\n        return _createVNode(Cell, {\n          \"title\": props.setDefaultLabel,\n          \"class\": bem(\"switch-cell\"),\n          \"border\": false\n        }, {\n          \"right-icon\": renderSwitch\n        });\n      }\n    };\n\n    watch(() => props.contactInfo, value => extend(contact, DEFAULT_CONTACT, value));\n    return () => _createVNode(Form, {\n      \"class\": bem(),\n      \"onSubmit\": onSave\n    }, {\n      default: () => [_createVNode(\"div\", {\n        \"class\": bem(\"fields\")\n      }, [_createVNode(Field, {\n        \"modelValue\": contact.name,\n        \"onUpdate:modelValue\": $event => contact.name = $event,\n        \"clearable\": true,\n        \"label\": t(\"name\"),\n        \"rules\": [{\n          required: true,\n          message: t(\"nameEmpty\")\n        }],\n        \"maxlength\": \"30\",\n        \"placeholder\": t(\"name\")\n      }, null), _createVNode(Field, {\n        \"modelValue\": contact.tel,\n        \"onUpdate:modelValue\": $event => contact.tel = $event,\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t(\"tel\"),\n        \"rules\": [{\n          validator: props.telValidator,\n          message: t(\"telInvalid\")\n        }],\n        \"placeholder\": t(\"tel\")\n      }, null)]), renderSetDefault(), renderButtons()]\n    });\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/contact-edit/ContactEdit.js"],"names":["createVNode","_createVNode","watch","reactive","defineComponent","isMobile","createNamespace","extend","Cell","Form","Field","Button","Switch","name","bem","t","DEFAULT_CONTACT","tel","contactEditProps","isEdit","Boolean","isSaving","isDeleting","showSetDefault","setDefaultLabel","String","contactInfo","type","Object","default","telValidator","Function","stdin_default","props","emits","setup","emit","contact","onSave","onDelete","renderButtons","renderSwitch","isDefault","$event","checked","renderSetDefault","value","required","message","validator"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { watch, reactive, defineComponent } from \"vue\";\nimport { isMobile, createNamespace, extend } from \"../utils\";\nimport { Cell } from \"../cell\";\nimport { Form } from \"../form\";\nimport { Field } from \"../field\";\nimport { Button } from \"../button\";\nimport { Switch } from \"../switch\";\nconst [name, bem, t] = createNamespace(\"contact-edit\");\nconst DEFAULT_CONTACT = {\n  tel: \"\",\n  name: \"\"\n};\nconst contactEditProps = {\n  isEdit: Boolean,\n  isSaving: Boolean,\n  isDeleting: Boolean,\n  showSetDefault: Boolean,\n  setDefaultLabel: String,\n  contactInfo: {\n    type: Object,\n    default: () => extend({}, DEFAULT_CONTACT)\n  },\n  telValidator: {\n    type: Function,\n    default: isMobile\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: contactEditProps,\n  emits: [\"save\", \"delete\", \"change-default\"],\n  setup(props, {\n    emit\n  }) {\n    const contact = reactive(extend({}, DEFAULT_CONTACT, props.contactInfo));\n    const onSave = () => {\n      if (!props.isSaving) {\n        emit(\"save\", contact);\n      }\n    };\n    const onDelete = () => emit(\"delete\", contact);\n    const renderButtons = () => _createVNode(\"div\", {\n      \"class\": bem(\"buttons\")\n    }, [_createVNode(Button, {\n      \"block\": true,\n      \"round\": true,\n      \"type\": \"danger\",\n      \"text\": t(\"save\"),\n      \"class\": bem(\"button\"),\n      \"loading\": props.isSaving,\n      \"nativeType\": \"submit\"\n    }, null), props.isEdit && _createVNode(Button, {\n      \"block\": true,\n      \"round\": true,\n      \"text\": t(\"delete\"),\n      \"class\": bem(\"button\"),\n      \"loading\": props.isDeleting,\n      \"onClick\": onDelete\n    }, null)]);\n    const renderSwitch = () => _createVNode(Switch, {\n      \"modelValue\": contact.isDefault,\n      \"onUpdate:modelValue\": ($event) => contact.isDefault = $event,\n      \"size\": 24,\n      \"onChange\": (checked) => emit(\"change-default\", checked)\n    }, null);\n    const renderSetDefault = () => {\n      if (props.showSetDefault) {\n        return _createVNode(Cell, {\n          \"title\": props.setDefaultLabel,\n          \"class\": bem(\"switch-cell\"),\n          \"border\": false\n        }, {\n          \"right-icon\": renderSwitch\n        });\n      }\n    };\n    watch(() => props.contactInfo, (value) => extend(contact, DEFAULT_CONTACT, value));\n    return () => _createVNode(Form, {\n      \"class\": bem(),\n      \"onSubmit\": onSave\n    }, {\n      default: () => [_createVNode(\"div\", {\n        \"class\": bem(\"fields\")\n      }, [_createVNode(Field, {\n        \"modelValue\": contact.name,\n        \"onUpdate:modelValue\": ($event) => contact.name = $event,\n        \"clearable\": true,\n        \"label\": t(\"name\"),\n        \"rules\": [{\n          required: true,\n          message: t(\"nameEmpty\")\n        }],\n        \"maxlength\": \"30\",\n        \"placeholder\": t(\"name\")\n      }, null), _createVNode(Field, {\n        \"modelValue\": contact.tel,\n        \"onUpdate:modelValue\": ($event) => contact.tel = $event,\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t(\"tel\"),\n        \"rules\": [{\n          validator: props.telValidator,\n          message: t(\"telInvalid\")\n        }],\n        \"placeholder\": t(\"tel\")\n      }, null)]), renderSetDefault(), renderButtons()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}