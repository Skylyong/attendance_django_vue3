{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject, nextTick } from 'vue';\nimport classNames from '../_util/classNames';\nimport omit from 'omit.js';\nimport PropTypes from '../_util/vue-types';\nimport VcMentions from '../vc-mentions';\nimport { mentionsProps as baseMentionsProps } from '../vc-mentions/src/mentionsProps';\nimport Spin from '../spin';\nimport BaseMixin from '../_util/BaseMixin';\nimport { defaultConfigProvider } from '../config-provider';\nimport { getOptionProps, getComponent, getSlot } from '../_util/props-util';\nvar Option = VcMentions.Option;\n\nfunction loadingFilterOption() {\n  return true;\n}\n\nfunction getMentions() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var config = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _ref = config || {},\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? '@' : _ref$prefix,\n      _ref$split = _ref.split,\n      split = _ref$split === void 0 ? ' ' : _ref$split;\n\n  var prefixList = Array.isArray(prefix) ? prefix : [prefix];\n  return value.split(split).map(function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var hitPrefix = null;\n    prefixList.some(function (prefixStr) {\n      var startStr = str.slice(0, prefixStr.length);\n\n      if (startStr === prefixStr) {\n        hitPrefix = prefixStr;\n        return true;\n      }\n\n      return false;\n    });\n\n    if (hitPrefix !== null) {\n      return {\n        prefix: hitPrefix,\n        value: str.slice(hitPrefix.length)\n      };\n    }\n\n    return null;\n  }).filter(function (entity) {\n    return !!entity && !!entity.value;\n  });\n}\n\nvar mentionsProps = _extends(_extends({}, baseMentionsProps), {\n  loading: PropTypes.looseBool,\n  onFocus: {\n    type: Function\n  },\n  onBlur: {\n    type: Function\n  },\n  onSelect: {\n    type: Function\n  },\n  onChange: {\n    type: Function\n  }\n});\n\nvar Mentions = defineComponent({\n  name: 'AMentions',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  Option: _extends(_extends({}, Option), {\n    name: 'AMentionsOption'\n  }),\n  getMentions: getMentions,\n  props: mentionsProps,\n  emits: ['update:value', 'change', 'focus', 'blur', 'select'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      focused: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n    });\n  },\n  methods: {\n    handleFocus: function handleFocus(e) {\n      this.$emit('focus', e);\n      this.setState({\n        focused: true\n      });\n    },\n    handleBlur: function handleBlur(e) {\n      this.$emit('blur', e);\n      this.setState({\n        focused: false\n      });\n    },\n    handleSelect: function handleSelect() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.$emit.apply(this, ['select'].concat(args));\n      this.setState({\n        focused: true\n      });\n    },\n    handleChange: function handleChange(val) {\n      this.$emit('update:value', val);\n      this.$emit('change', val);\n    },\n    getNotFoundContent: function getNotFoundContent(renderEmpty) {\n      var notFoundContent = getComponent(this, 'notFoundContent');\n\n      if (notFoundContent !== undefined) {\n        return notFoundContent;\n      }\n\n      return renderEmpty('Select');\n    },\n    getOptions: function getOptions() {\n      var loading = this.$props.loading;\n      var children = getSlot(this);\n\n      if (loading) {\n        return _createVNode(Option, {\n          \"value\": \"ANTD_SEARCHING\",\n          \"disabled\": true\n        }, {\n          default: function _default() {\n            return [_createVNode(Spin, {\n              \"size\": \"small\"\n            }, null)];\n          }\n        });\n      }\n\n      return children;\n    },\n    getFilterOption: function getFilterOption() {\n      var _this$$props = this.$props,\n          filterOption = _this$$props.filterOption,\n          loading = _this$$props.loading;\n\n      if (loading) {\n        return loadingFilterOption;\n      }\n\n      return filterOption;\n    },\n    focus: function focus() {\n      this.$refs.vcMentions.focus();\n    },\n    blur: function blur() {\n      this.$refs.vcMentions.blur();\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var focused = this.$data.focused;\n    var _this$configProvider = this.configProvider,\n        getPrefixCls = _this$configProvider.getPrefixCls,\n        renderEmpty = _this$configProvider.renderEmpty;\n\n    var _a = getOptionProps(this),\n        customizePrefixCls = _a.prefixCls,\n        disabled = _a.disabled,\n        getPopupContainer = _a.getPopupContainer,\n        restProps = __rest(_a, [\"prefixCls\", \"disabled\", \"getPopupContainer\"]);\n\n    var _b = this.$attrs,\n        className = _b.class,\n        otherAttrs = __rest(_b, [\"class\"]);\n\n    var prefixCls = getPrefixCls('mentions', customizePrefixCls);\n    var otherProps = omit(restProps, ['loading', 'onUpdate:value']);\n    var mergedClassName = classNames(className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused), _classNames));\n\n    var mentionsProps = _extends(_extends(_extends(_extends({\n      prefixCls: prefixCls,\n      notFoundContent: this.getNotFoundContent(renderEmpty)\n    }, otherProps), {\n      disabled: disabled,\n      filterOption: this.getFilterOption(),\n      getPopupContainer: getPopupContainer,\n      children: this.getOptions(),\n      class: mergedClassName,\n      rows: 1\n    }), otherAttrs), {\n      onChange: this.handleChange,\n      onSelect: this.handleSelect,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      ref: 'vcMentions'\n    });\n\n    return _createVNode(VcMentions, mentionsProps, null);\n  }\n});\n/* istanbul ignore next */\n\nMentions.install = function (app) {\n  app.component(Mentions.name, Mentions);\n  app.component(Mentions.Option.name, Mentions.Option);\n  return app;\n};\n\nexport var MentionsOption = Mentions.Option;\nexport default Mentions;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/mentions/index.js"],"names":["_defineProperty","_extends","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineComponent","inject","nextTick","classNames","omit","PropTypes","VcMentions","mentionsProps","baseMentionsProps","Spin","BaseMixin","defaultConfigProvider","getOptionProps","getComponent","getSlot","Option","loadingFilterOption","getMentions","value","arguments","undefined","config","_ref","_ref$prefix","prefix","_ref$split","split","prefixList","Array","isArray","map","str","hitPrefix","some","prefixStr","startStr","slice","filter","entity","loading","looseBool","onFocus","type","Function","onBlur","onSelect","onChange","Mentions","name","mixins","inheritAttrs","props","emits","setup","configProvider","data","focused","mounted","_this","process","env","NODE_ENV","autofocus","focus","methods","handleFocus","$emit","setState","handleBlur","handleSelect","_len","args","_key","apply","concat","handleChange","val","getNotFoundContent","renderEmpty","notFoundContent","getOptions","$props","children","default","_default","getFilterOption","_this$$props","filterOption","$refs","vcMentions","blur","render","_classNames","$data","_this$configProvider","getPrefixCls","_a","customizePrefixCls","prefixCls","disabled","getPopupContainer","restProps","_b","$attrs","className","class","otherAttrs","otherProps","mergedClassName","rows","ref","install","app","component","MentionsOption"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject, nextTick } from 'vue';\nimport classNames from '../_util/classNames';\nimport omit from 'omit.js';\nimport PropTypes from '../_util/vue-types';\nimport VcMentions from '../vc-mentions';\nimport { mentionsProps as baseMentionsProps } from '../vc-mentions/src/mentionsProps';\nimport Spin from '../spin';\nimport BaseMixin from '../_util/BaseMixin';\nimport { defaultConfigProvider } from '../config-provider';\nimport { getOptionProps, getComponent, getSlot } from '../_util/props-util';\nvar Option = VcMentions.Option;\n\nfunction loadingFilterOption() {\n  return true;\n}\n\nfunction getMentions() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var config = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _ref = config || {},\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? '@' : _ref$prefix,\n      _ref$split = _ref.split,\n      split = _ref$split === void 0 ? ' ' : _ref$split;\n\n  var prefixList = Array.isArray(prefix) ? prefix : [prefix];\n  return value.split(split).map(function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var hitPrefix = null;\n    prefixList.some(function (prefixStr) {\n      var startStr = str.slice(0, prefixStr.length);\n\n      if (startStr === prefixStr) {\n        hitPrefix = prefixStr;\n        return true;\n      }\n\n      return false;\n    });\n\n    if (hitPrefix !== null) {\n      return {\n        prefix: hitPrefix,\n        value: str.slice(hitPrefix.length)\n      };\n    }\n\n    return null;\n  }).filter(function (entity) {\n    return !!entity && !!entity.value;\n  });\n}\n\nvar mentionsProps = _extends(_extends({}, baseMentionsProps), {\n  loading: PropTypes.looseBool,\n  onFocus: {\n    type: Function\n  },\n  onBlur: {\n    type: Function\n  },\n  onSelect: {\n    type: Function\n  },\n  onChange: {\n    type: Function\n  }\n});\n\nvar Mentions = defineComponent({\n  name: 'AMentions',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  Option: _extends(_extends({}, Option), {\n    name: 'AMentionsOption'\n  }),\n  getMentions: getMentions,\n  props: mentionsProps,\n  emits: ['update:value', 'change', 'focus', 'blur', 'select'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      focused: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n    });\n  },\n  methods: {\n    handleFocus: function handleFocus(e) {\n      this.$emit('focus', e);\n      this.setState({\n        focused: true\n      });\n    },\n    handleBlur: function handleBlur(e) {\n      this.$emit('blur', e);\n      this.setState({\n        focused: false\n      });\n    },\n    handleSelect: function handleSelect() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.$emit.apply(this, ['select'].concat(args));\n      this.setState({\n        focused: true\n      });\n    },\n    handleChange: function handleChange(val) {\n      this.$emit('update:value', val);\n      this.$emit('change', val);\n    },\n    getNotFoundContent: function getNotFoundContent(renderEmpty) {\n      var notFoundContent = getComponent(this, 'notFoundContent');\n\n      if (notFoundContent !== undefined) {\n        return notFoundContent;\n      }\n\n      return renderEmpty('Select');\n    },\n    getOptions: function getOptions() {\n      var loading = this.$props.loading;\n      var children = getSlot(this);\n\n      if (loading) {\n        return _createVNode(Option, {\n          \"value\": \"ANTD_SEARCHING\",\n          \"disabled\": true\n        }, {\n          default: function _default() {\n            return [_createVNode(Spin, {\n              \"size\": \"small\"\n            }, null)];\n          }\n        });\n      }\n\n      return children;\n    },\n    getFilterOption: function getFilterOption() {\n      var _this$$props = this.$props,\n          filterOption = _this$$props.filterOption,\n          loading = _this$$props.loading;\n\n      if (loading) {\n        return loadingFilterOption;\n      }\n\n      return filterOption;\n    },\n    focus: function focus() {\n      this.$refs.vcMentions.focus();\n    },\n    blur: function blur() {\n      this.$refs.vcMentions.blur();\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var focused = this.$data.focused;\n    var _this$configProvider = this.configProvider,\n        getPrefixCls = _this$configProvider.getPrefixCls,\n        renderEmpty = _this$configProvider.renderEmpty;\n\n    var _a = getOptionProps(this),\n        customizePrefixCls = _a.prefixCls,\n        disabled = _a.disabled,\n        getPopupContainer = _a.getPopupContainer,\n        restProps = __rest(_a, [\"prefixCls\", \"disabled\", \"getPopupContainer\"]);\n\n    var _b = this.$attrs,\n        className = _b.class,\n        otherAttrs = __rest(_b, [\"class\"]);\n\n    var prefixCls = getPrefixCls('mentions', customizePrefixCls);\n    var otherProps = omit(restProps, ['loading', 'onUpdate:value']);\n    var mergedClassName = classNames(className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused), _classNames));\n\n    var mentionsProps = _extends(_extends(_extends(_extends({\n      prefixCls: prefixCls,\n      notFoundContent: this.getNotFoundContent(renderEmpty)\n    }, otherProps), {\n      disabled: disabled,\n      filterOption: this.getFilterOption(),\n      getPopupContainer: getPopupContainer,\n      children: this.getOptions(),\n      class: mergedClassName,\n      rows: 1\n    }), otherAttrs), {\n      onChange: this.handleChange,\n      onSelect: this.handleSelect,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      ref: 'vcMentions'\n    });\n\n    return _createVNode(VcMentions, mentionsProps, null);\n  }\n});\n/* istanbul ignore next */\n\nMentions.install = function (app) {\n  app.component(Mentions.name, Mentions);\n  app.component(Mentions.Option.name, Mentions.Option);\n  return app;\n};\n\nexport var MentionsOption = Mentions.Option;\nexport default Mentions;"]},"metadata":{},"sourceType":"module"}