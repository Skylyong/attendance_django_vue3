{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, provide } from 'vue';\nimport { initDefaultProps, getSlot, findDOMNode } from '../_util/props-util';\nimport KeyCode from '../_util/KeyCode';\nimport contains from '../vc-util/Dom/contains';\nimport LazyRenderBox from './LazyRenderBox';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport _switchScrollingEffect from '../_util/switchScrollingEffect';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport warning from '../_util/warning';\nvar IDialogPropTypes = getDialogPropTypes();\nvar uuid = 0;\n\nfunction noop() {}\n\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction setTransformOrigin(node, value) {\n  var style = node.style;\n  ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n    style[\"\".concat(prefix, \"TransformOrigin\")] = value;\n  });\n  style[\"transformOrigin\"] = value;\n}\n\nfunction offset(el) {\n  var rect = el.getBoundingClientRect();\n  var pos = {\n    left: rect.left,\n    top: rect.top\n  };\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  pos.top += getScroll(w, true);\n  return pos;\n}\n\nvar cacheOverflow = {};\nexport default defineComponent({\n  name: 'VcDialog',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    mask: true,\n    visible: false,\n    keyboard: true,\n    closable: true,\n    maskClosable: true,\n    destroyOnClose: false,\n    prefixCls: 'rc-dialog',\n    getOpenCount: function getOpenCount() {\n      return null;\n    },\n    focusTriggerAfterClose: true\n  }),\n  data: function data() {\n    warning(!this.dialogClass, 'Modal', 'dialogClass is deprecated, please use class instead.');\n    warning(!this.dialogStyle, 'Modal', 'dialogStyle is deprecated, please use style instead.');\n    return {\n      inTransition: false,\n      titleId: \"rcDialogTitle\".concat(uuid++),\n      dialogMouseDown: undefined\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.updatedCallback(!val);\n      });\n    }\n  },\n  created: function created() {\n    provide('dialogContext', this);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCallback(false); // if forceRender is true, set element style display to be none;\n\n\n      if ((_this2.forceRender || _this2.getContainer === false && !_this2.visible) && _this2.$refs.wrap) {\n        _this2.$refs.wrap.style.display = 'none';\n      }\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    var visible = this.visible,\n        getOpenCount = this.getOpenCount;\n\n    if ((visible || this.inTransition) && !getOpenCount()) {\n      this.switchScrollingEffect();\n    }\n\n    clearTimeout(this.timeoutId);\n  },\n  methods: {\n    // 对外暴露的 api 不要更改名称或删除\n    getDialogWrap: function getDialogWrap() {\n      return this.$refs.wrap;\n    },\n    updatedCallback: function updatedCallback(visible) {\n      var mousePosition = this.mousePosition;\n      var mask = this.mask,\n          focusTriggerAfterClose = this.focusTriggerAfterClose;\n\n      if (this.visible) {\n        // first show\n        if (!visible) {\n          this.openTime = Date.now(); // this.lastOutSideFocusNode = document.activeElement\n\n          this.switchScrollingEffect(); // this.$refs.wrap.focus()\n\n          this.tryFocus();\n          var dialogNode = findDOMNode(this.$refs.dialog);\n\n          if (mousePosition) {\n            var elOffset = offset(dialogNode);\n            setTransformOrigin(dialogNode, \"\".concat(mousePosition.x - elOffset.left, \"px \").concat(mousePosition.y - elOffset.top, \"px\"));\n          } else {\n            setTransformOrigin(dialogNode, '');\n          }\n        }\n      } else if (visible) {\n        this.inTransition = true;\n\n        if (mask && this.lastOutSideFocusNode && focusTriggerAfterClose) {\n          try {\n            this.lastOutSideFocusNode.focus();\n          } catch (e) {\n            this.lastOutSideFocusNode = null;\n          }\n\n          this.lastOutSideFocusNode = null;\n        }\n      }\n    },\n    tryFocus: function tryFocus() {\n      if (!contains(this.$refs.wrap, document.activeElement)) {\n        this.lastOutSideFocusNode = document.activeElement;\n        this.$refs.sentinelStart.focus();\n      }\n    },\n    onAnimateLeave: function onAnimateLeave() {\n      var afterClose = this.afterClose; // need demo?\n      // https://github.com/react-component/dialog/pull/28\n\n      if (this.$refs.wrap) {\n        this.$refs.wrap.style.display = 'none';\n      }\n\n      this.inTransition = false;\n      this.switchScrollingEffect();\n\n      if (afterClose) {\n        afterClose();\n      }\n    },\n    onDialogMouseDown: function onDialogMouseDown() {\n      this.dialogMouseDown = true;\n    },\n    onMaskMouseUp: function onMaskMouseUp() {\n      var _this3 = this;\n\n      if (this.dialogMouseDown) {\n        this.timeoutId = setTimeout(function () {\n          _this3.dialogMouseDown = false;\n        }, 0);\n      }\n    },\n    onMaskClick: function onMaskClick(e) {\n      // android trigger click on open (fastclick??)\n      if (Date.now() - this.openTime < 300) {\n        return;\n      }\n\n      if (e.target === e.currentTarget && !this.dialogMouseDown) {\n        this.close(e);\n      }\n    },\n    onKeydown: function onKeydown(e) {\n      var props = this.$props;\n\n      if (props.keyboard && e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        this.close(e);\n        return;\n      } // keep focus inside dialog\n\n\n      if (props.visible) {\n        if (e.keyCode === KeyCode.TAB) {\n          var activeElement = document.activeElement;\n          var sentinelStart = this.$refs.sentinelStart;\n\n          if (e.shiftKey) {\n            if (activeElement === sentinelStart) {\n              this.$refs.sentinelEnd.focus();\n            }\n          } else if (activeElement === this.$refs.sentinelEnd) {\n            sentinelStart.focus();\n          }\n        }\n      }\n    },\n    getDialogElement: function getDialogElement() {\n      var _this4 = this;\n\n      var closable = this.closable,\n          prefixCls = this.prefixCls,\n          width = this.width,\n          height = this.height,\n          title = this.title,\n          tempFooter = this.footer,\n          bodyStyle = this.bodyStyle,\n          visible = this.visible,\n          bodyProps = this.bodyProps,\n          forceRender = this.forceRender,\n          closeIcon = this.closeIcon,\n          _this$dialogStyle = this.dialogStyle,\n          dialogStyle = _this$dialogStyle === void 0 ? {} : _this$dialogStyle,\n          _this$dialogClass = this.dialogClass,\n          dialogClass = _this$dialogClass === void 0 ? '' : _this$dialogClass;\n\n      var dest = _extends({}, dialogStyle);\n\n      if (width !== undefined) {\n        dest.width = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n      }\n\n      if (height !== undefined) {\n        dest.height = typeof height === 'number' ? \"\".concat(height, \"px\") : height;\n      }\n\n      var footer;\n\n      if (tempFooter) {\n        footer = _createVNode(\"div\", {\n          \"key\": \"footer\",\n          \"class\": \"\".concat(prefixCls, \"-footer\"),\n          \"ref\": \"footer\"\n        }, [tempFooter]);\n      }\n\n      var header;\n\n      if (title) {\n        header = _createVNode(\"div\", {\n          \"key\": \"header\",\n          \"class\": \"\".concat(prefixCls, \"-header\"),\n          \"ref\": \"header\"\n        }, [_createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls, \"-title\"),\n          \"id\": this.titleId\n        }, [title])]);\n      }\n\n      var closer;\n\n      if (closable) {\n        closer = _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"key\": \"close\",\n          \"onClick\": this.close || noop,\n          \"aria-label\": \"Close\",\n          \"class\": \"\".concat(prefixCls, \"-close\")\n        }, [closeIcon || _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls, \"-close-x\")\n        }, null)]);\n      }\n\n      var _this$$attrs = this.$attrs,\n          stl = _this$$attrs.style,\n          className = _this$$attrs.class;\n\n      var style = _extends(_extends({}, stl), dest);\n\n      var sentinelStyle = {\n        width: 0,\n        height: 0,\n        overflow: 'hidden'\n      };\n      var cls = [prefixCls, className, dialogClass];\n      var transitionName = this.getTransitionName();\n\n      var dialogElement = _withDirectives(_createVNode(LazyRenderBox, {\n        \"key\": \"dialog-element\",\n        \"role\": \"document\",\n        \"ref\": \"dialog\",\n        \"style\": style,\n        \"class\": cls,\n        \"forceRender\": forceRender,\n        \"onMousedown\": this.onDialogMouseDown\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"tabindex\": 0,\n            \"ref\": \"sentinelStart\",\n            \"style\": sentinelStyle,\n            \"aria-hidden\": \"true\"\n          }, null), _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-content\")\n          }, [closer, header, _createVNode(\"div\", _objectSpread({\n            \"key\": \"body\",\n            \"class\": \"\".concat(prefixCls, \"-body\"),\n            \"style\": bodyStyle,\n            \"ref\": \"body\"\n          }, bodyProps), [getSlot(_this4)]), footer]), _createVNode(\"div\", {\n            \"tabindex\": 0,\n            \"ref\": \"sentinelEnd\",\n            \"style\": sentinelStyle,\n            \"aria-hidden\": \"true\"\n          }, null)];\n        }\n      }), [[_vShow, visible]]);\n\n      var dialogTransitionProps = getTransitionProps(transitionName, {\n        onAfterLeave: this.onAnimateLeave\n      });\n      return _createVNode(Transition, _objectSpread({\n        \"key\": \"dialog\"\n      }, dialogTransitionProps), {\n        default: function _default() {\n          return [visible || !_this4.destroyOnClose ? dialogElement : null];\n        }\n      });\n    },\n    getZIndexStyle: function getZIndexStyle() {\n      var style = {};\n      var props = this.$props;\n\n      if (props.zIndex !== undefined) {\n        style.zIndex = props.zIndex;\n      }\n\n      return style;\n    },\n    getWrapStyle: function getWrapStyle() {\n      return _extends(_extends({}, this.getZIndexStyle()), this.wrapStyle);\n    },\n    getMaskStyle: function getMaskStyle() {\n      return _extends(_extends({}, this.getZIndexStyle()), this.maskStyle);\n    },\n    getMaskElement: function getMaskElement() {\n      var props = this.$props;\n      var maskElement;\n\n      if (props.mask) {\n        var maskTransition = this.getMaskTransitionName();\n\n        var tempMaskElement = _withDirectives(_createVNode(LazyRenderBox, _objectSpread({\n          \"style\": this.getMaskStyle(),\n          \"key\": \"mask\",\n          \"class\": \"\".concat(props.prefixCls, \"-mask\")\n        }, props.maskProps || {}), null), [[_vShow, props.visible]]);\n\n        if (maskTransition) {\n          var maskTransitionProps = getTransitionProps(maskTransition);\n          maskElement = _createVNode(Transition, _objectSpread({\n            \"key\": \"mask\"\n          }, maskTransitionProps), {\n            default: function _default() {\n              return [tempMaskElement];\n            }\n          });\n        } else {\n          maskElement = tempMaskElement;\n        }\n      }\n\n      return maskElement;\n    },\n    getMaskTransitionName: function getMaskTransitionName() {\n      var props = this.$props;\n      var transitionName = props.maskTransitionName;\n      var animation = props.maskAnimation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n      var animation = props.animation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    // setScrollbar() {\n    //   if (this.bodyIsOverflowing && this.scrollbarWidth !== undefined) {\n    //     document.body.style.paddingRight = `${this.scrollbarWidth}px`;\n    //   }\n    // },\n    switchScrollingEffect: function switchScrollingEffect() {\n      var getOpenCount = this.getOpenCount;\n      var openCount = getOpenCount();\n\n      if (openCount === 1) {\n        if (cacheOverflow.hasOwnProperty('overflowX')) {\n          return;\n        }\n\n        cacheOverflow = {\n          overflowX: document.body.style.overflowX,\n          overflowY: document.body.style.overflowY,\n          overflow: document.body.style.overflow\n        };\n\n        _switchScrollingEffect(); // Must be set after switchScrollingEffect\n\n\n        document.body.style.overflow = 'hidden';\n      } else if (!openCount) {\n        // IE browser doesn't merge overflow style, need to set it separately\n        // https://github.com/ant-design/ant-design/issues/19393\n        if (cacheOverflow.overflow !== undefined) {\n          document.body.style.overflow = cacheOverflow.overflow;\n        }\n\n        if (cacheOverflow.overflowX !== undefined) {\n          document.body.style.overflowX = cacheOverflow.overflowX;\n        }\n\n        if (cacheOverflow.overflowY !== undefined) {\n          document.body.style.overflowY = cacheOverflow.overflowY;\n        }\n\n        cacheOverflow = {};\n\n        _switchScrollingEffect(true);\n      }\n    },\n    // removeScrollingEffect() {\n    //   const { getOpenCount } = this;\n    //   const openCount = getOpenCount();\n    //   if (openCount !== 0) {\n    //     return;\n    //   }\n    //   document.body.style.overflow = '';\n    //   switchScrollingEffect(true);\n    //   // this.resetAdjustments();\n    // },\n    close: function close(e) {\n      this.__emit('close', e);\n    }\n  },\n  render: function render() {\n    var prefixCls = this.prefixCls,\n        maskClosable = this.maskClosable,\n        visible = this.visible,\n        wrapClassName = this.wrapClassName,\n        title = this.title,\n        wrapProps = this.wrapProps;\n    var style = this.getWrapStyle(); // clear hide display\n    // and only set display after async anim, not here for hide\n\n    if (visible) {\n      style.display = null;\n    }\n\n    return _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-root\")\n    }, [this.getMaskElement(), _createVNode(\"div\", _objectSpread({\n      \"tabindex\": -1,\n      \"onKeydown\": this.onKeydown,\n      \"class\": \"\".concat(prefixCls, \"-wrap \").concat(wrapClassName || ''),\n      \"ref\": \"wrap\",\n      \"onClick\": maskClosable ? this.onMaskClick : noop,\n      \"onMouseup\": maskClosable ? this.onMaskMouseUp : noop,\n      \"role\": \"dialog\",\n      \"aria-labelledby\": title ? this.titleId : null,\n      \"style\": style\n    }, wrapProps), [this.getDialogElement()])]);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-dialog/Dialog.js"],"names":["_objectSpread","_extends","withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","defineComponent","provide","initDefaultProps","getSlot","findDOMNode","KeyCode","contains","LazyRenderBox","BaseMixin","getTransitionProps","Transition","_switchScrollingEffect","getDialogPropTypes","warning","IDialogPropTypes","uuid","noop","getScroll","w","top","ret","concat","method","d","document","documentElement","body","setTransformOrigin","node","value","style","forEach","prefix","offset","el","rect","getBoundingClientRect","pos","left","doc","ownerDocument","defaultView","parentWindow","cacheOverflow","name","mixins","inheritAttrs","props","mask","visible","keyboard","closable","maskClosable","destroyOnClose","prefixCls","getOpenCount","focusTriggerAfterClose","data","dialogClass","dialogStyle","inTransition","titleId","dialogMouseDown","undefined","watch","val","_this","$nextTick","updatedCallback","created","mounted","_this2","forceRender","getContainer","$refs","wrap","display","beforeUnmount","switchScrollingEffect","clearTimeout","timeoutId","methods","getDialogWrap","mousePosition","openTime","Date","now","tryFocus","dialogNode","dialog","elOffset","x","y","lastOutSideFocusNode","focus","e","activeElement","sentinelStart","onAnimateLeave","afterClose","onDialogMouseDown","onMaskMouseUp","_this3","setTimeout","onMaskClick","target","currentTarget","close","onKeydown","$props","keyCode","ESC","stopPropagation","TAB","shiftKey","sentinelEnd","getDialogElement","_this4","width","height","title","tempFooter","footer","bodyStyle","bodyProps","closeIcon","_this$dialogStyle","_this$dialogClass","dest","header","closer","_this$$attrs","$attrs","stl","className","class","sentinelStyle","overflow","cls","transitionName","getTransitionName","dialogElement","default","_default","dialogTransitionProps","onAfterLeave","getZIndexStyle","zIndex","getWrapStyle","wrapStyle","getMaskStyle","maskStyle","getMaskElement","maskElement","maskTransition","getMaskTransitionName","tempMaskElement","maskProps","maskTransitionProps","maskTransitionName","animation","maskAnimation","openCount","hasOwnProperty","overflowX","overflowY","__emit","render","wrapClassName","wrapProps"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, provide } from 'vue';\nimport { initDefaultProps, getSlot, findDOMNode } from '../_util/props-util';\nimport KeyCode from '../_util/KeyCode';\nimport contains from '../vc-util/Dom/contains';\nimport LazyRenderBox from './LazyRenderBox';\nimport BaseMixin from '../_util/BaseMixin';\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport _switchScrollingEffect from '../_util/switchScrollingEffect';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport warning from '../_util/warning';\nvar IDialogPropTypes = getDialogPropTypes();\nvar uuid = 0;\n\nfunction noop() {}\n\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction setTransformOrigin(node, value) {\n  var style = node.style;\n  ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n    style[\"\".concat(prefix, \"TransformOrigin\")] = value;\n  });\n  style[\"transformOrigin\"] = value;\n}\n\nfunction offset(el) {\n  var rect = el.getBoundingClientRect();\n  var pos = {\n    left: rect.left,\n    top: rect.top\n  };\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  pos.top += getScroll(w, true);\n  return pos;\n}\n\nvar cacheOverflow = {};\nexport default defineComponent({\n  name: 'VcDialog',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    mask: true,\n    visible: false,\n    keyboard: true,\n    closable: true,\n    maskClosable: true,\n    destroyOnClose: false,\n    prefixCls: 'rc-dialog',\n    getOpenCount: function getOpenCount() {\n      return null;\n    },\n    focusTriggerAfterClose: true\n  }),\n  data: function data() {\n    warning(!this.dialogClass, 'Modal', 'dialogClass is deprecated, please use class instead.');\n    warning(!this.dialogStyle, 'Modal', 'dialogStyle is deprecated, please use style instead.');\n    return {\n      inTransition: false,\n      titleId: \"rcDialogTitle\".concat(uuid++),\n      dialogMouseDown: undefined\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.updatedCallback(!val);\n      });\n    }\n  },\n  created: function created() {\n    provide('dialogContext', this);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCallback(false); // if forceRender is true, set element style display to be none;\n\n\n      if ((_this2.forceRender || _this2.getContainer === false && !_this2.visible) && _this2.$refs.wrap) {\n        _this2.$refs.wrap.style.display = 'none';\n      }\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    var visible = this.visible,\n        getOpenCount = this.getOpenCount;\n\n    if ((visible || this.inTransition) && !getOpenCount()) {\n      this.switchScrollingEffect();\n    }\n\n    clearTimeout(this.timeoutId);\n  },\n  methods: {\n    // 对外暴露的 api 不要更改名称或删除\n    getDialogWrap: function getDialogWrap() {\n      return this.$refs.wrap;\n    },\n    updatedCallback: function updatedCallback(visible) {\n      var mousePosition = this.mousePosition;\n      var mask = this.mask,\n          focusTriggerAfterClose = this.focusTriggerAfterClose;\n\n      if (this.visible) {\n        // first show\n        if (!visible) {\n          this.openTime = Date.now(); // this.lastOutSideFocusNode = document.activeElement\n\n          this.switchScrollingEffect(); // this.$refs.wrap.focus()\n\n          this.tryFocus();\n          var dialogNode = findDOMNode(this.$refs.dialog);\n\n          if (mousePosition) {\n            var elOffset = offset(dialogNode);\n            setTransformOrigin(dialogNode, \"\".concat(mousePosition.x - elOffset.left, \"px \").concat(mousePosition.y - elOffset.top, \"px\"));\n          } else {\n            setTransformOrigin(dialogNode, '');\n          }\n        }\n      } else if (visible) {\n        this.inTransition = true;\n\n        if (mask && this.lastOutSideFocusNode && focusTriggerAfterClose) {\n          try {\n            this.lastOutSideFocusNode.focus();\n          } catch (e) {\n            this.lastOutSideFocusNode = null;\n          }\n\n          this.lastOutSideFocusNode = null;\n        }\n      }\n    },\n    tryFocus: function tryFocus() {\n      if (!contains(this.$refs.wrap, document.activeElement)) {\n        this.lastOutSideFocusNode = document.activeElement;\n        this.$refs.sentinelStart.focus();\n      }\n    },\n    onAnimateLeave: function onAnimateLeave() {\n      var afterClose = this.afterClose; // need demo?\n      // https://github.com/react-component/dialog/pull/28\n\n      if (this.$refs.wrap) {\n        this.$refs.wrap.style.display = 'none';\n      }\n\n      this.inTransition = false;\n      this.switchScrollingEffect();\n\n      if (afterClose) {\n        afterClose();\n      }\n    },\n    onDialogMouseDown: function onDialogMouseDown() {\n      this.dialogMouseDown = true;\n    },\n    onMaskMouseUp: function onMaskMouseUp() {\n      var _this3 = this;\n\n      if (this.dialogMouseDown) {\n        this.timeoutId = setTimeout(function () {\n          _this3.dialogMouseDown = false;\n        }, 0);\n      }\n    },\n    onMaskClick: function onMaskClick(e) {\n      // android trigger click on open (fastclick??)\n      if (Date.now() - this.openTime < 300) {\n        return;\n      }\n\n      if (e.target === e.currentTarget && !this.dialogMouseDown) {\n        this.close(e);\n      }\n    },\n    onKeydown: function onKeydown(e) {\n      var props = this.$props;\n\n      if (props.keyboard && e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        this.close(e);\n        return;\n      } // keep focus inside dialog\n\n\n      if (props.visible) {\n        if (e.keyCode === KeyCode.TAB) {\n          var activeElement = document.activeElement;\n          var sentinelStart = this.$refs.sentinelStart;\n\n          if (e.shiftKey) {\n            if (activeElement === sentinelStart) {\n              this.$refs.sentinelEnd.focus();\n            }\n          } else if (activeElement === this.$refs.sentinelEnd) {\n            sentinelStart.focus();\n          }\n        }\n      }\n    },\n    getDialogElement: function getDialogElement() {\n      var _this4 = this;\n\n      var closable = this.closable,\n          prefixCls = this.prefixCls,\n          width = this.width,\n          height = this.height,\n          title = this.title,\n          tempFooter = this.footer,\n          bodyStyle = this.bodyStyle,\n          visible = this.visible,\n          bodyProps = this.bodyProps,\n          forceRender = this.forceRender,\n          closeIcon = this.closeIcon,\n          _this$dialogStyle = this.dialogStyle,\n          dialogStyle = _this$dialogStyle === void 0 ? {} : _this$dialogStyle,\n          _this$dialogClass = this.dialogClass,\n          dialogClass = _this$dialogClass === void 0 ? '' : _this$dialogClass;\n\n      var dest = _extends({}, dialogStyle);\n\n      if (width !== undefined) {\n        dest.width = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n      }\n\n      if (height !== undefined) {\n        dest.height = typeof height === 'number' ? \"\".concat(height, \"px\") : height;\n      }\n\n      var footer;\n\n      if (tempFooter) {\n        footer = _createVNode(\"div\", {\n          \"key\": \"footer\",\n          \"class\": \"\".concat(prefixCls, \"-footer\"),\n          \"ref\": \"footer\"\n        }, [tempFooter]);\n      }\n\n      var header;\n\n      if (title) {\n        header = _createVNode(\"div\", {\n          \"key\": \"header\",\n          \"class\": \"\".concat(prefixCls, \"-header\"),\n          \"ref\": \"header\"\n        }, [_createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls, \"-title\"),\n          \"id\": this.titleId\n        }, [title])]);\n      }\n\n      var closer;\n\n      if (closable) {\n        closer = _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"key\": \"close\",\n          \"onClick\": this.close || noop,\n          \"aria-label\": \"Close\",\n          \"class\": \"\".concat(prefixCls, \"-close\")\n        }, [closeIcon || _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls, \"-close-x\")\n        }, null)]);\n      }\n\n      var _this$$attrs = this.$attrs,\n          stl = _this$$attrs.style,\n          className = _this$$attrs.class;\n\n      var style = _extends(_extends({}, stl), dest);\n\n      var sentinelStyle = {\n        width: 0,\n        height: 0,\n        overflow: 'hidden'\n      };\n      var cls = [prefixCls, className, dialogClass];\n      var transitionName = this.getTransitionName();\n\n      var dialogElement = _withDirectives(_createVNode(LazyRenderBox, {\n        \"key\": \"dialog-element\",\n        \"role\": \"document\",\n        \"ref\": \"dialog\",\n        \"style\": style,\n        \"class\": cls,\n        \"forceRender\": forceRender,\n        \"onMousedown\": this.onDialogMouseDown\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"tabindex\": 0,\n            \"ref\": \"sentinelStart\",\n            \"style\": sentinelStyle,\n            \"aria-hidden\": \"true\"\n          }, null), _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-content\")\n          }, [closer, header, _createVNode(\"div\", _objectSpread({\n            \"key\": \"body\",\n            \"class\": \"\".concat(prefixCls, \"-body\"),\n            \"style\": bodyStyle,\n            \"ref\": \"body\"\n          }, bodyProps), [getSlot(_this4)]), footer]), _createVNode(\"div\", {\n            \"tabindex\": 0,\n            \"ref\": \"sentinelEnd\",\n            \"style\": sentinelStyle,\n            \"aria-hidden\": \"true\"\n          }, null)];\n        }\n      }), [[_vShow, visible]]);\n\n      var dialogTransitionProps = getTransitionProps(transitionName, {\n        onAfterLeave: this.onAnimateLeave\n      });\n      return _createVNode(Transition, _objectSpread({\n        \"key\": \"dialog\"\n      }, dialogTransitionProps), {\n        default: function _default() {\n          return [visible || !_this4.destroyOnClose ? dialogElement : null];\n        }\n      });\n    },\n    getZIndexStyle: function getZIndexStyle() {\n      var style = {};\n      var props = this.$props;\n\n      if (props.zIndex !== undefined) {\n        style.zIndex = props.zIndex;\n      }\n\n      return style;\n    },\n    getWrapStyle: function getWrapStyle() {\n      return _extends(_extends({}, this.getZIndexStyle()), this.wrapStyle);\n    },\n    getMaskStyle: function getMaskStyle() {\n      return _extends(_extends({}, this.getZIndexStyle()), this.maskStyle);\n    },\n    getMaskElement: function getMaskElement() {\n      var props = this.$props;\n      var maskElement;\n\n      if (props.mask) {\n        var maskTransition = this.getMaskTransitionName();\n\n        var tempMaskElement = _withDirectives(_createVNode(LazyRenderBox, _objectSpread({\n          \"style\": this.getMaskStyle(),\n          \"key\": \"mask\",\n          \"class\": \"\".concat(props.prefixCls, \"-mask\")\n        }, props.maskProps || {}), null), [[_vShow, props.visible]]);\n\n        if (maskTransition) {\n          var maskTransitionProps = getTransitionProps(maskTransition);\n          maskElement = _createVNode(Transition, _objectSpread({\n            \"key\": \"mask\"\n          }, maskTransitionProps), {\n            default: function _default() {\n              return [tempMaskElement];\n            }\n          });\n        } else {\n          maskElement = tempMaskElement;\n        }\n      }\n\n      return maskElement;\n    },\n    getMaskTransitionName: function getMaskTransitionName() {\n      var props = this.$props;\n      var transitionName = props.maskTransitionName;\n      var animation = props.maskAnimation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n      var animation = props.animation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    // setScrollbar() {\n    //   if (this.bodyIsOverflowing && this.scrollbarWidth !== undefined) {\n    //     document.body.style.paddingRight = `${this.scrollbarWidth}px`;\n    //   }\n    // },\n    switchScrollingEffect: function switchScrollingEffect() {\n      var getOpenCount = this.getOpenCount;\n      var openCount = getOpenCount();\n\n      if (openCount === 1) {\n        if (cacheOverflow.hasOwnProperty('overflowX')) {\n          return;\n        }\n\n        cacheOverflow = {\n          overflowX: document.body.style.overflowX,\n          overflowY: document.body.style.overflowY,\n          overflow: document.body.style.overflow\n        };\n\n        _switchScrollingEffect(); // Must be set after switchScrollingEffect\n\n\n        document.body.style.overflow = 'hidden';\n      } else if (!openCount) {\n        // IE browser doesn't merge overflow style, need to set it separately\n        // https://github.com/ant-design/ant-design/issues/19393\n        if (cacheOverflow.overflow !== undefined) {\n          document.body.style.overflow = cacheOverflow.overflow;\n        }\n\n        if (cacheOverflow.overflowX !== undefined) {\n          document.body.style.overflowX = cacheOverflow.overflowX;\n        }\n\n        if (cacheOverflow.overflowY !== undefined) {\n          document.body.style.overflowY = cacheOverflow.overflowY;\n        }\n\n        cacheOverflow = {};\n\n        _switchScrollingEffect(true);\n      }\n    },\n    // removeScrollingEffect() {\n    //   const { getOpenCount } = this;\n    //   const openCount = getOpenCount();\n    //   if (openCount !== 0) {\n    //     return;\n    //   }\n    //   document.body.style.overflow = '';\n    //   switchScrollingEffect(true);\n    //   // this.resetAdjustments();\n    // },\n    close: function close(e) {\n      this.__emit('close', e);\n    }\n  },\n  render: function render() {\n    var prefixCls = this.prefixCls,\n        maskClosable = this.maskClosable,\n        visible = this.visible,\n        wrapClassName = this.wrapClassName,\n        title = this.title,\n        wrapProps = this.wrapProps;\n    var style = this.getWrapStyle(); // clear hide display\n    // and only set display after async anim, not here for hide\n\n    if (visible) {\n      style.display = null;\n    }\n\n    return _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-root\")\n    }, [this.getMaskElement(), _createVNode(\"div\", _objectSpread({\n      \"tabindex\": -1,\n      \"onKeydown\": this.onKeydown,\n      \"class\": \"\".concat(prefixCls, \"-wrap \").concat(wrapClassName || ''),\n      \"ref\": \"wrap\",\n      \"onClick\": maskClosable ? this.onMaskClick : noop,\n      \"onMouseup\": maskClosable ? this.onMaskMouseUp : noop,\n      \"role\": \"dialog\",\n      \"aria-labelledby\": title ? this.titleId : null,\n      \"style\": style\n    }, wrapProps), [this.getDialogElement()])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}