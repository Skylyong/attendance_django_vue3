{"ast":null,"code":"import cssAnimation from './css-animation';\nimport { nextTick } from 'vue';\n\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  var appearRequestAnimationFrameId;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (appearRequestAnimationFrameId) {\n        cancelAnimationFrame(appearRequestAnimationFrameId);\n      }\n\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight; // not get offsetHeight when appear\n        // set it into raf get correct offsetHeight\n\n        if (height === 0) {\n          appearRequestAnimationFrameId = requestAnimationFrame(function () {\n            height = node.offsetHeight;\n            node.style.height = '0px';\n            node.style.opacity = '0';\n          });\n        } else {\n          node.style.height = '0px';\n          node.style.opacity = '0';\n        }\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        cancelAnimationFrame(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = requestAnimationFrame(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (appearRequestAnimationFrameId) {\n        cancelAnimationFrame(appearRequestAnimationFrameId);\n      }\n\n      if (requestAnimationFrameId) {\n        cancelAnimationFrame(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done && done();\n    }\n  });\n}\n\nvar animation = {\n  onEnter: function onEnter(node, done) {\n    nextTick(function () {\n      animate(node, true, done);\n    });\n  },\n  onLeave: function onLeave(node, done) {\n    return animate(node, false, done);\n  }\n};\nexport default animation;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/_util/openAnimation.js"],"names":["cssAnimation","nextTick","animate","node","show","done","height","requestAnimationFrameId","appearRequestAnimationFrameId","start","cancelAnimationFrame","style","concat","offsetHeight","opacity","requestAnimationFrame","active","end","animation","onEnter","onLeave"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,QAAT,QAAyB,KAAzB;;AAEA,SAASC,OAAT,CAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;AACjC,MAAIC,MAAJ;AACA,MAAIC,uBAAJ;AACA,MAAIC,6BAAJ;AACA,SAAOR,YAAY,CAACG,IAAD,EAAO,4BAAP,EAAqC;AACtDM,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,UAAID,6BAAJ,EAAmC;AACjCE,QAAAA,oBAAoB,CAACF,6BAAD,CAApB;AACD;;AAED,UAAI,CAACJ,IAAL,EAAW;AACTD,QAAAA,IAAI,CAACQ,KAAL,CAAWL,MAAX,GAAoB,GAAGM,MAAH,CAAUT,IAAI,CAACU,YAAf,EAA6B,IAA7B,CAApB;AACAV,QAAAA,IAAI,CAACQ,KAAL,CAAWG,OAAX,GAAqB,GAArB;AACD,OAHD,MAGO;AACLR,QAAAA,MAAM,GAAGH,IAAI,CAACU,YAAd,CADK,CACuB;AAC5B;;AAEA,YAAIP,MAAM,KAAK,CAAf,EAAkB;AAChBE,UAAAA,6BAA6B,GAAGO,qBAAqB,CAAC,YAAY;AAChET,YAAAA,MAAM,GAAGH,IAAI,CAACU,YAAd;AACAV,YAAAA,IAAI,CAACQ,KAAL,CAAWL,MAAX,GAAoB,KAApB;AACAH,YAAAA,IAAI,CAACQ,KAAL,CAAWG,OAAX,GAAqB,GAArB;AACD,WAJoD,CAArD;AAKD,SAND,MAMO;AACLX,UAAAA,IAAI,CAACQ,KAAL,CAAWL,MAAX,GAAoB,KAApB;AACAH,UAAAA,IAAI,CAACQ,KAAL,CAAWG,OAAX,GAAqB,GAArB;AACD;AACF;AACF,KAxBqD;AAyBtDE,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,UAAIT,uBAAJ,EAA6B;AAC3BG,QAAAA,oBAAoB,CAACH,uBAAD,CAApB;AACD;;AAEDA,MAAAA,uBAAuB,GAAGQ,qBAAqB,CAAC,YAAY;AAC1DZ,QAAAA,IAAI,CAACQ,KAAL,CAAWL,MAAX,GAAoB,GAAGM,MAAH,CAAUR,IAAI,GAAGE,MAAH,GAAY,CAA1B,EAA6B,IAA7B,CAApB;AACAH,QAAAA,IAAI,CAACQ,KAAL,CAAWG,OAAX,GAAqBV,IAAI,GAAG,GAAH,GAAS,GAAlC;AACD,OAH8C,CAA/C;AAID,KAlCqD;AAmCtDa,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,UAAIT,6BAAJ,EAAmC;AACjCE,QAAAA,oBAAoB,CAACF,6BAAD,CAApB;AACD;;AAED,UAAID,uBAAJ,EAA6B;AAC3BG,QAAAA,oBAAoB,CAACH,uBAAD,CAApB;AACD;;AAEDJ,MAAAA,IAAI,CAACQ,KAAL,CAAWL,MAAX,GAAoB,EAApB;AACAH,MAAAA,IAAI,CAACQ,KAAL,CAAWG,OAAX,GAAqB,EAArB;AACAT,MAAAA,IAAI,IAAIA,IAAI,EAAZ;AACD;AA/CqD,GAArC,CAAnB;AAiDD;;AAED,IAAIa,SAAS,GAAG;AACdC,EAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBhB,IAAjB,EAAuBE,IAAvB,EAA6B;AACpCJ,IAAAA,QAAQ,CAAC,YAAY;AACnBC,MAAAA,OAAO,CAACC,IAAD,EAAO,IAAP,EAAaE,IAAb,CAAP;AACD,KAFO,CAAR;AAGD,GALa;AAMde,EAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBjB,IAAjB,EAAuBE,IAAvB,EAA6B;AACpC,WAAOH,OAAO,CAACC,IAAD,EAAO,KAAP,EAAcE,IAAd,CAAd;AACD;AARa,CAAhB;AAUA,eAAea,SAAf","sourcesContent":["import cssAnimation from './css-animation';\nimport { nextTick } from 'vue';\n\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  var appearRequestAnimationFrameId;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (appearRequestAnimationFrameId) {\n        cancelAnimationFrame(appearRequestAnimationFrameId);\n      }\n\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight; // not get offsetHeight when appear\n        // set it into raf get correct offsetHeight\n\n        if (height === 0) {\n          appearRequestAnimationFrameId = requestAnimationFrame(function () {\n            height = node.offsetHeight;\n            node.style.height = '0px';\n            node.style.opacity = '0';\n          });\n        } else {\n          node.style.height = '0px';\n          node.style.opacity = '0';\n        }\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        cancelAnimationFrame(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = requestAnimationFrame(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (appearRequestAnimationFrameId) {\n        cancelAnimationFrame(appearRequestAnimationFrameId);\n      }\n\n      if (requestAnimationFrameId) {\n        cancelAnimationFrame(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done && done();\n    }\n  });\n}\n\nvar animation = {\n  onEnter: function onEnter(node, done) {\n    nextTick(function () {\n      animate(node, true, done);\n    });\n  },\n  onLeave: function onLeave(node, done) {\n    return animate(node, false, done);\n  }\n};\nexport default animation;"]},"metadata":{},"sourceType":"module"}