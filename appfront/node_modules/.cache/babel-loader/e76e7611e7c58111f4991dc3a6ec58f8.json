{"ast":null,"code":"var round = require('./round');\n\nvar toValueString = require('./toValueString');\n\nvar helperStringRepeat = require('./helperStringRepeat');\n\nvar helperNumberOffsetPoint = require('./helperNumberOffsetPoint');\n/**\r\n  * 将数值四舍五入并格式化为固定小数位的字符串\r\n  *\r\n * @param {string|number} num 数值\r\n * @param {number} digits 小数保留位数\r\n  * @return {String}\r\n  */\n\n\nfunction toFixed(num, digits) {\n  digits = digits >> 0;\n  var str = toValueString(round(num, digits));\n  var nums = str.split('.');\n  var intStr = nums[0];\n  var floatStr = nums[1] || '';\n  var digitOffsetIndex = digits - floatStr.length;\n\n  if (digits) {\n    if (digitOffsetIndex > 0) {\n      return intStr + '.' + floatStr + helperStringRepeat('0', digitOffsetIndex);\n    }\n\n    return intStr + helperNumberOffsetPoint(floatStr, Math.abs(digitOffsetIndex));\n  }\n\n  return intStr;\n}\n\nmodule.exports = toFixed;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/toFixed.js"],"names":["round","require","toValueString","helperStringRepeat","helperNumberOffsetPoint","toFixed","num","digits","str","nums","split","intStr","floatStr","digitOffsetIndex","length","Math","abs","module","exports"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAD,CAAnB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,iBAAD,CAA3B;;AAEA,IAAIE,kBAAkB,GAAGF,OAAO,CAAC,sBAAD,CAAhC;;AACA,IAAIG,uBAAuB,GAAGH,OAAO,CAAC,2BAAD,CAArC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASI,OAAT,CAAkBC,GAAlB,EAAuBC,MAAvB,EAA+B;AAC7BA,EAAAA,MAAM,GAAGA,MAAM,IAAI,CAAnB;AACA,MAAIC,GAAG,GAAGN,aAAa,CAACF,KAAK,CAACM,GAAD,EAAMC,MAAN,CAAN,CAAvB;AACA,MAAIE,IAAI,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAX;AACA,MAAIC,MAAM,GAAGF,IAAI,CAAC,CAAD,CAAjB;AACA,MAAIG,QAAQ,GAAGH,IAAI,CAAC,CAAD,CAAJ,IAAW,EAA1B;AACA,MAAII,gBAAgB,GAAGN,MAAM,GAAGK,QAAQ,CAACE,MAAzC;;AACA,MAAIP,MAAJ,EAAY;AACV,QAAIM,gBAAgB,GAAG,CAAvB,EAA0B;AACxB,aAAOF,MAAM,GAAG,GAAT,GAAeC,QAAf,GAA0BT,kBAAkB,CAAC,GAAD,EAAMU,gBAAN,CAAnD;AACD;;AACD,WAAOF,MAAM,GAAGP,uBAAuB,CAACQ,QAAD,EAAWG,IAAI,CAACC,GAAL,CAASH,gBAAT,CAAX,CAAvC;AACD;;AACD,SAAOF,MAAP;AACD;;AAEDM,MAAM,CAACC,OAAP,GAAiBb,OAAjB","sourcesContent":["var round = require('./round')\r\nvar toValueString = require('./toValueString')\r\n\r\nvar helperStringRepeat = require('./helperStringRepeat')\r\nvar helperNumberOffsetPoint = require('./helperNumberOffsetPoint')\r\n\r\n/**\r\n  * 将数值四舍五入并格式化为固定小数位的字符串\r\n  *\r\n * @param {string|number} num 数值\r\n * @param {number} digits 小数保留位数\r\n  * @return {String}\r\n  */\r\nfunction toFixed (num, digits) {\r\n  digits = digits >> 0\r\n  var str = toValueString(round(num, digits))\r\n  var nums = str.split('.')\r\n  var intStr = nums[0]\r\n  var floatStr = nums[1] || ''\r\n  var digitOffsetIndex = digits - floatStr.length\r\n  if (digits) {\r\n    if (digitOffsetIndex > 0) {\r\n      return intStr + '.' + floatStr + helperStringRepeat('0', digitOffsetIndex)\r\n    }\r\n    return intStr + helperNumberOffsetPoint(floatStr, Math.abs(digitOffsetIndex))\r\n  }\r\n  return intStr\r\n}\r\n\r\nmodule.exports = toFixed\r\n"]},"metadata":{},"sourceType":"script"}