{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick } from 'vue';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport inputProps from './inputProps';\nimport { hasProp, getOptionProps } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport { fixControlledValue, resolveOnChange } from './Input';\nimport classNames from '../_util/classNames';\nimport PropTypes, { withUndefined } from '../_util/vue-types';\n\nvar TextAreaProps = _extends(_extends({}, inputProps), {\n  autosize: withUndefined(PropTypes.oneOfType([Object, Boolean])),\n  autoSize: withUndefined(PropTypes.oneOfType([Object, Boolean])),\n  showCount: PropTypes.looseBool,\n  onCompositionstart: PropTypes.func,\n  onCompositionend: PropTypes.func\n});\n\nexport default defineComponent({\n  name: 'ATextarea',\n  inheritAttrs: false,\n  props: _extends({}, TextAreaProps),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      resizableTextArea: null,\n      clearableInput: null\n    };\n  },\n  data: function data() {\n    var value = typeof this.value === 'undefined' ? this.defaultValue : this.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n    });\n  },\n  methods: {\n    setValue: function setValue(value, callback) {\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n      } else {\n        this.$forceUpdate();\n      }\n\n      nextTick(function () {\n        callback && callback();\n      });\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n\n      this.$emit('keydown', e);\n    },\n    triggerChange: function triggerChange(e) {\n      this.$emit('update:value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleChange: function handleChange(e) {\n      var _this2 = this;\n\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing,\n          isComposing = _e$target.isComposing;\n      if ((isComposing || composing) && this.lazy || this.stateValue === value) return;\n      this.setValue(e.target.value, function () {\n        var _a;\n\n        (_a = _this2.resizableTextArea) === null || _a === void 0 ? void 0 : _a.resizeTextarea();\n      });\n      resolveOnChange(this.resizableTextArea.textArea, e, this.triggerChange);\n    },\n    focus: function focus() {\n      this.resizableTextArea.textArea.focus();\n    },\n    blur: function blur() {\n      this.resizableTextArea.textArea.blur();\n    },\n    saveTextArea: function saveTextArea(resizableTextArea) {\n      this.resizableTextArea = resizableTextArea;\n    },\n    saveClearableInput: function saveClearableInput(clearableInput) {\n      this.clearableInput = clearableInput;\n    },\n    handleReset: function handleReset(e) {\n      var _this3 = this;\n\n      this.setValue('', function () {\n        _this3.resizableTextArea.renderTextArea();\n\n        _this3.focus();\n      });\n      resolveOnChange(this.resizableTextArea.textArea, e, this.triggerChange);\n    },\n    renderTextArea: function renderTextArea(prefixCls) {\n      var props = getOptionProps(this);\n      var _this$$attrs = this.$attrs,\n          style = _this$$attrs.style,\n          customClass = _this$$attrs.class;\n\n      var resizeProps = _extends(_extends(_extends({}, props), this.$attrs), {\n        style: !props.showCount && style,\n        class: !props.showCount && customClass,\n        showCount: null,\n        prefixCls: prefixCls,\n        onInput: this.handleChange,\n        onChange: this.handleChange,\n        onKeydown: this.handleKeyDown\n      });\n\n      return _createVNode(ResizableTextArea, _objectSpread(_objectSpread({}, resizeProps), {}, {\n        \"ref\": this.saveTextArea\n      }), null);\n    }\n  },\n  render: function render() {\n    var stateValue = this.stateValue,\n        customizePrefixCls = this.prefixCls,\n        maxlength = this.maxlength,\n        showCount = this.showCount;\n    var _this$$attrs2 = this.$attrs,\n        style = _this$$attrs2.style,\n        customClass = _this$$attrs2.class;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n    var value = fixControlledValue(stateValue); // Max length value\n\n    var hasMaxlength = Number(maxlength) > 0;\n    value = hasMaxlength ? value.slice(0, maxlength) : value;\n\n    var props = _extends(_extends(_extends({}, getOptionProps(this)), this.$attrs), {\n      prefixCls: prefixCls,\n      inputType: 'text',\n      element: this.renderTextArea(prefixCls),\n      handleReset: this.handleReset\n    });\n\n    var textareaNode = _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, props), {}, {\n      \"value\": value,\n      \"ref\": this.saveClearableInput\n    }), null);\n\n    if (showCount) {\n      var valueLength = _toConsumableArray(value).length;\n\n      var dataCount = \"\".concat(valueLength).concat(hasMaxlength ? \" / \".concat(maxlength) : '');\n\n      var _textareaNode = function () {\n        return textareaNode;\n      }();\n\n      textareaNode = _createVNode(\"div\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-textarea\"), \"\".concat(prefixCls, \"-textarea-show-count\"), customClass),\n        \"style\": style,\n        \"data-count\": dataCount\n      }, [textareaNode]);\n    }\n\n    return textareaNode;\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/input/TextArea.js"],"names":["_toConsumableArray","_objectSpread","_extends","createVNode","_createVNode","defineComponent","inject","nextTick","ClearableLabeledInput","ResizableTextArea","inputProps","hasProp","getOptionProps","defaultConfigProvider","fixControlledValue","resolveOnChange","classNames","PropTypes","withUndefined","TextAreaProps","autosize","oneOfType","Object","Boolean","autoSize","showCount","looseBool","onCompositionstart","func","onCompositionend","name","inheritAttrs","props","setup","configProvider","resizableTextArea","clearableInput","data","value","defaultValue","stateValue","watch","val","mounted","_this","process","env","NODE_ENV","autofocus","focus","methods","setValue","callback","$forceUpdate","handleKeyDown","e","keyCode","$emit","triggerChange","target","handleChange","_this2","_e$target","composing","isComposing","lazy","_a","resizeTextarea","textArea","blur","saveTextArea","saveClearableInput","handleReset","_this3","renderTextArea","prefixCls","_this$$attrs","$attrs","style","customClass","class","resizeProps","onInput","onChange","onKeydown","render","customizePrefixCls","maxlength","_this$$attrs2","getPrefixCls","hasMaxlength","Number","slice","inputType","element","textareaNode","valueLength","length","dataCount","concat","_textareaNode"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick } from 'vue';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport ResizableTextArea from './ResizableTextArea';\nimport inputProps from './inputProps';\nimport { hasProp, getOptionProps } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport { fixControlledValue, resolveOnChange } from './Input';\nimport classNames from '../_util/classNames';\nimport PropTypes, { withUndefined } from '../_util/vue-types';\n\nvar TextAreaProps = _extends(_extends({}, inputProps), {\n  autosize: withUndefined(PropTypes.oneOfType([Object, Boolean])),\n  autoSize: withUndefined(PropTypes.oneOfType([Object, Boolean])),\n  showCount: PropTypes.looseBool,\n  onCompositionstart: PropTypes.func,\n  onCompositionend: PropTypes.func\n});\n\nexport default defineComponent({\n  name: 'ATextarea',\n  inheritAttrs: false,\n  props: _extends({}, TextAreaProps),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      resizableTextArea: null,\n      clearableInput: null\n    };\n  },\n  data: function data() {\n    var value = typeof this.value === 'undefined' ? this.defaultValue : this.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n    });\n  },\n  methods: {\n    setValue: function setValue(value, callback) {\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n      } else {\n        this.$forceUpdate();\n      }\n\n      nextTick(function () {\n        callback && callback();\n      });\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n\n      this.$emit('keydown', e);\n    },\n    triggerChange: function triggerChange(e) {\n      this.$emit('update:value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleChange: function handleChange(e) {\n      var _this2 = this;\n\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing,\n          isComposing = _e$target.isComposing;\n      if ((isComposing || composing) && this.lazy || this.stateValue === value) return;\n      this.setValue(e.target.value, function () {\n        var _a;\n\n        (_a = _this2.resizableTextArea) === null || _a === void 0 ? void 0 : _a.resizeTextarea();\n      });\n      resolveOnChange(this.resizableTextArea.textArea, e, this.triggerChange);\n    },\n    focus: function focus() {\n      this.resizableTextArea.textArea.focus();\n    },\n    blur: function blur() {\n      this.resizableTextArea.textArea.blur();\n    },\n    saveTextArea: function saveTextArea(resizableTextArea) {\n      this.resizableTextArea = resizableTextArea;\n    },\n    saveClearableInput: function saveClearableInput(clearableInput) {\n      this.clearableInput = clearableInput;\n    },\n    handleReset: function handleReset(e) {\n      var _this3 = this;\n\n      this.setValue('', function () {\n        _this3.resizableTextArea.renderTextArea();\n\n        _this3.focus();\n      });\n      resolveOnChange(this.resizableTextArea.textArea, e, this.triggerChange);\n    },\n    renderTextArea: function renderTextArea(prefixCls) {\n      var props = getOptionProps(this);\n      var _this$$attrs = this.$attrs,\n          style = _this$$attrs.style,\n          customClass = _this$$attrs.class;\n\n      var resizeProps = _extends(_extends(_extends({}, props), this.$attrs), {\n        style: !props.showCount && style,\n        class: !props.showCount && customClass,\n        showCount: null,\n        prefixCls: prefixCls,\n        onInput: this.handleChange,\n        onChange: this.handleChange,\n        onKeydown: this.handleKeyDown\n      });\n\n      return _createVNode(ResizableTextArea, _objectSpread(_objectSpread({}, resizeProps), {}, {\n        \"ref\": this.saveTextArea\n      }), null);\n    }\n  },\n  render: function render() {\n    var stateValue = this.stateValue,\n        customizePrefixCls = this.prefixCls,\n        maxlength = this.maxlength,\n        showCount = this.showCount;\n    var _this$$attrs2 = this.$attrs,\n        style = _this$$attrs2.style,\n        customClass = _this$$attrs2.class;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n    var value = fixControlledValue(stateValue); // Max length value\n\n    var hasMaxlength = Number(maxlength) > 0;\n    value = hasMaxlength ? value.slice(0, maxlength) : value;\n\n    var props = _extends(_extends(_extends({}, getOptionProps(this)), this.$attrs), {\n      prefixCls: prefixCls,\n      inputType: 'text',\n      element: this.renderTextArea(prefixCls),\n      handleReset: this.handleReset\n    });\n\n    var textareaNode = _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, props), {}, {\n      \"value\": value,\n      \"ref\": this.saveClearableInput\n    }), null);\n\n    if (showCount) {\n      var valueLength = _toConsumableArray(value).length;\n\n      var dataCount = \"\".concat(valueLength).concat(hasMaxlength ? \" / \".concat(maxlength) : '');\n\n      var _textareaNode = function () {\n        return textareaNode;\n      }();\n\n      textareaNode = _createVNode(\"div\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-textarea\"), \"\".concat(prefixCls, \"-textarea-show-count\"), customClass),\n        \"style\": style,\n        \"data-count\": dataCount\n      }, [textareaNode]);\n    }\n\n    return textareaNode;\n  }\n});"]},"metadata":{},"sourceType":"module"}