{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { createApp, defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { getComponent } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport createChainedFunction from '../_util/createChainedFunction';\nimport Notice from './Notice';\nimport { getTransitionGroupProps, TransitionGroup } from '../_util/transition';\n\nfunction noop() {}\n\nvar seed = 0;\nvar now = Date.now();\n\nfunction getUuid() {\n  return \"rcNotification_\".concat(now, \"_\").concat(seed++);\n}\n\nvar Notification = defineComponent({\n  mixins: [BaseMixin],\n  props: {\n    prefixCls: PropTypes.string.def('rc-notification'),\n    transitionName: PropTypes.string,\n    animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).def('fade'),\n    maxCount: PropTypes.number,\n    closeIcon: PropTypes.any\n  },\n  data: function data() {\n    return {\n      notices: []\n    };\n  },\n  methods: {\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n\n      if (!transitionName && props.animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(props.animation);\n      }\n\n      return transitionName;\n    },\n    add: function add(notice) {\n      var key = notice.key = notice.key || getUuid();\n      var maxCount = this.$props.maxCount;\n      this.setState(function (previousState) {\n        var notices = previousState.notices;\n        var noticeIndex = notices.map(function (v) {\n          return v.key;\n        }).indexOf(key);\n        var updatedNotices = notices.concat();\n\n        if (noticeIndex !== -1) {\n          updatedNotices.splice(noticeIndex, 1, notice);\n        } else {\n          if (maxCount && notices.length >= maxCount) {\n            // XXX, use key of first item to update new added (let React to move exsiting\n            // instead of remove and mount). Same key was used before for both a) external\n            // manual control and b) internal react 'key' prop , which is not that good.\n            notice.updateKey = updatedNotices[0].updateKey || updatedNotices[0].key;\n            updatedNotices.shift();\n          }\n\n          updatedNotices.push(notice);\n        }\n\n        return {\n          notices: updatedNotices\n        };\n      });\n    },\n    remove: function remove(key) {\n      this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (notice) {\n            return notice.key !== key;\n          })\n        };\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var prefixCls = this.prefixCls,\n        notices = this.notices,\n        remove = this.remove,\n        getTransitionName = this.getTransitionName,\n        $attrs = this.$attrs;\n    var transitionProps = getTransitionGroupProps(getTransitionName());\n    var noticeNodes = notices.map(function (notice, index) {\n      var update = Boolean(index === notices.length - 1 && notice.updateKey);\n      var key = notice.updateKey ? notice.updateKey : notice.key;\n      var content = notice.content,\n          duration = notice.duration,\n          closable = notice.closable,\n          onClose = notice.onClose,\n          style = notice.style,\n          className = notice.class;\n      var close = createChainedFunction(remove.bind(_this, notice.key), onClose);\n      var noticeProps = {\n        prefixCls: prefixCls,\n        duration: duration,\n        closable: closable,\n        update: update,\n        closeIcon: getComponent(_this, 'closeIcon'),\n        onClose: close,\n        onClick: notice.onClick || noop,\n        style: style,\n        class: className,\n        key: key\n      };\n      return _createVNode(Notice, noticeProps, {\n        default: function _default() {\n          return [typeof content === 'function' ? content() : content];\n        }\n      });\n    });\n\n    var className = _defineProperty({}, prefixCls, 1);\n\n    return _createVNode(\"div\", {\n      \"class\": className,\n      \"style\": $attrs.style || {\n        top: '65px',\n        left: '50%'\n      }\n    }, [_createVNode(TransitionGroup, _objectSpread({\n      \"tag\": \"span\"\n    }, transitionProps), {\n      default: function _default() {\n        return [noticeNodes];\n      }\n    })]);\n  }\n});\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _a = properties || {},\n      getContainer = _a.getContainer,\n      style = _a.style,\n      className = _a.class,\n      props = __rest(_a, [\"getContainer\", \"style\", \"class\"]);\n\n  var div = document.createElement('div');\n\n  if (getContainer) {\n    var root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n\n  var app = createApp({\n    mounted: function mounted() {\n      var self = this;\n      this.$nextTick(function () {\n        callback({\n          notice: function notice(noticeProps) {\n            self.$refs.notification.add(noticeProps);\n          },\n          removeNotice: function removeNotice(key) {\n            self.$refs.notification.remove(key);\n          },\n          component: self,\n          destroy: function destroy() {\n            app.unmount(div);\n\n            if (div.parentNode) {\n              div.parentNode.removeChild(div);\n            }\n          }\n        });\n      });\n    },\n    render: function render() {\n      var p = _extends(_extends({}, props), {\n        ref: 'notification',\n        style: style,\n        class: className\n      });\n\n      return _createVNode(Notification, p, null);\n    }\n  });\n  app.mount(div);\n};\n\nexport default Notification;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-notification/Notification.js"],"names":["_extends","_objectSpread","_defineProperty","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","createApp","defineComponent","PropTypes","getComponent","BaseMixin","createChainedFunction","Notice","getTransitionGroupProps","TransitionGroup","noop","seed","now","Date","getUuid","concat","Notification","mixins","props","prefixCls","string","def","transitionName","animation","oneOfType","object","maxCount","number","closeIcon","any","data","notices","methods","getTransitionName","$props","add","notice","key","setState","previousState","noticeIndex","map","v","updatedNotices","splice","updateKey","shift","push","remove","filter","render","_this","$attrs","transitionProps","noticeNodes","index","update","Boolean","content","duration","closable","onClose","style","className","class","close","bind","noticeProps","onClick","default","_default","top","left","newInstance","newNotificationInstance","properties","callback","_a","getContainer","div","document","createElement","root","appendChild","body","app","mounted","self","$nextTick","$refs","notification","removeNotice","component","destroy","unmount","parentNode","removeChild","ref","mount"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { createApp, defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { getComponent } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport createChainedFunction from '../_util/createChainedFunction';\nimport Notice from './Notice';\nimport { getTransitionGroupProps, TransitionGroup } from '../_util/transition';\n\nfunction noop() {}\n\nvar seed = 0;\nvar now = Date.now();\n\nfunction getUuid() {\n  return \"rcNotification_\".concat(now, \"_\").concat(seed++);\n}\n\nvar Notification = defineComponent({\n  mixins: [BaseMixin],\n  props: {\n    prefixCls: PropTypes.string.def('rc-notification'),\n    transitionName: PropTypes.string,\n    animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).def('fade'),\n    maxCount: PropTypes.number,\n    closeIcon: PropTypes.any\n  },\n  data: function data() {\n    return {\n      notices: []\n    };\n  },\n  methods: {\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n\n      if (!transitionName && props.animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(props.animation);\n      }\n\n      return transitionName;\n    },\n    add: function add(notice) {\n      var key = notice.key = notice.key || getUuid();\n      var maxCount = this.$props.maxCount;\n      this.setState(function (previousState) {\n        var notices = previousState.notices;\n        var noticeIndex = notices.map(function (v) {\n          return v.key;\n        }).indexOf(key);\n        var updatedNotices = notices.concat();\n\n        if (noticeIndex !== -1) {\n          updatedNotices.splice(noticeIndex, 1, notice);\n        } else {\n          if (maxCount && notices.length >= maxCount) {\n            // XXX, use key of first item to update new added (let React to move exsiting\n            // instead of remove and mount). Same key was used before for both a) external\n            // manual control and b) internal react 'key' prop , which is not that good.\n            notice.updateKey = updatedNotices[0].updateKey || updatedNotices[0].key;\n            updatedNotices.shift();\n          }\n\n          updatedNotices.push(notice);\n        }\n\n        return {\n          notices: updatedNotices\n        };\n      });\n    },\n    remove: function remove(key) {\n      this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (notice) {\n            return notice.key !== key;\n          })\n        };\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var prefixCls = this.prefixCls,\n        notices = this.notices,\n        remove = this.remove,\n        getTransitionName = this.getTransitionName,\n        $attrs = this.$attrs;\n    var transitionProps = getTransitionGroupProps(getTransitionName());\n    var noticeNodes = notices.map(function (notice, index) {\n      var update = Boolean(index === notices.length - 1 && notice.updateKey);\n      var key = notice.updateKey ? notice.updateKey : notice.key;\n      var content = notice.content,\n          duration = notice.duration,\n          closable = notice.closable,\n          onClose = notice.onClose,\n          style = notice.style,\n          className = notice.class;\n      var close = createChainedFunction(remove.bind(_this, notice.key), onClose);\n      var noticeProps = {\n        prefixCls: prefixCls,\n        duration: duration,\n        closable: closable,\n        update: update,\n        closeIcon: getComponent(_this, 'closeIcon'),\n        onClose: close,\n        onClick: notice.onClick || noop,\n        style: style,\n        class: className,\n        key: key\n      };\n      return _createVNode(Notice, noticeProps, {\n        default: function _default() {\n          return [typeof content === 'function' ? content() : content];\n        }\n      });\n    });\n\n    var className = _defineProperty({}, prefixCls, 1);\n\n    return _createVNode(\"div\", {\n      \"class\": className,\n      \"style\": $attrs.style || {\n        top: '65px',\n        left: '50%'\n      }\n    }, [_createVNode(TransitionGroup, _objectSpread({\n      \"tag\": \"span\"\n    }, transitionProps), {\n      default: function _default() {\n        return [noticeNodes];\n      }\n    })]);\n  }\n});\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _a = properties || {},\n      getContainer = _a.getContainer,\n      style = _a.style,\n      className = _a.class,\n      props = __rest(_a, [\"getContainer\", \"style\", \"class\"]);\n\n  var div = document.createElement('div');\n\n  if (getContainer) {\n    var root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n\n  var app = createApp({\n    mounted: function mounted() {\n      var self = this;\n      this.$nextTick(function () {\n        callback({\n          notice: function notice(noticeProps) {\n            self.$refs.notification.add(noticeProps);\n          },\n          removeNotice: function removeNotice(key) {\n            self.$refs.notification.remove(key);\n          },\n          component: self,\n          destroy: function destroy() {\n            app.unmount(div);\n\n            if (div.parentNode) {\n              div.parentNode.removeChild(div);\n            }\n          }\n        });\n      });\n    },\n    render: function render() {\n      var p = _extends(_extends({}, props), {\n        ref: 'notification',\n        style: style,\n        class: className\n      });\n\n      return _createVNode(Notification, p, null);\n    }\n  });\n  app.mount(div);\n};\n\nexport default Notification;"]},"metadata":{},"sourceType":"module"}