{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"a\", null, \"删除\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache) {\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n\n  const _component_a_table = _resolveComponent(\"a-table\");\n\n  return _openBlock(), _createBlock(_component_a_table, {\n    columns: _ctx.columns,\n    \"row-key\": record => record.login.uuid,\n    \"data-source\": _ctx.dataSource,\n    pagination: _ctx.pagination,\n    loading: _ctx.loading,\n    onChange: _ctx.handleTableChange\n  }, {\n    bodyCell: _withCtx(({\n      column,\n      text\n    }) => [column.dataIndex === 'name' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createTextVNode(_toDisplayString(text.first) + \" \" + _toDisplayString(text.last), 1\n    /* TEXT */\n    )], 2112\n    /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n    )) : _createCommentVNode(\"v-if\", true)]),\n    default: _withCtx(() => [_ctx.column.dataIndex === 'operation' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_ctx.dataSource.length ? (_openBlock(), _createBlock(_component_a_popconfirm, {\n      key: 0,\n      title: \"确定删除吗?\",\n      onConfirm: _cache[0] || (_cache[0] = $event => _ctx.onDelete(_ctx.record.key))\n    }, {\n      default: _withCtx(() => [_hoisted_1]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true)], 2112\n    /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n    )) : _createCommentVNode(\"v-if\", true)]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"columns\", \"row-key\", \"data-source\", \"pagination\", \"loading\", \"onChange\"]);\n}","map":{"version":3,"mappings":";;gCAmBUA,oBAAS,GAAT,EAAS,IAAT,EAAG,IAAH,EAAK;AAAA;AAAL;;;;;;;uBAlBRC,aAuBUC,kBAvBV,EAuBU;AAtBPC,WAAO,EAAEC,YAsBF;AArBP,eAASC,MAAM,IAAIA,MAAM,CAACC,KAAP,CAAaC,IAqBzB;AApBP,mBAAaH,eAoBN;AAnBPI,cAAU,EAAEJ,eAmBL;AAlBPK,WAAO,EAAEL,YAkBF;AAjBPM,YAAM,EAAEN;AAiBD,GAvBV;AAQaO,YAAQ,WACjB,CAAwF;AADnEC,YACmE;AAD3DC;AAC2D,KAAxF,KADiC,CACjBD,MAAM,CAACE,SAAP,KAAgB,wBAAhCC,oBAAwFC,SAAxF,EAAwF;AAAAC;AAAA,KAAxF,EAAwF,mCAAxCJ,IAAI,CAACK,SAAQ,MAACC,iBAAGN,IAAI,CAACO,IAAR,GAAY;AAAA;KAAc,CAAxF;;AAAA,0CADiC,CAAhB;sBAIvB,MAQiB,CARDhB,YAAOU,SAAP,KAAgB,6BAAhCC,oBAQiBC,SARjB,EAQiB;AAAAC;AAAA,KARjB,EAQiB,CANDb,gBAAWiB,wBADnBpB,aAMeqB,uBANf,EAMe;YAAA;AAJbC,WAAK,EAAC,QAIO;AAHZC,eAAO,sCAAEpB,cAASA,YAAOa,GAAhB,CAAF;AAGK,KANf;wBAKE,MAAS,CAATQ,UAAS;;;;KALX,sCAOS,CARjB;;AAAA,0CAQiB;;;;GApBf;;AAAA","names":["_createElementVNode","_createBlock","_component_a_table","columns","_ctx","record","login","uuid","pagination","loading","onChange","bodyCell","column","text","dataIndex","_createElementBlock","_Fragment","key","first","_toDisplayString","last","length","_component_a_popconfirm","title","onConfirm","_hoisted_1"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/worker/workerApplyHistory.vue"],"sourcesContent":["<template>\n  <a-table\n    :columns=\"columns\"\n    :row-key=\"record => record.login.uuid\"\n    :data-source=\"dataSource\"\n    :pagination=\"pagination\"\n    :loading=\"loading\"\n    @change=\"handleTableChange\"\n  >\n    <template #bodyCell=\"{ column, text }\">\n      <template v-if=\"column.dataIndex === 'name'\">{{ text.first }} {{ text.last }}</template>\n    </template>\n\n<template v-if=\"column.dataIndex === 'operation'\">\n        <a-popconfirm\n          v-if=\"dataSource.length\"\n          title=\"确定删除吗?\"\n          @confirm=\"onDelete(record.key)\"\n        >\n          <a>删除</a>\n        </a-popconfirm>\n      </template>\n\n\n  </a-table>\n</template>\n\n<script>\nimport { usePagination } from 'vue-request';\nimport { computed, defineComponent } from 'vue';\nimport { cloneDeep } from 'lodash-es';\nimport axios from 'axios';\nconst columns = [\n//   {\n//   title: '姓名',\n//   dataIndex: 'name',\n//   sorter: true,\n//   width: '5%',\n// },\n// {\n//   title: '科室',\n//   dataIndex: 'name',\n//   sorter: true,\n//   width: '5%',\n// } \n// ,\n{\n  title: '序号',\n  dataIndex: 'id',\n  sorter: true,\n  width: '8%',\n} ,\n{\n  title: '开始时间',\n  dataIndex: 'name',\n  sorter: true,\n  width: '8%',\n} ,\n{\n  title: '结束时间',\n  dataIndex: 'name',\n  sorter: true,\n  width: '8%',\n} \n,\n{\n  title: '申请时长',\n  dataIndex: 'name',\n  sorter: true,\n  width: '8%',\n}\n,\n{\n  title: '休假状态',\n  dataIndex: 'name',\n  filters: [{\n    text: '公休',\n    value: '公休',\n  }, {\n    text: '值班加班',\n    value: '值班加班',\n  }],\n  sorter: true,\n  width: '8%',\n},\n{\n  title: '假期种类',\n  dataIndex: 'name',\n  filters: [{\n    text: '公休请假',\n    value: '公休请假',\n  }, {\n    text: '加班换积休',\n    value: '加班换积休',\n  },\n  {\n    text: '值班换积休',\n    value: '值班换积休',\n  }\n  ],\n  sorter: true,\n  width: '8%',\n}\n,\n{\n  title: '申请原因',\n  dataIndex: 'name',\n  sorter: true,\n  width: '10%',\n},\n{\n  title: '审批状态',\n  dataIndex: 'name',\n  sorter: true,\n  width: '10%',\n    filters: [{\n    text: '通过',\n    value: '通过',\n  }, {\n    text: '不通过',\n    value: '不通过',\n  },{\n    text: '未审批',\n    value: ‘',\n  },\n  \n  ],\n}\n,\n{\n  title: '批注',\n  dataIndex: 'name',\n  sorter: true,\n  width: '10%',\n},\n{\n      title: '操作',\n      dataIndex: 'operation',\n    }\n// ,\n// {\n//   title: '申请类型',\n//   dataIndex: 'name',\n//   sorter: true,\n//   width: '10%',\n// }  \n// ,\n// {\n//   title: 'Gender',\n//   dataIndex: 'gender',\n//   filters: [{\n//     text: 'Male',\n//     value: 'male',\n//   }, {\n//     text: 'Female',\n//     value: 'female',\n//   }],\n//   width: '20%',\n// }, {\n//   title: 'Email',\n//   dataIndex: 'email',\n// }\n];\n\nconst queryData = params => {\n  //  console.log(params);\n  return axios.get('https://randomuser.me/api?noinfo', {\n    params,\n   \n  });\n};\n\nexport default defineComponent({\n  setup() {\n   const onDelete = key => {\n      dataSource.value = dataSource.value.filter(item => item.key !== key);\n    };\n\n    const {\n      data: dataSource,\n      run,\n      loading,\n      current,\n      pageSize,\n    } = usePagination(queryData, {\n      formatResult: res => res.data.results,\n      pagination: {\n        currentKey: 'page',\n        pageSizeKey: 'results',\n      },\n    });\n    const pagination = computed(() => ({\n      total: 200,\n      current: current.value,\n      pageSize: pageSize.value,\n    }));\n\n    const handleTableChange = (pag, filters, sorter) => {\n      run({\n        results: pag.pageSize,\n        page: pag?.current,\n        sortField: sorter.field,\n        sortOrder: sorter.order,\n        ...filters,\n      });\n    };\n\n    return {\n      dataSource,\n      pagination,\n      loading,\n      columns,\n      handleTableChange,\n    };\n  },\n\n});\n</script>\n"]},"metadata":{},"sourceType":"module"}