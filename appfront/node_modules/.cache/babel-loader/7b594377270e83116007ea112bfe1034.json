{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponent } from '../../_util/props-util';\nimport moment from 'moment';\nimport KeyCode from '../../_util/KeyCode';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport enUs from './locale/en_US';\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\nimport { defineComponent } from 'vue';\n\nfunction noop() {}\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\n    return !i;\n  }));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n\n  if (a.length !== b.length) return false;\n\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  var _selectedValue = _slicedToArray(selectedValue, 2),\n      start = _selectedValue[0],\n      end = _selectedValue[1];\n\n  if (end && (start === undefined || start === null)) {\n    start = end.clone().subtract(1, 'month');\n  }\n\n  if (start && (end === undefined || end === null)) {\n    end = start.clone().add(1, 'month');\n  }\n\n  return [start, end];\n}\n\nfunction normalizeAnchor(props, init) {\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  var value = props.value || init && props.defaultValue;\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\n\n  for (var value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n\n  return arr;\n}\n\nfunction onInputSelect(direction, value, cause) {\n  if (!value) {\n    return;\n  }\n\n  var originalValue = this.sSelectedValue;\n  var selectedValue = originalValue.concat();\n  var index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\n  }\n\n  this.__emit('inputSelect', selectedValue);\n\n  this.fireSelectValueChange(selectedValue, null, cause || {\n    source: 'dateInput'\n  });\n}\n\nvar RangeCalendar = defineComponent({\n  name: 'RangeCalendar',\n  mixins: [BaseMixin, CommonMixin],\n  inheritAttrs: false,\n  props: {\n    locale: PropTypes.object.def(enUs),\n    visible: PropTypes.looseBool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    dateInputPlaceholder: PropTypes.any,\n    seperator: PropTypes.string.def('~'),\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.looseBool.def(true),\n    timePicker: PropTypes.any,\n    showOk: PropTypes.looseBool,\n    showToday: PropTypes.looseBool.def(true),\n    defaultSelectedValue: PropTypes.array.def([]),\n    selectedValue: PropTypes.array,\n    showClear: PropTypes.looseBool,\n    showWeekNumber: PropTypes.looseBool,\n    // locale: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onSelect: PropTypes.func,\n    // onValueChange: PropTypes.func,\n    // onHoverChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    // onClear: PropTypes.func,\n    type: PropTypes.any.def('both'),\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func.def(noop),\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    dateRender: PropTypes.func,\n    clearIcon: PropTypes.any,\n    inputReadOnly: PropTypes.looseBool\n  },\n  data: function data() {\n    var props = this.$props;\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\n    var value = normalizeAnchor(props, 1);\n    return {\n      sSelectedValue: selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      sHoverValue: props.hoverValue || [],\n      sValue: value,\n      sShowTimePicker: false,\n      sMode: props.mode || ['date', 'date'],\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\n\n    };\n  },\n  watch: {\n    value: function value() {\n      var newState = {};\n      newState.sValue = normalizeAnchor(this.$props, 0);\n      this.setState(newState);\n    },\n    hoverValue: function hoverValue(val) {\n      if (!isArraysEqual(this.sHoverValue, val)) {\n        this.setState({\n          sHoverValue: val\n        });\n      }\n    },\n    selectedValue: function selectedValue(val) {\n      var newState = {};\n      newState.sSelectedValue = val;\n      newState.prevSelectedValue = val;\n      this.setState(newState);\n    },\n    mode: function mode(val) {\n      if (!isArraysEqual(this.sMode, val)) {\n        this.setState({\n          sMode: val\n        });\n      }\n    }\n  },\n  methods: {\n    onDatePanelEnter: function onDatePanelEnter() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange(this.sSelectedValue.concat());\n      }\n    },\n    onDatePanelLeave: function onDatePanelLeave() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange([]);\n      }\n    },\n    onSelect: function onSelect(value) {\n      var type = this.type,\n          sSelectedValue = this.sSelectedValue,\n          prevSelectedValue = this.prevSelectedValue,\n          firstSelectedValue = this.firstSelectedValue;\n      var nextSelectedValue;\n\n      if (type === 'both') {\n        if (!firstSelectedValue) {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        } else if (this.compare(firstSelectedValue, value) < 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [firstSelectedValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          syncTime(prevSelectedValue[1], firstSelectedValue);\n          nextSelectedValue = [value, firstSelectedValue];\n        }\n      } else if (type === 'start') {\n        syncTime(prevSelectedValue[0], value);\n        var endValue = sSelectedValue[1];\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\n      } else {\n        // type === 'end'\n        var startValue = sSelectedValue[0];\n\n        if (startValue && this.compare(startValue, value) <= 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [startValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        }\n      }\n\n      this.fireSelectValueChange(nextSelectedValue);\n    },\n    onKeyDown: function onKeyDown(event) {\n      var _this = this;\n\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var _this$$data = this.$data,\n          selectedValue = _this$$data.sSelectedValue,\n          hoverValue = _this$$data.sHoverValue,\n          firstSelectedValue = _this$$data.firstSelectedValue,\n          value = _this$$data.sValue;\n      var disabledDate = this.$props.disabledDate; // Update last time of the picker\n\n      var updateHoverPoint = function updateHoverPoint(func) {\n        // Change hover to make focus in UI\n        var currentHoverTime;\n        var nextHoverTime;\n        var nextHoverValue;\n\n        if (!firstSelectedValue) {\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\n          nextHoverTime = func(currentHoverTime);\n          nextHoverValue = [nextHoverTime];\n\n          _this.fireHoverValueChange(nextHoverValue);\n        } else {\n          if (hoverValue.length === 1) {\n            currentHoverTime = hoverValue[0].clone();\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          } else {\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          }\n        } // Find origin hover time on value index\n\n\n        if (nextHoverValue.length >= 2) {\n          var miss = nextHoverValue.some(function (ht) {\n            return !includesTime(value, ht, 'month');\n          });\n\n          if (miss) {\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\n              return t1.valueOf() - t2.valueOf();\n            });\n\n            if (newValue[0].isSame(newValue[1], 'month')) {\n              newValue[1] = newValue[0].clone().add(1, 'month');\n            }\n\n            _this.fireValueChange(newValue);\n          }\n        } else if (nextHoverValue.length === 1) {\n          // If only one value, let's keep the origin panel\n          var oriValueIndex = value.findIndex(function (time) {\n            return time.isSame(currentHoverTime, 'month');\n          });\n          if (oriValueIndex === -1) oriValueIndex = 0;\n\n          if (value.every(function (time) {\n            return !time.isSame(nextHoverTime, 'month');\n          })) {\n            var _newValue = value.slice();\n\n            _newValue[oriValueIndex] = nextHoverTime.clone();\n\n            _this.fireValueChange(_newValue);\n          }\n        }\n\n        event.preventDefault();\n        return nextHoverTime;\n      };\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'weeks');\n          });\n          return;\n\n        case KeyCode.UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'weeks');\n          });\n          return;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.HOME:\n          updateHoverPoint(function (time) {\n            return goStartMonth(time);\n          });\n          return;\n\n        case KeyCode.END:\n          updateHoverPoint(function (time) {\n            return goEndMonth(time);\n          });\n          return;\n\n        case KeyCode.PAGE_DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'month');\n          });\n          return;\n\n        case KeyCode.PAGE_UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'month');\n          });\n          return;\n\n        case KeyCode.ENTER:\n          {\n            var lastValue;\n\n            if (hoverValue.length === 0) {\n              lastValue = updateHoverPoint(function (time) {\n                return time;\n              });\n            } else if (hoverValue.length === 1) {\n              lastValue = hoverValue[0];\n            } else {\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            }\n\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\n              this.onSelect(lastValue);\n            }\n\n            event.preventDefault();\n            return;\n          }\n\n        default:\n          this.__emit('keydown', event);\n\n      }\n    },\n    onDayHover: function onDayHover(value) {\n      var hoverValue = [];\n      var sSelectedValue = this.sSelectedValue,\n          firstSelectedValue = this.firstSelectedValue,\n          type = this.type;\n\n      if (type === 'start' && sSelectedValue[1]) {\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\n      } else if (type === 'end' && sSelectedValue[0]) {\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\n      } else {\n        if (!firstSelectedValue) {\n          if (this.sHoverValue.length) {\n            this.setState({\n              sHoverValue: []\n            });\n          }\n\n          return hoverValue;\n        }\n\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\n      }\n\n      this.fireHoverValueChange(hoverValue);\n      return hoverValue;\n    },\n    onToday: function onToday() {\n      var startValue = getTodayTime(this.sValue[0]);\n      var endValue = startValue.clone().add(1, 'months');\n      this.setState({\n        sValue: [startValue, endValue]\n      });\n    },\n    onOpenTimePicker: function onOpenTimePicker() {\n      this.setState({\n        sShowTimePicker: true\n      });\n    },\n    onCloseTimePicker: function onCloseTimePicker() {\n      this.setState({\n        sShowTimePicker: false\n      });\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onStartInputChange: function onStartInputChange() {\n      for (var _len = arguments.length, oargs = new Array(_len), _key = 0; _key < _len; _key++) {\n        oargs[_key] = arguments[_key];\n      }\n\n      var args = ['left'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputChange: function onEndInputChange() {\n      for (var _len2 = arguments.length, oargs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        oargs[_key2] = arguments[_key2];\n      }\n\n      var args = ['right'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onStartInputSelect: function onStartInputSelect(value) {\n      var args = ['left', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputSelect: function onEndInputSelect(value) {\n      var args = ['right', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onStartValueChange: function onStartValueChange(leftValue) {\n      var value = _toConsumableArray(this.sValue);\n\n      value[0] = leftValue;\n      return this.fireValueChange(value);\n    },\n    onEndValueChange: function onEndValueChange(rightValue) {\n      var value = _toConsumableArray(this.sValue);\n\n      value[1] = rightValue;\n      return this.fireValueChange(value);\n    },\n    onStartPanelChange: function onStartPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [mode, sMode[1]];\n      var newValue = [value || sValue[0], sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'start'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    onEndPanelChange: function onEndPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [sMode[0], mode];\n      var newValue = [sValue[0], value || sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'end'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    getStartValue: function getStartValue() {\n      var _this$$data2 = this.$data,\n          selectedValue = _this$$data2.sSelectedValue,\n          showTimePicker = _this$$data2.sShowTimePicker,\n          value = _this$$data2.sValue,\n          mode = _this$$data2.sMode,\n          panelTriggerSource = _this$$data2.sPanelTriggerSource;\n      var startValue = value[0]; // keep selectedTime when select date\n\n      if (selectedValue[0] && this.$props.timePicker) {\n        startValue = startValue.clone();\n        syncTime(selectedValue[0], startValue);\n      }\n\n      if (showTimePicker && selectedValue[0]) {\n        startValue = selectedValue[0];\n      } // Adjust month if date not align\n\n\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\n        startValue = startValue.clone().subtract(1, 'month');\n      }\n\n      return startValue;\n    },\n    getEndValue: function getEndValue() {\n      var _this$$data3 = this.$data,\n          selectedValue = _this$$data3.sSelectedValue,\n          showTimePicker = _this$$data3.sShowTimePicker,\n          value = _this$$data3.sValue,\n          mode = _this$$data3.sMode,\n          panelTriggerSource = _this$$data3.sPanelTriggerSource;\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month'); // keep selectedTime when select date\n\n      if (selectedValue[1] && this.$props.timePicker) {\n        syncTime(selectedValue[1], endValue);\n      }\n\n      if (showTimePicker) {\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\n      } // Adjust month if date not align\n\n\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\n        endValue = endValue.clone().add(1, 'month');\n      }\n\n      return endValue;\n    },\n    // get disabled hours for second picker\n    getEndDisableTime: function getEndDisableTime() {\n      var sSelectedValue = this.sSelectedValue,\n          sValue = this.sValue,\n          disabledTime = this.disabledTime;\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone(); // if startTime and endTime is same day..\n      // the second time picker will not able to pick time before first time picker\n\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\n        var hours = startValue.hour();\n        var minutes = startValue.minute();\n        var second = startValue.second();\n        var _disabledHours = userSettingDisabledTime.disabledHours,\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\n        _disabledHours = generateOptions(hours, _disabledHours);\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\n        return {\n          disabledHours: function disabledHours() {\n            return _disabledHours;\n          },\n          disabledMinutes: function disabledMinutes(hour) {\n            if (hour === hours) {\n              return _disabledMinutes;\n            }\n\n            return oldDisabledMinutes;\n          },\n          disabledSeconds: function disabledSeconds(hour, minute) {\n            if (hour === hours && minute === minutes) {\n              return _disabledSeconds;\n            }\n\n            return olddisabledSeconds;\n          }\n        };\n      }\n\n      return userSettingDisabledTime;\n    },\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\n    },\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\n    },\n    hasSelectedValue: function hasSelectedValue() {\n      var sSelectedValue = this.sSelectedValue;\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\n    },\n    compare: function compare(v1, v2) {\n      if (this.timePicker) {\n        return v1.diff(v2);\n      }\n\n      return v1.diff(v2, 'days');\n    },\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\n      var timePicker = this.timePicker,\n          prevSelectedValue = this.prevSelectedValue;\n\n      if (timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n\n        if (timePickerProps.defaultValue) {\n          var timePickerDefaultValue = timePickerProps.defaultValue;\n\n          if (!prevSelectedValue[0] && selectedValue[0]) {\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\n          }\n\n          if (!prevSelectedValue[1] && selectedValue[1]) {\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\n          }\n        }\n      } // 尚未选择过时间，直接输入的话\n\n\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\n        var startValue = selectedValue[0] || moment();\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n        this.setState({\n          sSelectedValue: selectedValue,\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\n        });\n      }\n\n      if (selectedValue[0] && !selectedValue[1]) {\n        this.setState({\n          firstSelectedValue: selectedValue[0]\n        });\n        this.fireHoverValueChange(selectedValue.concat());\n      }\n\n      this.__emit('change', selectedValue);\n\n      if (direct || selectedValue[0] && selectedValue[1]) {\n        this.setState({\n          prevSelectedValue: selectedValue,\n          firstSelectedValue: null\n        });\n        this.fireHoverValueChange([]);\n\n        this.__emit('select', selectedValue, cause);\n      }\n\n      if (!hasProp(this, 'selectedValue')) {\n        this.setState({\n          sSelectedValue: selectedValue\n        });\n      }\n    },\n    fireValueChange: function fireValueChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: value\n        });\n      }\n\n      this.__emit('valueChange', value);\n    },\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\n      if (!hasProp(this, 'hoverValue')) {\n        this.setState({\n          sHoverValue: hoverValue\n        });\n      }\n\n      this.__emit('hoverChange', hoverValue);\n    },\n    clear: function clear() {\n      this.fireSelectValueChange([], true);\n\n      this.__emit('clear');\n    },\n    disabledStartTime: function disabledStartTime(time) {\n      return this.disabledTime(time, 'start');\n    },\n    disabledEndTime: function disabledEndTime(time) {\n      return this.disabledTime(time, 'end');\n    },\n    disabledStartMonth: function disabledStartMonth(month) {\n      var sValue = this.sValue;\n      return month.isAfter(sValue[1], 'month');\n    },\n    disabledEndMonth: function disabledEndMonth(month) {\n      var sValue = this.sValue;\n      return month.isBefore(sValue[0], 'month');\n    }\n  },\n  render: function render() {\n    var _className, _cls;\n\n    var props = getOptionProps(this);\n    var prefixCls = props.prefixCls,\n        dateInputPlaceholder = props.dateInputPlaceholder,\n        timePicker = props.timePicker,\n        showOk = props.showOk,\n        locale = props.locale,\n        showClear = props.showClear,\n        showToday = props.showToday,\n        type = props.type,\n        seperator = props.seperator;\n    var clearIcon = getComponent(this, 'clearIcon');\n    var sHoverValue = this.sHoverValue,\n        sSelectedValue = this.sSelectedValue,\n        mode = this.sMode,\n        sShowTimePicker = this.sShowTimePicker,\n        sValue = this.sValue;\n    var className = (_className = {}, _defineProperty(_className, this.$attrs.class, !!this.$attrs.class), _defineProperty(_className, prefixCls, 1), _defineProperty(_className, \"\".concat(prefixCls, \"-hidden\"), !props.visible), _defineProperty(_className, \"\".concat(prefixCls, \"-range\"), 1), _defineProperty(_className, \"\".concat(prefixCls, \"-show-time-picker\"), sShowTimePicker), _defineProperty(_className, \"\".concat(prefixCls, \"-week-number\"), props.showWeekNumber), _className);\n\n    var baseProps = _extends(_extends({}, props), this.$attrs);\n\n    var newProps = {\n      selectedValue: sSelectedValue,\n      onSelect: this.onSelect,\n      onDayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\n    };\n    var placeholder1;\n    var placeholder2;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\n\n        placeholder1 = _dateInputPlaceholder[0];\n        placeholder2 = _dateInputPlaceholder[1];\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\n    var cls = (_cls = {}, _defineProperty(_cls, \"\".concat(prefixCls, \"-footer\"), true), _defineProperty(_cls, \"\".concat(prefixCls, \"-range-bottom\"), true), _defineProperty(_cls, \"\".concat(prefixCls, \"-footer-show-ok\"), showOkButton), _cls);\n    var startValue = this.getStartValue();\n    var endValue = this.getEndValue();\n    var todayTime = getTodayTime(startValue);\n    var thisMonth = todayTime.month();\n    var thisYear = todayTime.year();\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\n\n    var leftPartProps = _extends(_extends(_extends({}, baseProps), newProps), {\n      hoverValue: sHoverValue,\n      direction: 'left',\n      disabledTime: this.disabledStartTime,\n      disabledMonth: this.disabledStartMonth,\n      format: this.getFormat(),\n      value: startValue,\n      mode: mode[0],\n      placeholder: placeholder1,\n      showDateInput: this.showDateInput,\n      timePicker: timePicker,\n      showTimePicker: sShowTimePicker || mode[0] === 'time',\n      enablePrev: true,\n      enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\n      clearIcon: clearIcon,\n      onInputChange: this.onStartInputChange,\n      onInputSelect: this.onStartInputSelect,\n      onValueChange: this.onStartValueChange,\n      onPanelChange: this.onStartPanelChange\n    });\n\n    var rightPartProps = _extends(_extends(_extends({}, baseProps), newProps), {\n      hoverValue: sHoverValue,\n      direction: 'right',\n      format: this.getFormat(),\n      timePickerDisabledTime: this.getEndDisableTime(),\n      placeholder: placeholder2,\n      value: endValue,\n      mode: mode[1],\n      showDateInput: this.showDateInput,\n      timePicker: timePicker,\n      showTimePicker: sShowTimePicker || mode[1] === 'time',\n      disabledTime: this.disabledEndTime,\n      disabledMonth: this.disabledEndMonth,\n      enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\n      enableNext: true,\n      clearIcon: clearIcon,\n      onInputChange: this.onEndInputChange,\n      onInputSelect: this.onEndInputSelect,\n      onValueChange: this.onEndValueChange,\n      onPanelChange: this.onEndPanelChange\n    });\n\n    var TodayButtonNode = null;\n\n    if (showToday) {\n      var todayButtonProps = _extends(_extends({}, baseProps), {\n        disabled: isTodayInView,\n        value: sValue[0],\n        text: locale.backToToday,\n        onToday: this.onToday\n      });\n\n      TodayButtonNode = _createVNode(TodayButton, _objectSpread({\n        \"key\": \"todayButton\"\n      }, todayButtonProps), null);\n    }\n\n    var TimePickerButtonNode = null;\n\n    if (props.timePicker) {\n      var timePickerButtonProps = _extends(_extends({}, baseProps), {\n        showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\n        timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length,\n        onOpenTimePicker: this.onOpenTimePicker,\n        onCloseTimePicker: this.onCloseTimePicker\n      });\n\n      TimePickerButtonNode = _createVNode(TimePickerButton, _objectSpread({\n        \"key\": \"timePickerButton\"\n      }, timePickerButtonProps), null);\n    }\n\n    var OkButtonNode = null;\n\n    if (showOkButton) {\n      var okButtonProps = _extends(_extends({}, baseProps), {\n        okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length,\n        onOk: this.onOk\n      });\n\n      OkButtonNode = _createVNode(OkButton, _objectSpread({\n        \"key\": \"okButtonNode\"\n      }, okButtonProps), null);\n    }\n\n    var extraFooter = this.renderFooter(mode);\n    return _createVNode(\"div\", {\n      \"ref\": \"rootInstance\",\n      \"class\": className,\n      \"tabindex\": \"0\",\n      \"onKeydown\": this.onKeyDown\n    }, [props.renderSidebar(), _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-panel\")\n    }, [showClear && sSelectedValue[0] && sSelectedValue[1] ? _createVNode(\"a\", {\n      \"role\": \"button\",\n      \"title\": locale.clear,\n      \"onClick\": this.clear\n    }, [clearIcon || _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n    }, null)]) : null, _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-date-panel\"),\n      \"onMouseleave\": type !== 'both' ? this.onDatePanelLeave : noop,\n      \"onMouseenter\": type !== 'both' ? this.onDatePanelEnter : noop\n    }, [_createVNode(CalendarPart, leftPartProps, null), _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-range-middle\")\n    }, [seperator]), _createVNode(CalendarPart, rightPartProps, null)]), _createVNode(\"div\", {\n      \"class\": cls\n    }, [showToday || props.timePicker || showOkButton || extraFooter ? _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-footer-btn\")\n    }, [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]) : null])])]);\n  }\n});\nexport default RangeCalendar;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-calendar/src/RangeCalendar.js"],"names":["_objectSpread","_extends","_defineProperty","_toConsumableArray","_slicedToArray","createVNode","_createVNode","PropTypes","BaseMixin","getOptionProps","hasProp","getComponent","moment","KeyCode","CalendarPart","TodayButton","OkButton","TimePickerButton","CommonMixin","enUs","syncTime","getTodayTime","isAllowedDate","goTime","goStartMonth","goEndMonth","includesTime","defineComponent","noop","isEmptyArray","arr","Array","isArray","length","every","i","isArraysEqual","a","b","getValueFromSelectedValue","selectedValue","_selectedValue","start","end","undefined","clone","subtract","add","normalizeAnchor","props","init","defaultSelectedValue","value","defaultValue","normalizedValue","generateOptions","extraOptionGen","concat","indexOf","push","onInputSelect","direction","cause","originalValue","sSelectedValue","index","compare","sShowTimePicker","__emit","fireSelectValueChange","source","RangeCalendar","name","mixins","inheritAttrs","locale","object","def","visible","looseBool","prefixCls","string","dateInputPlaceholder","any","seperator","hoverValue","mode","arrayOf","oneOf","showDateInput","timePicker","showOk","showToday","array","showClear","showWeekNumber","format","oneOfType","func","type","disabledDate","disabledTime","renderFooter","renderSidebar","dateRender","clearIcon","inputReadOnly","data","$props","prevSelectedValue","firstSelectedValue","sHoverValue","sValue","sMode","sPanelTriggerSource","watch","newState","setState","val","methods","onDatePanelEnter","hasSelectedValue","fireHoverValueChange","onDatePanelLeave","onSelect","nextSelectedValue","endValue","startValue","onKeyDown","event","_this","target","nodeName","toLowerCase","keyCode","ctrlKey","metaKey","_this$$data","$data","updateHoverPoint","currentHoverTime","nextHoverTime","nextHoverValue","onDayHover","isSame","miss","some","ht","newValue","slice","sort","t1","t2","valueOf","fireValueChange","oriValueIndex","findIndex","time","_newValue","preventDefault","DOWN","UP","LEFT","RIGHT","HOME","END","PAGE_DOWN","PAGE_UP","ENTER","lastValue","onToday","onOpenTimePicker","onCloseTimePicker","onOk","isAllowedDateAndTime","onStartInputChange","_len","arguments","oargs","_key","args","apply","onEndInputChange","_len2","_key2","onStartInputSelect","onEndInputSelect","onStartValueChange","leftValue","onEndValueChange","rightValue","onStartPanelChange","newMode","onEndPanelChange","getStartValue","_this$$data2","showTimePicker","panelTriggerSource","getEndValue","_this$$data3","getEndDisableTime","userSettingDisabledTime","hours","hour","minutes","minute","second","_disabledHours","disabledHours","_disabledMinutes","disabledMinutes","_disabledSeconds","disabledSeconds","oldDisabledMinutes","olddisabledSeconds","disabledStartTime","disabledEndTime","isMonthYearPanelShow","v1","v2","diff","direct","timePickerProps","timePickerDefaultValue","clear","disabledStartMonth","month","isAfter","disabledEndMonth","isBefore","render","_className","_cls","className","$attrs","class","baseProps","newProps","placeholder1","placeholder2","_dateInputPlaceholder","showOkButton","cls","todayTime","thisMonth","thisYear","year","isTodayInView","nextMonthOfStart","isClosestMonths","leftPartProps","disabledMonth","getFormat","placeholder","enablePrev","enableNext","onInputChange","onValueChange","onPanelChange","rightPartProps","timePickerDisabledTime","TodayButtonNode","todayButtonProps","disabled","text","backToToday","TimePickerButtonNode","timePickerButtonProps","timePickerDisabled","OkButtonNode","okButtonProps","okDisabled","extraFooter"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, getComponent } from '../../_util/props-util';\nimport moment from 'moment';\nimport KeyCode from '../../_util/KeyCode';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport enUs from './locale/en_US';\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\nimport { defineComponent } from 'vue';\n\nfunction noop() {}\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\n    return !i;\n  }));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n\n  if (a.length !== b.length) return false;\n\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  var _selectedValue = _slicedToArray(selectedValue, 2),\n      start = _selectedValue[0],\n      end = _selectedValue[1];\n\n  if (end && (start === undefined || start === null)) {\n    start = end.clone().subtract(1, 'month');\n  }\n\n  if (start && (end === undefined || end === null)) {\n    end = start.clone().add(1, 'month');\n  }\n\n  return [start, end];\n}\n\nfunction normalizeAnchor(props, init) {\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  var value = props.value || init && props.defaultValue;\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\n\n  for (var value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n\n  return arr;\n}\n\nfunction onInputSelect(direction, value, cause) {\n  if (!value) {\n    return;\n  }\n\n  var originalValue = this.sSelectedValue;\n  var selectedValue = originalValue.concat();\n  var index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\n  }\n\n  this.__emit('inputSelect', selectedValue);\n\n  this.fireSelectValueChange(selectedValue, null, cause || {\n    source: 'dateInput'\n  });\n}\n\nvar RangeCalendar = defineComponent({\n  name: 'RangeCalendar',\n  mixins: [BaseMixin, CommonMixin],\n  inheritAttrs: false,\n  props: {\n    locale: PropTypes.object.def(enUs),\n    visible: PropTypes.looseBool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    dateInputPlaceholder: PropTypes.any,\n    seperator: PropTypes.string.def('~'),\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.looseBool.def(true),\n    timePicker: PropTypes.any,\n    showOk: PropTypes.looseBool,\n    showToday: PropTypes.looseBool.def(true),\n    defaultSelectedValue: PropTypes.array.def([]),\n    selectedValue: PropTypes.array,\n    showClear: PropTypes.looseBool,\n    showWeekNumber: PropTypes.looseBool,\n    // locale: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onSelect: PropTypes.func,\n    // onValueChange: PropTypes.func,\n    // onHoverChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    // onClear: PropTypes.func,\n    type: PropTypes.any.def('both'),\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func.def(noop),\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    dateRender: PropTypes.func,\n    clearIcon: PropTypes.any,\n    inputReadOnly: PropTypes.looseBool\n  },\n  data: function data() {\n    var props = this.$props;\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\n    var value = normalizeAnchor(props, 1);\n    return {\n      sSelectedValue: selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      sHoverValue: props.hoverValue || [],\n      sValue: value,\n      sShowTimePicker: false,\n      sMode: props.mode || ['date', 'date'],\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\n\n    };\n  },\n  watch: {\n    value: function value() {\n      var newState = {};\n      newState.sValue = normalizeAnchor(this.$props, 0);\n      this.setState(newState);\n    },\n    hoverValue: function hoverValue(val) {\n      if (!isArraysEqual(this.sHoverValue, val)) {\n        this.setState({\n          sHoverValue: val\n        });\n      }\n    },\n    selectedValue: function selectedValue(val) {\n      var newState = {};\n      newState.sSelectedValue = val;\n      newState.prevSelectedValue = val;\n      this.setState(newState);\n    },\n    mode: function mode(val) {\n      if (!isArraysEqual(this.sMode, val)) {\n        this.setState({\n          sMode: val\n        });\n      }\n    }\n  },\n  methods: {\n    onDatePanelEnter: function onDatePanelEnter() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange(this.sSelectedValue.concat());\n      }\n    },\n    onDatePanelLeave: function onDatePanelLeave() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange([]);\n      }\n    },\n    onSelect: function onSelect(value) {\n      var type = this.type,\n          sSelectedValue = this.sSelectedValue,\n          prevSelectedValue = this.prevSelectedValue,\n          firstSelectedValue = this.firstSelectedValue;\n      var nextSelectedValue;\n\n      if (type === 'both') {\n        if (!firstSelectedValue) {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        } else if (this.compare(firstSelectedValue, value) < 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [firstSelectedValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          syncTime(prevSelectedValue[1], firstSelectedValue);\n          nextSelectedValue = [value, firstSelectedValue];\n        }\n      } else if (type === 'start') {\n        syncTime(prevSelectedValue[0], value);\n        var endValue = sSelectedValue[1];\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\n      } else {\n        // type === 'end'\n        var startValue = sSelectedValue[0];\n\n        if (startValue && this.compare(startValue, value) <= 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [startValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        }\n      }\n\n      this.fireSelectValueChange(nextSelectedValue);\n    },\n    onKeyDown: function onKeyDown(event) {\n      var _this = this;\n\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var _this$$data = this.$data,\n          selectedValue = _this$$data.sSelectedValue,\n          hoverValue = _this$$data.sHoverValue,\n          firstSelectedValue = _this$$data.firstSelectedValue,\n          value = _this$$data.sValue;\n      var disabledDate = this.$props.disabledDate; // Update last time of the picker\n\n      var updateHoverPoint = function updateHoverPoint(func) {\n        // Change hover to make focus in UI\n        var currentHoverTime;\n        var nextHoverTime;\n        var nextHoverValue;\n\n        if (!firstSelectedValue) {\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\n          nextHoverTime = func(currentHoverTime);\n          nextHoverValue = [nextHoverTime];\n\n          _this.fireHoverValueChange(nextHoverValue);\n        } else {\n          if (hoverValue.length === 1) {\n            currentHoverTime = hoverValue[0].clone();\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          } else {\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          }\n        } // Find origin hover time on value index\n\n\n        if (nextHoverValue.length >= 2) {\n          var miss = nextHoverValue.some(function (ht) {\n            return !includesTime(value, ht, 'month');\n          });\n\n          if (miss) {\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\n              return t1.valueOf() - t2.valueOf();\n            });\n\n            if (newValue[0].isSame(newValue[1], 'month')) {\n              newValue[1] = newValue[0].clone().add(1, 'month');\n            }\n\n            _this.fireValueChange(newValue);\n          }\n        } else if (nextHoverValue.length === 1) {\n          // If only one value, let's keep the origin panel\n          var oriValueIndex = value.findIndex(function (time) {\n            return time.isSame(currentHoverTime, 'month');\n          });\n          if (oriValueIndex === -1) oriValueIndex = 0;\n\n          if (value.every(function (time) {\n            return !time.isSame(nextHoverTime, 'month');\n          })) {\n            var _newValue = value.slice();\n\n            _newValue[oriValueIndex] = nextHoverTime.clone();\n\n            _this.fireValueChange(_newValue);\n          }\n        }\n\n        event.preventDefault();\n        return nextHoverTime;\n      };\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'weeks');\n          });\n          return;\n\n        case KeyCode.UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'weeks');\n          });\n          return;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.HOME:\n          updateHoverPoint(function (time) {\n            return goStartMonth(time);\n          });\n          return;\n\n        case KeyCode.END:\n          updateHoverPoint(function (time) {\n            return goEndMonth(time);\n          });\n          return;\n\n        case KeyCode.PAGE_DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'month');\n          });\n          return;\n\n        case KeyCode.PAGE_UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'month');\n          });\n          return;\n\n        case KeyCode.ENTER:\n          {\n            var lastValue;\n\n            if (hoverValue.length === 0) {\n              lastValue = updateHoverPoint(function (time) {\n                return time;\n              });\n            } else if (hoverValue.length === 1) {\n              lastValue = hoverValue[0];\n            } else {\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            }\n\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\n              this.onSelect(lastValue);\n            }\n\n            event.preventDefault();\n            return;\n          }\n\n        default:\n          this.__emit('keydown', event);\n\n      }\n    },\n    onDayHover: function onDayHover(value) {\n      var hoverValue = [];\n      var sSelectedValue = this.sSelectedValue,\n          firstSelectedValue = this.firstSelectedValue,\n          type = this.type;\n\n      if (type === 'start' && sSelectedValue[1]) {\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\n      } else if (type === 'end' && sSelectedValue[0]) {\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\n      } else {\n        if (!firstSelectedValue) {\n          if (this.sHoverValue.length) {\n            this.setState({\n              sHoverValue: []\n            });\n          }\n\n          return hoverValue;\n        }\n\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\n      }\n\n      this.fireHoverValueChange(hoverValue);\n      return hoverValue;\n    },\n    onToday: function onToday() {\n      var startValue = getTodayTime(this.sValue[0]);\n      var endValue = startValue.clone().add(1, 'months');\n      this.setState({\n        sValue: [startValue, endValue]\n      });\n    },\n    onOpenTimePicker: function onOpenTimePicker() {\n      this.setState({\n        sShowTimePicker: true\n      });\n    },\n    onCloseTimePicker: function onCloseTimePicker() {\n      this.setState({\n        sShowTimePicker: false\n      });\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onStartInputChange: function onStartInputChange() {\n      for (var _len = arguments.length, oargs = new Array(_len), _key = 0; _key < _len; _key++) {\n        oargs[_key] = arguments[_key];\n      }\n\n      var args = ['left'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputChange: function onEndInputChange() {\n      for (var _len2 = arguments.length, oargs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        oargs[_key2] = arguments[_key2];\n      }\n\n      var args = ['right'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onStartInputSelect: function onStartInputSelect(value) {\n      var args = ['left', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputSelect: function onEndInputSelect(value) {\n      var args = ['right', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onStartValueChange: function onStartValueChange(leftValue) {\n      var value = _toConsumableArray(this.sValue);\n\n      value[0] = leftValue;\n      return this.fireValueChange(value);\n    },\n    onEndValueChange: function onEndValueChange(rightValue) {\n      var value = _toConsumableArray(this.sValue);\n\n      value[1] = rightValue;\n      return this.fireValueChange(value);\n    },\n    onStartPanelChange: function onStartPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [mode, sMode[1]];\n      var newValue = [value || sValue[0], sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'start'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    onEndPanelChange: function onEndPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [sMode[0], mode];\n      var newValue = [sValue[0], value || sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'end'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    getStartValue: function getStartValue() {\n      var _this$$data2 = this.$data,\n          selectedValue = _this$$data2.sSelectedValue,\n          showTimePicker = _this$$data2.sShowTimePicker,\n          value = _this$$data2.sValue,\n          mode = _this$$data2.sMode,\n          panelTriggerSource = _this$$data2.sPanelTriggerSource;\n      var startValue = value[0]; // keep selectedTime when select date\n\n      if (selectedValue[0] && this.$props.timePicker) {\n        startValue = startValue.clone();\n        syncTime(selectedValue[0], startValue);\n      }\n\n      if (showTimePicker && selectedValue[0]) {\n        startValue = selectedValue[0];\n      } // Adjust month if date not align\n\n\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\n        startValue = startValue.clone().subtract(1, 'month');\n      }\n\n      return startValue;\n    },\n    getEndValue: function getEndValue() {\n      var _this$$data3 = this.$data,\n          selectedValue = _this$$data3.sSelectedValue,\n          showTimePicker = _this$$data3.sShowTimePicker,\n          value = _this$$data3.sValue,\n          mode = _this$$data3.sMode,\n          panelTriggerSource = _this$$data3.sPanelTriggerSource;\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month'); // keep selectedTime when select date\n\n      if (selectedValue[1] && this.$props.timePicker) {\n        syncTime(selectedValue[1], endValue);\n      }\n\n      if (showTimePicker) {\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\n      } // Adjust month if date not align\n\n\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\n        endValue = endValue.clone().add(1, 'month');\n      }\n\n      return endValue;\n    },\n    // get disabled hours for second picker\n    getEndDisableTime: function getEndDisableTime() {\n      var sSelectedValue = this.sSelectedValue,\n          sValue = this.sValue,\n          disabledTime = this.disabledTime;\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone(); // if startTime and endTime is same day..\n      // the second time picker will not able to pick time before first time picker\n\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\n        var hours = startValue.hour();\n        var minutes = startValue.minute();\n        var second = startValue.second();\n        var _disabledHours = userSettingDisabledTime.disabledHours,\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\n        _disabledHours = generateOptions(hours, _disabledHours);\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\n        return {\n          disabledHours: function disabledHours() {\n            return _disabledHours;\n          },\n          disabledMinutes: function disabledMinutes(hour) {\n            if (hour === hours) {\n              return _disabledMinutes;\n            }\n\n            return oldDisabledMinutes;\n          },\n          disabledSeconds: function disabledSeconds(hour, minute) {\n            if (hour === hours && minute === minutes) {\n              return _disabledSeconds;\n            }\n\n            return olddisabledSeconds;\n          }\n        };\n      }\n\n      return userSettingDisabledTime;\n    },\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\n    },\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\n    },\n    hasSelectedValue: function hasSelectedValue() {\n      var sSelectedValue = this.sSelectedValue;\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\n    },\n    compare: function compare(v1, v2) {\n      if (this.timePicker) {\n        return v1.diff(v2);\n      }\n\n      return v1.diff(v2, 'days');\n    },\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\n      var timePicker = this.timePicker,\n          prevSelectedValue = this.prevSelectedValue;\n\n      if (timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n\n        if (timePickerProps.defaultValue) {\n          var timePickerDefaultValue = timePickerProps.defaultValue;\n\n          if (!prevSelectedValue[0] && selectedValue[0]) {\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\n          }\n\n          if (!prevSelectedValue[1] && selectedValue[1]) {\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\n          }\n        }\n      } // 尚未选择过时间，直接输入的话\n\n\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\n        var startValue = selectedValue[0] || moment();\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n        this.setState({\n          sSelectedValue: selectedValue,\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\n        });\n      }\n\n      if (selectedValue[0] && !selectedValue[1]) {\n        this.setState({\n          firstSelectedValue: selectedValue[0]\n        });\n        this.fireHoverValueChange(selectedValue.concat());\n      }\n\n      this.__emit('change', selectedValue);\n\n      if (direct || selectedValue[0] && selectedValue[1]) {\n        this.setState({\n          prevSelectedValue: selectedValue,\n          firstSelectedValue: null\n        });\n        this.fireHoverValueChange([]);\n\n        this.__emit('select', selectedValue, cause);\n      }\n\n      if (!hasProp(this, 'selectedValue')) {\n        this.setState({\n          sSelectedValue: selectedValue\n        });\n      }\n    },\n    fireValueChange: function fireValueChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: value\n        });\n      }\n\n      this.__emit('valueChange', value);\n    },\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\n      if (!hasProp(this, 'hoverValue')) {\n        this.setState({\n          sHoverValue: hoverValue\n        });\n      }\n\n      this.__emit('hoverChange', hoverValue);\n    },\n    clear: function clear() {\n      this.fireSelectValueChange([], true);\n\n      this.__emit('clear');\n    },\n    disabledStartTime: function disabledStartTime(time) {\n      return this.disabledTime(time, 'start');\n    },\n    disabledEndTime: function disabledEndTime(time) {\n      return this.disabledTime(time, 'end');\n    },\n    disabledStartMonth: function disabledStartMonth(month) {\n      var sValue = this.sValue;\n      return month.isAfter(sValue[1], 'month');\n    },\n    disabledEndMonth: function disabledEndMonth(month) {\n      var sValue = this.sValue;\n      return month.isBefore(sValue[0], 'month');\n    }\n  },\n  render: function render() {\n    var _className, _cls;\n\n    var props = getOptionProps(this);\n    var prefixCls = props.prefixCls,\n        dateInputPlaceholder = props.dateInputPlaceholder,\n        timePicker = props.timePicker,\n        showOk = props.showOk,\n        locale = props.locale,\n        showClear = props.showClear,\n        showToday = props.showToday,\n        type = props.type,\n        seperator = props.seperator;\n    var clearIcon = getComponent(this, 'clearIcon');\n    var sHoverValue = this.sHoverValue,\n        sSelectedValue = this.sSelectedValue,\n        mode = this.sMode,\n        sShowTimePicker = this.sShowTimePicker,\n        sValue = this.sValue;\n    var className = (_className = {}, _defineProperty(_className, this.$attrs.class, !!this.$attrs.class), _defineProperty(_className, prefixCls, 1), _defineProperty(_className, \"\".concat(prefixCls, \"-hidden\"), !props.visible), _defineProperty(_className, \"\".concat(prefixCls, \"-range\"), 1), _defineProperty(_className, \"\".concat(prefixCls, \"-show-time-picker\"), sShowTimePicker), _defineProperty(_className, \"\".concat(prefixCls, \"-week-number\"), props.showWeekNumber), _className);\n\n    var baseProps = _extends(_extends({}, props), this.$attrs);\n\n    var newProps = {\n      selectedValue: sSelectedValue,\n      onSelect: this.onSelect,\n      onDayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\n    };\n    var placeholder1;\n    var placeholder2;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\n\n        placeholder1 = _dateInputPlaceholder[0];\n        placeholder2 = _dateInputPlaceholder[1];\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\n    var cls = (_cls = {}, _defineProperty(_cls, \"\".concat(prefixCls, \"-footer\"), true), _defineProperty(_cls, \"\".concat(prefixCls, \"-range-bottom\"), true), _defineProperty(_cls, \"\".concat(prefixCls, \"-footer-show-ok\"), showOkButton), _cls);\n    var startValue = this.getStartValue();\n    var endValue = this.getEndValue();\n    var todayTime = getTodayTime(startValue);\n    var thisMonth = todayTime.month();\n    var thisYear = todayTime.year();\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\n\n    var leftPartProps = _extends(_extends(_extends({}, baseProps), newProps), {\n      hoverValue: sHoverValue,\n      direction: 'left',\n      disabledTime: this.disabledStartTime,\n      disabledMonth: this.disabledStartMonth,\n      format: this.getFormat(),\n      value: startValue,\n      mode: mode[0],\n      placeholder: placeholder1,\n      showDateInput: this.showDateInput,\n      timePicker: timePicker,\n      showTimePicker: sShowTimePicker || mode[0] === 'time',\n      enablePrev: true,\n      enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\n      clearIcon: clearIcon,\n      onInputChange: this.onStartInputChange,\n      onInputSelect: this.onStartInputSelect,\n      onValueChange: this.onStartValueChange,\n      onPanelChange: this.onStartPanelChange\n    });\n\n    var rightPartProps = _extends(_extends(_extends({}, baseProps), newProps), {\n      hoverValue: sHoverValue,\n      direction: 'right',\n      format: this.getFormat(),\n      timePickerDisabledTime: this.getEndDisableTime(),\n      placeholder: placeholder2,\n      value: endValue,\n      mode: mode[1],\n      showDateInput: this.showDateInput,\n      timePicker: timePicker,\n      showTimePicker: sShowTimePicker || mode[1] === 'time',\n      disabledTime: this.disabledEndTime,\n      disabledMonth: this.disabledEndMonth,\n      enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\n      enableNext: true,\n      clearIcon: clearIcon,\n      onInputChange: this.onEndInputChange,\n      onInputSelect: this.onEndInputSelect,\n      onValueChange: this.onEndValueChange,\n      onPanelChange: this.onEndPanelChange\n    });\n\n    var TodayButtonNode = null;\n\n    if (showToday) {\n      var todayButtonProps = _extends(_extends({}, baseProps), {\n        disabled: isTodayInView,\n        value: sValue[0],\n        text: locale.backToToday,\n        onToday: this.onToday\n      });\n\n      TodayButtonNode = _createVNode(TodayButton, _objectSpread({\n        \"key\": \"todayButton\"\n      }, todayButtonProps), null);\n    }\n\n    var TimePickerButtonNode = null;\n\n    if (props.timePicker) {\n      var timePickerButtonProps = _extends(_extends({}, baseProps), {\n        showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\n        timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length,\n        onOpenTimePicker: this.onOpenTimePicker,\n        onCloseTimePicker: this.onCloseTimePicker\n      });\n\n      TimePickerButtonNode = _createVNode(TimePickerButton, _objectSpread({\n        \"key\": \"timePickerButton\"\n      }, timePickerButtonProps), null);\n    }\n\n    var OkButtonNode = null;\n\n    if (showOkButton) {\n      var okButtonProps = _extends(_extends({}, baseProps), {\n        okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length,\n        onOk: this.onOk\n      });\n\n      OkButtonNode = _createVNode(OkButton, _objectSpread({\n        \"key\": \"okButtonNode\"\n      }, okButtonProps), null);\n    }\n\n    var extraFooter = this.renderFooter(mode);\n    return _createVNode(\"div\", {\n      \"ref\": \"rootInstance\",\n      \"class\": className,\n      \"tabindex\": \"0\",\n      \"onKeydown\": this.onKeyDown\n    }, [props.renderSidebar(), _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-panel\")\n    }, [showClear && sSelectedValue[0] && sSelectedValue[1] ? _createVNode(\"a\", {\n      \"role\": \"button\",\n      \"title\": locale.clear,\n      \"onClick\": this.clear\n    }, [clearIcon || _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n    }, null)]) : null, _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-date-panel\"),\n      \"onMouseleave\": type !== 'both' ? this.onDatePanelLeave : noop,\n      \"onMouseenter\": type !== 'both' ? this.onDatePanelEnter : noop\n    }, [_createVNode(CalendarPart, leftPartProps, null), _createVNode(\"span\", {\n      \"class\": \"\".concat(prefixCls, \"-range-middle\")\n    }, [seperator]), _createVNode(CalendarPart, rightPartProps, null)]), _createVNode(\"div\", {\n      \"class\": cls\n    }, [showToday || props.timePicker || showOkButton || extraFooter ? _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-footer-btn\")\n    }, [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]) : null])])]);\n  }\n});\nexport default RangeCalendar;"]},"metadata":{},"sourceType":"module"}