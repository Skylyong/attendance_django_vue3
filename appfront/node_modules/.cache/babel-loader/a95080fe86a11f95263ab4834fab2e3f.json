{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated, computed } from 'vue';\nimport VerticalAlignTopOutlined from '@ant-design/icons-vue/VerticalAlignTopOutlined';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport getScroll from '../_util/getScroll';\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defaultConfigProvider } from '../config-provider';\nimport scrollTo from '../_util/scrollTo';\nimport { withInstall } from '../_util/type';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nexport var backTopProps = {\n  visibilityHeight: PropTypes.number.def(400),\n  duration: PropTypes.number.def(450),\n  target: Function,\n  prefixCls: PropTypes.string,\n  onClick: PropTypes.func // visible: PropTypes.looseBool, // Only for test. Don't use it.\n\n};\nvar BackTop = defineComponent({\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: backTopProps,\n  emits: ['click'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n    var configProvider = inject('configProvider', defaultConfigProvider);\n    var domRef = ref();\n    var state = reactive({\n      visible: false,\n      scrollEvent: null\n    });\n\n    var getDefaultTarget = function getDefaultTarget() {\n      return domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    };\n\n    var scrollToTop = function scrollToTop(e) {\n      var _props$target = props.target,\n          target = _props$target === void 0 ? getDefaultTarget : _props$target,\n          duration = props.duration;\n      scrollTo(0, {\n        getContainer: target,\n        duration: duration\n      });\n      emit('click', e);\n    };\n\n    var handleScroll = throttleByAnimationFrame(function (e) {\n      var visibilityHeight = props.visibilityHeight;\n      var scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop > visibilityHeight;\n    });\n\n    var bindScrollEvent = function bindScrollEvent() {\n      var target = props.target;\n      var getTarget = target || getDefaultTarget;\n      var container = getTarget();\n      state.scrollEvent = addEventListener(container, 'scroll', function (e) {\n        handleScroll(e);\n      });\n      handleScroll({\n        target: container\n      });\n    };\n\n    var scrollRemove = function scrollRemove() {\n      if (state.scrollEvent) {\n        state.scrollEvent.remove();\n      }\n\n      handleScroll.cancel();\n    };\n\n    watch(function () {\n      return props.target;\n    }, function () {\n      scrollRemove();\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onActivated(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(function () {\n      scrollRemove();\n    });\n    onBeforeUnmount(function () {\n      scrollRemove();\n    });\n    var prefixCls = computed(function () {\n      return configProvider.getPrefixCls('back-top', props.prefixCls);\n    });\n    return function () {\n      var _class;\n\n      var _a;\n\n      var defaultElement = _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-content\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-icon\")\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n\n      var divProps = _extends(_extends({}, attrs), {\n        onClick: scrollToTop,\n        class: (_class = {}, _defineProperty(_class, \"\".concat(prefixCls.value), true), _defineProperty(_class, \"\".concat(attrs.class), attrs.class), _defineProperty(_class, \"\".concat(prefixCls.value, \"-rtl\"), configProvider.direction === 'rtl'), _class)\n      });\n\n      var backTopBtn = state.visible ? _createVNode(\"div\", _objectSpread(_objectSpread({}, divProps), {}, {\n        \"ref\": domRef\n      }), [((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement]) : null;\n      var transitionProps = getTransitionProps('fade');\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [backTopBtn];\n        }\n      });\n    };\n  }\n});\nexport default withInstall(BackTop);","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/back-top/index.js"],"names":["_objectSpread","_defineProperty","_extends","createVNode","_createVNode","defineComponent","inject","nextTick","onActivated","onBeforeUnmount","onMounted","reactive","ref","watch","onDeactivated","computed","VerticalAlignTopOutlined","PropTypes","addEventListener","getScroll","getTransitionProps","Transition","defaultConfigProvider","scrollTo","withInstall","throttleByAnimationFrame","backTopProps","visibilityHeight","number","def","duration","target","Function","prefixCls","string","onClick","func","BackTop","name","inheritAttrs","props","emits","setup","_ref","slots","attrs","emit","configProvider","domRef","state","visible","scrollEvent","getDefaultTarget","value","ownerDocument","window","scrollToTop","e","_props$target","getContainer","handleScroll","scrollTop","bindScrollEvent","getTarget","container","scrollRemove","remove","cancel","getPrefixCls","_class","_a","defaultElement","concat","divProps","class","direction","backTopBtn","default","call","transitionProps","_default"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated, computed } from 'vue';\nimport VerticalAlignTopOutlined from '@ant-design/icons-vue/VerticalAlignTopOutlined';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport getScroll from '../_util/getScroll';\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defaultConfigProvider } from '../config-provider';\nimport scrollTo from '../_util/scrollTo';\nimport { withInstall } from '../_util/type';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nexport var backTopProps = {\n  visibilityHeight: PropTypes.number.def(400),\n  duration: PropTypes.number.def(450),\n  target: Function,\n  prefixCls: PropTypes.string,\n  onClick: PropTypes.func // visible: PropTypes.looseBool, // Only for test. Don't use it.\n\n};\nvar BackTop = defineComponent({\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: backTopProps,\n  emits: ['click'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n    var configProvider = inject('configProvider', defaultConfigProvider);\n    var domRef = ref();\n    var state = reactive({\n      visible: false,\n      scrollEvent: null\n    });\n\n    var getDefaultTarget = function getDefaultTarget() {\n      return domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    };\n\n    var scrollToTop = function scrollToTop(e) {\n      var _props$target = props.target,\n          target = _props$target === void 0 ? getDefaultTarget : _props$target,\n          duration = props.duration;\n      scrollTo(0, {\n        getContainer: target,\n        duration: duration\n      });\n      emit('click', e);\n    };\n\n    var handleScroll = throttleByAnimationFrame(function (e) {\n      var visibilityHeight = props.visibilityHeight;\n      var scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop > visibilityHeight;\n    });\n\n    var bindScrollEvent = function bindScrollEvent() {\n      var target = props.target;\n      var getTarget = target || getDefaultTarget;\n      var container = getTarget();\n      state.scrollEvent = addEventListener(container, 'scroll', function (e) {\n        handleScroll(e);\n      });\n      handleScroll({\n        target: container\n      });\n    };\n\n    var scrollRemove = function scrollRemove() {\n      if (state.scrollEvent) {\n        state.scrollEvent.remove();\n      }\n\n      handleScroll.cancel();\n    };\n\n    watch(function () {\n      return props.target;\n    }, function () {\n      scrollRemove();\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onActivated(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(function () {\n      scrollRemove();\n    });\n    onBeforeUnmount(function () {\n      scrollRemove();\n    });\n    var prefixCls = computed(function () {\n      return configProvider.getPrefixCls('back-top', props.prefixCls);\n    });\n    return function () {\n      var _class;\n\n      var _a;\n\n      var defaultElement = _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-content\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-icon\")\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n\n      var divProps = _extends(_extends({}, attrs), {\n        onClick: scrollToTop,\n        class: (_class = {}, _defineProperty(_class, \"\".concat(prefixCls.value), true), _defineProperty(_class, \"\".concat(attrs.class), attrs.class), _defineProperty(_class, \"\".concat(prefixCls.value, \"-rtl\"), configProvider.direction === 'rtl'), _class)\n      });\n\n      var backTopBtn = state.visible ? _createVNode(\"div\", _objectSpread(_objectSpread({}, divProps), {}, {\n        \"ref\": domRef\n      }), [((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement]) : null;\n      var transitionProps = getTransitionProps('fade');\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [backTopBtn];\n        }\n      });\n    };\n  }\n});\nexport default withInstall(BackTop);"]},"metadata":{},"sourceType":"module"}