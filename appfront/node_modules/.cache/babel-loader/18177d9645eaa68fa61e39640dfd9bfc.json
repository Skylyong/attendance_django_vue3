{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject } from 'vue';\nimport VcTooltip from '../vc-tooltip';\nimport classNames from '../_util/classNames';\nimport _getPlacements from './placements';\nimport PropTypes from '../_util/vue-types';\nimport { PresetColorTypes } from '../_util/colors';\nimport { hasProp, getComponent, getStyle, filterEmpty, getSlot, isValidElement } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport { defaultConfigProvider } from '../config-provider';\nimport abstractTooltipProps from './abstractTooltipProps';\n\nvar splitObject = function splitObject(obj, keys) {\n  var picked = {};\n\n  var omitted = _extends({}, obj);\n\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n};\n\nvar props = abstractTooltipProps();\nvar PresetColorRegex = new RegExp(\"^(\".concat(PresetColorTypes.join('|'), \")(-inverse)?$\"));\n\nvar tooltipProps = _extends(_extends({}, props), {\n  title: PropTypes.VNodeChild\n});\n\nexport default defineComponent({\n  name: 'ATooltip',\n  inheritAttrs: false,\n  props: tooltipProps,\n  emits: ['update:visible', 'visibleChange'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.$props.visible || !!this.$props.defaultVisible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    handleVisibleChange: function handleVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.sVisible = this.isNoTitle() ? false : visible;\n      }\n\n      if (!this.isNoTitle()) {\n        this.$emit('update:visible', visible);\n        this.$emit('visibleChange', visible);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.tooltip.getPopupDomNode();\n    },\n    getPlacements: function getPlacements() {\n      var _this$$props = this.$props,\n          builtinPlacements = _this$$props.builtinPlacements,\n          arrowPointAtCenter = _this$$props.arrowPointAtCenter,\n          autoAdjustOverflow = _this$$props.autoAdjustOverflow;\n      return builtinPlacements || _getPlacements({\n        arrowPointAtCenter: arrowPointAtCenter,\n        verticalArrowShift: 8,\n        autoAdjustOverflow: autoAdjustOverflow\n      });\n    },\n    // Fix Tooltip won't hide at disabled button\n    // mouse events don't trigger at disabled button in Chrome\n    // https://github.com/react-component/tooltip/issues/18\n    getDisabledCompatibleChildren: function getDisabledCompatibleChildren(ele) {\n      if ((_typeof(ele.type) === 'object' && (ele.type.__ANT_BUTTON === true || ele.type.__ANT_SWITCH === true || ele.type.__ANT_CHECKBOX === true) || ele.type === 'button') && ele.props && (ele.props.disabled || ele.props.disabled === '')) {\n        // Pick some layout related style properties up to span\n        // Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254\n        var _splitObject = splitObject(getStyle(ele), ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n            picked = _splitObject.picked,\n            omitted = _splitObject.omitted;\n\n        var spanStyle = _extends(_extends({\n          display: 'inline-block'\n        }, picked), {\n          cursor: 'not-allowed',\n          width: ele.props && ele.props.block ? '100%' : null\n        });\n\n        var buttonStyle = _extends(_extends({}, omitted), {\n          pointerEvents: 'none'\n        });\n\n        var child = cloneElement(ele, {\n          style: buttonStyle\n        }, true);\n        return _createVNode(\"span\", {\n          \"style\": spanStyle\n        }, [child]);\n      }\n\n      return ele;\n    },\n    isNoTitle: function isNoTitle() {\n      var title = getComponent(this, 'title');\n      return !title && title !== 0;\n    },\n    getOverlay: function getOverlay() {\n      var title = getComponent(this, 'title');\n\n      if (title === 0) {\n        return title;\n      }\n\n      return title || '';\n    },\n    // 动态设置动画点\n    onPopupAlign: function onPopupAlign(domNode, align) {\n      var placements = this.getPlacements(); // 当前返回的位置\n\n      var placement = Object.keys(placements).filter(function (key) {\n        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];\n      })[0];\n\n      if (!placement) {\n        return;\n      } // 根据当前坐标设置动画点\n\n\n      var rect = domNode.getBoundingClientRect();\n      var transformOrigin = {\n        top: '50%',\n        left: '50%'\n      };\n\n      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {\n        transformOrigin.top = \"\".concat(rect.height - align.offset[1], \"px\");\n      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {\n        transformOrigin.top = \"\".concat(-align.offset[1], \"px\");\n      }\n\n      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {\n        transformOrigin.left = \"\".concat(rect.width - align.offset[0], \"px\");\n      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {\n        transformOrigin.left = \"\".concat(-align.offset[0], \"px\");\n      }\n\n      domNode.style.transformOrigin = \"\".concat(transformOrigin.left, \" \").concat(transformOrigin.top);\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var $props = this.$props,\n        $data = this.$data,\n        $attrs = this.$attrs;\n    var customizePrefixCls = $props.prefixCls,\n        openClassName = $props.openClassName,\n        getPopupContainer = $props.getPopupContainer,\n        color = $props.color,\n        overlayClassName = $props.overlayClassName;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tooltip', customizePrefixCls);\n    var children = this.children || filterEmpty(getSlot(this));\n    children = children.length === 1 ? children[0] : children;\n    var sVisible = $data.sVisible; // Hide tooltip when there is no title\n\n    if (!hasProp(this, 'visible') && this.isNoTitle()) {\n      sVisible = false;\n    }\n\n    if (!children) {\n      return null;\n    }\n\n    var child = this.getDisabledCompatibleChildren(isValidElement(children) ? children : _createVNode(\"span\", null, [children]));\n    var childCls = classNames((_classNames = {}, _defineProperty(_classNames, openClassName || \"\".concat(prefixCls, \"-open\"), sVisible), _defineProperty(_classNames, child.props && child.props.class, child.props && child.props.class), _classNames));\n    var customOverlayClassName = classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-\").concat(color), color && PresetColorRegex.test(color)));\n    var formattedOverlayInnerStyle;\n    var arrowContentStyle;\n\n    if (color && !PresetColorRegex.test(color)) {\n      formattedOverlayInnerStyle = {\n        backgroundColor: color\n      };\n      arrowContentStyle = {\n        backgroundColor: color\n      };\n    }\n\n    var vcTooltipProps = _extends(_extends(_extends({}, $attrs), $props), {\n      prefixCls: prefixCls,\n      getTooltipContainer: getPopupContainer || getContextPopupContainer,\n      builtinPlacements: this.getPlacements(),\n      overlay: this.getOverlay(),\n      visible: sVisible,\n      ref: 'tooltip',\n      overlayClassName: customOverlayClassName,\n      overlayInnerStyle: formattedOverlayInnerStyle,\n      arrowContent: _createVNode(\"span\", {\n        \"class\": \"\".concat(prefixCls, \"-arrow-content\"),\n        \"style\": arrowContentStyle\n      }, null),\n      onVisibleChange: this.handleVisibleChange,\n      onPopupAlign: this.onPopupAlign\n    });\n\n    return _createVNode(VcTooltip, vcTooltipProps, {\n      default: function _default() {\n        return [sVisible ? cloneElement(child, {\n          class: childCls\n        }) : child];\n      }\n    });\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/tooltip/Tooltip.js"],"names":["_defineProperty","_typeof","_extends","createVNode","_createVNode","defineComponent","inject","VcTooltip","classNames","_getPlacements","PropTypes","PresetColorTypes","hasProp","getComponent","getStyle","filterEmpty","getSlot","isValidElement","cloneElement","defaultConfigProvider","abstractTooltipProps","splitObject","obj","keys","picked","omitted","forEach","key","props","PresetColorRegex","RegExp","concat","join","tooltipProps","title","VNodeChild","name","inheritAttrs","emits","setup","configProvider","data","sVisible","$props","visible","defaultVisible","watch","val","methods","handleVisibleChange","isNoTitle","$emit","getPopupDomNode","$refs","tooltip","getPlacements","_this$$props","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","verticalArrowShift","getDisabledCompatibleChildren","ele","type","__ANT_BUTTON","__ANT_SWITCH","__ANT_CHECKBOX","disabled","_splitObject","spanStyle","display","cursor","width","block","buttonStyle","pointerEvents","child","style","getOverlay","onPopupAlign","domNode","align","placements","placement","Object","filter","points","rect","getBoundingClientRect","transformOrigin","top","left","indexOf","height","offset","render","_classNames","$data","$attrs","customizePrefixCls","prefixCls","openClassName","getPopupContainer","color","overlayClassName","getContextPopupContainer","getPrefixCls","children","length","childCls","class","customOverlayClassName","test","formattedOverlayInnerStyle","arrowContentStyle","backgroundColor","vcTooltipProps","getTooltipContainer","overlay","ref","overlayInnerStyle","arrowContent","onVisibleChange","default","_default"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject } from 'vue';\nimport VcTooltip from '../vc-tooltip';\nimport classNames from '../_util/classNames';\nimport _getPlacements from './placements';\nimport PropTypes from '../_util/vue-types';\nimport { PresetColorTypes } from '../_util/colors';\nimport { hasProp, getComponent, getStyle, filterEmpty, getSlot, isValidElement } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport { defaultConfigProvider } from '../config-provider';\nimport abstractTooltipProps from './abstractTooltipProps';\n\nvar splitObject = function splitObject(obj, keys) {\n  var picked = {};\n\n  var omitted = _extends({}, obj);\n\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n};\n\nvar props = abstractTooltipProps();\nvar PresetColorRegex = new RegExp(\"^(\".concat(PresetColorTypes.join('|'), \")(-inverse)?$\"));\n\nvar tooltipProps = _extends(_extends({}, props), {\n  title: PropTypes.VNodeChild\n});\n\nexport default defineComponent({\n  name: 'ATooltip',\n  inheritAttrs: false,\n  props: tooltipProps,\n  emits: ['update:visible', 'visibleChange'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    return {\n      sVisible: !!this.$props.visible || !!this.$props.defaultVisible\n    };\n  },\n  watch: {\n    visible: function visible(val) {\n      this.sVisible = val;\n    }\n  },\n  methods: {\n    handleVisibleChange: function handleVisibleChange(visible) {\n      if (!hasProp(this, 'visible')) {\n        this.sVisible = this.isNoTitle() ? false : visible;\n      }\n\n      if (!this.isNoTitle()) {\n        this.$emit('update:visible', visible);\n        this.$emit('visibleChange', visible);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return this.$refs.tooltip.getPopupDomNode();\n    },\n    getPlacements: function getPlacements() {\n      var _this$$props = this.$props,\n          builtinPlacements = _this$$props.builtinPlacements,\n          arrowPointAtCenter = _this$$props.arrowPointAtCenter,\n          autoAdjustOverflow = _this$$props.autoAdjustOverflow;\n      return builtinPlacements || _getPlacements({\n        arrowPointAtCenter: arrowPointAtCenter,\n        verticalArrowShift: 8,\n        autoAdjustOverflow: autoAdjustOverflow\n      });\n    },\n    // Fix Tooltip won't hide at disabled button\n    // mouse events don't trigger at disabled button in Chrome\n    // https://github.com/react-component/tooltip/issues/18\n    getDisabledCompatibleChildren: function getDisabledCompatibleChildren(ele) {\n      if ((_typeof(ele.type) === 'object' && (ele.type.__ANT_BUTTON === true || ele.type.__ANT_SWITCH === true || ele.type.__ANT_CHECKBOX === true) || ele.type === 'button') && ele.props && (ele.props.disabled || ele.props.disabled === '')) {\n        // Pick some layout related style properties up to span\n        // Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254\n        var _splitObject = splitObject(getStyle(ele), ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n            picked = _splitObject.picked,\n            omitted = _splitObject.omitted;\n\n        var spanStyle = _extends(_extends({\n          display: 'inline-block'\n        }, picked), {\n          cursor: 'not-allowed',\n          width: ele.props && ele.props.block ? '100%' : null\n        });\n\n        var buttonStyle = _extends(_extends({}, omitted), {\n          pointerEvents: 'none'\n        });\n\n        var child = cloneElement(ele, {\n          style: buttonStyle\n        }, true);\n        return _createVNode(\"span\", {\n          \"style\": spanStyle\n        }, [child]);\n      }\n\n      return ele;\n    },\n    isNoTitle: function isNoTitle() {\n      var title = getComponent(this, 'title');\n      return !title && title !== 0;\n    },\n    getOverlay: function getOverlay() {\n      var title = getComponent(this, 'title');\n\n      if (title === 0) {\n        return title;\n      }\n\n      return title || '';\n    },\n    // 动态设置动画点\n    onPopupAlign: function onPopupAlign(domNode, align) {\n      var placements = this.getPlacements(); // 当前返回的位置\n\n      var placement = Object.keys(placements).filter(function (key) {\n        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];\n      })[0];\n\n      if (!placement) {\n        return;\n      } // 根据当前坐标设置动画点\n\n\n      var rect = domNode.getBoundingClientRect();\n      var transformOrigin = {\n        top: '50%',\n        left: '50%'\n      };\n\n      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {\n        transformOrigin.top = \"\".concat(rect.height - align.offset[1], \"px\");\n      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {\n        transformOrigin.top = \"\".concat(-align.offset[1], \"px\");\n      }\n\n      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {\n        transformOrigin.left = \"\".concat(rect.width - align.offset[0], \"px\");\n      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {\n        transformOrigin.left = \"\".concat(-align.offset[0], \"px\");\n      }\n\n      domNode.style.transformOrigin = \"\".concat(transformOrigin.left, \" \").concat(transformOrigin.top);\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var $props = this.$props,\n        $data = this.$data,\n        $attrs = this.$attrs;\n    var customizePrefixCls = $props.prefixCls,\n        openClassName = $props.openClassName,\n        getPopupContainer = $props.getPopupContainer,\n        color = $props.color,\n        overlayClassName = $props.overlayClassName;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('tooltip', customizePrefixCls);\n    var children = this.children || filterEmpty(getSlot(this));\n    children = children.length === 1 ? children[0] : children;\n    var sVisible = $data.sVisible; // Hide tooltip when there is no title\n\n    if (!hasProp(this, 'visible') && this.isNoTitle()) {\n      sVisible = false;\n    }\n\n    if (!children) {\n      return null;\n    }\n\n    var child = this.getDisabledCompatibleChildren(isValidElement(children) ? children : _createVNode(\"span\", null, [children]));\n    var childCls = classNames((_classNames = {}, _defineProperty(_classNames, openClassName || \"\".concat(prefixCls, \"-open\"), sVisible), _defineProperty(_classNames, child.props && child.props.class, child.props && child.props.class), _classNames));\n    var customOverlayClassName = classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-\").concat(color), color && PresetColorRegex.test(color)));\n    var formattedOverlayInnerStyle;\n    var arrowContentStyle;\n\n    if (color && !PresetColorRegex.test(color)) {\n      formattedOverlayInnerStyle = {\n        backgroundColor: color\n      };\n      arrowContentStyle = {\n        backgroundColor: color\n      };\n    }\n\n    var vcTooltipProps = _extends(_extends(_extends({}, $attrs), $props), {\n      prefixCls: prefixCls,\n      getTooltipContainer: getPopupContainer || getContextPopupContainer,\n      builtinPlacements: this.getPlacements(),\n      overlay: this.getOverlay(),\n      visible: sVisible,\n      ref: 'tooltip',\n      overlayClassName: customOverlayClassName,\n      overlayInnerStyle: formattedOverlayInnerStyle,\n      arrowContent: _createVNode(\"span\", {\n        \"class\": \"\".concat(prefixCls, \"-arrow-content\"),\n        \"style\": arrowContentStyle\n      }, null),\n      onVisibleChange: this.handleVisibleChange,\n      onPopupAlign: this.onPopupAlign\n    });\n\n    return _createVNode(VcTooltip, vcTooltipProps, {\n      default: function _default() {\n        return [sVisible ? cloneElement(child, {\n          class: childCls\n        }) : child];\n      }\n    });\n  }\n});"]},"metadata":{},"sourceType":"module"}