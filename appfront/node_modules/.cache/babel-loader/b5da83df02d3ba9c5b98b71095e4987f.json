{"ast":null,"code":"import { defineComponent, h, Teleport, inject, ref, createCommentVNode } from 'vue';\nimport { getFuncText } from '../../tools/utils';\nimport XEUtils from 'xe-utils';\nexport default defineComponent({\n  name: 'VxeTableContextMenu',\n  setup: function (props, context) {\n    var xID = XEUtils.uniqueId();\n    var $xetable = inject('$xetable', {});\n    var tableReactData = $xetable.reactData;\n    var refElem = ref();\n    var refMaps = {\n      refElem: refElem\n    };\n    var $xemenupanel = {\n      xID: xID,\n      props: props,\n      context: context,\n      getRefMaps: function () {\n        return refMaps;\n      }\n    };\n\n    var renderVN = function () {\n      var ctxMenuStore = tableReactData.ctxMenuStore;\n      var computeMenuOpts = $xetable.getComputeMaps().computeMenuOpts;\n      var menuOpts = computeMenuOpts.value;\n      return h(Teleport, {\n        to: 'body',\n        disabled: false\n      }, [h('div', {\n        ref: refElem,\n        class: ['vxe-table--context-menu-wrapper', menuOpts.className, {\n          'is--visible': ctxMenuStore.visible\n        }],\n        style: ctxMenuStore.style\n      }, ctxMenuStore.list.map(function (options, gIndex) {\n        return options.every(function (item) {\n          return item.visible === false;\n        }) ? createCommentVNode() : h('ul', {\n          class: 'vxe-context-menu--option-wrapper',\n          key: gIndex\n        }, options.map(function (item, index) {\n          var hasChildMenus = item.children && item.children.some(function (child) {\n            return child.visible !== false;\n          });\n          return item.visible === false ? null : h('li', {\n            class: [item.className, {\n              'link--disabled': item.disabled,\n              'link--active': item === ctxMenuStore.selected\n            }],\n            key: gIndex + \"_\" + index\n          }, [h('a', {\n            class: 'vxe-context-menu--link',\n            onClick: function (evnt) {\n              $xetable.ctxMenuLinkEvent(evnt, item);\n            },\n            onMouseover: function (evnt) {\n              $xetable.ctxMenuMouseoverEvent(evnt, item);\n            },\n            onMouseout: function (evnt) {\n              $xetable.ctxMenuMouseoutEvent(evnt, item);\n            }\n          }, [h('i', {\n            class: ['vxe-context-menu--link-prefix', item.prefixIcon]\n          }), h('span', {\n            class: 'vxe-context-menu--link-content'\n          }, getFuncText(item.name)), h('i', {\n            class: ['vxe-context-menu--link-suffix', hasChildMenus ? item.suffixIcon || 'suffix--haschild' : item.suffixIcon]\n          })]), hasChildMenus ? h('ul', {\n            class: ['vxe-table--context-menu-clild-wrapper', {\n              'is--show': item === ctxMenuStore.selected && ctxMenuStore.showChild\n            }]\n          }, item.children.map(function (child, cIndex) {\n            return child.visible === false ? null : h('li', {\n              class: [child.className, {\n                'link--disabled': child.disabled,\n                'link--active': child === ctxMenuStore.selectChild\n              }],\n              key: gIndex + \"_\" + index + \"_\" + cIndex\n            }, [h('a', {\n              class: 'vxe-context-menu--link',\n              onClick: function (evnt) {\n                $xetable.ctxMenuLinkEvent(evnt, child);\n              },\n              onMouseover: function (evnt) {\n                $xetable.ctxMenuMouseoverEvent(evnt, item, child);\n              },\n              onMouseout: function (evnt) {\n                $xetable.ctxMenuMouseoutEvent(evnt, item);\n              }\n            }, [h('i', {\n              class: ['vxe-context-menu--link-prefix', child.prefixIcon]\n            }), h('span', {\n              class: 'vxe-context-menu--link-content'\n            }, getFuncText(child.name))])]);\n          })) : null]);\n        }));\n      }))]);\n    };\n\n    $xemenupanel.renderVN = renderVN;\n    return $xemenupanel;\n  },\n  render: function () {\n    return this.renderVN();\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/menu/src/panel.js"],"names":["defineComponent","h","Teleport","inject","ref","createCommentVNode","getFuncText","XEUtils","name","setup","props","context","xID","uniqueId","$xetable","tableReactData","reactData","refElem","refMaps","$xemenupanel","getRefMaps","renderVN","ctxMenuStore","computeMenuOpts","getComputeMaps","menuOpts","value","to","disabled","class","className","visible","style","list","map","options","gIndex","every","item","key","index","hasChildMenus","children","some","child","selected","onClick","evnt","ctxMenuLinkEvent","onMouseover","ctxMenuMouseoverEvent","onMouseout","ctxMenuMouseoutEvent","prefixIcon","suffixIcon","showChild","cIndex","selectChild","render"],"mappings":"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","sourcesContent":["import { defineComponent, h, Teleport, inject, ref, createCommentVNode } from 'vue';\nimport { getFuncText } from '../../tools/utils';\nimport XEUtils from 'xe-utils';\nexport default defineComponent({\n    name: 'VxeTableContextMenu',\n    setup: function (props, context) {\n        var xID = XEUtils.uniqueId();\n        var $xetable = inject('$xetable', {});\n        var tableReactData = $xetable.reactData;\n        var refElem = ref();\n        var refMaps = {\n            refElem: refElem\n        };\n        var $xemenupanel = {\n            xID: xID,\n            props: props,\n            context: context,\n            getRefMaps: function () { return refMaps; }\n        };\n        var renderVN = function () {\n            var ctxMenuStore = tableReactData.ctxMenuStore;\n            var computeMenuOpts = $xetable.getComputeMaps().computeMenuOpts;\n            var menuOpts = computeMenuOpts.value;\n            return h(Teleport, {\n                to: 'body',\n                disabled: false\n            }, [\n                h('div', {\n                    ref: refElem,\n                    class: ['vxe-table--context-menu-wrapper', menuOpts.className, {\n                            'is--visible': ctxMenuStore.visible\n                        }],\n                    style: ctxMenuStore.style\n                }, ctxMenuStore.list.map(function (options, gIndex) {\n                    return options.every(function (item) { return item.visible === false; }) ? createCommentVNode() : h('ul', {\n                        class: 'vxe-context-menu--option-wrapper',\n                        key: gIndex\n                    }, options.map(function (item, index) {\n                        var hasChildMenus = item.children && item.children.some(function (child) { return child.visible !== false; });\n                        return item.visible === false ? null : h('li', {\n                            class: [item.className, {\n                                    'link--disabled': item.disabled,\n                                    'link--active': item === ctxMenuStore.selected\n                                }],\n                            key: gIndex + \"_\" + index\n                        }, [\n                            h('a', {\n                                class: 'vxe-context-menu--link',\n                                onClick: function (evnt) {\n                                    $xetable.ctxMenuLinkEvent(evnt, item);\n                                },\n                                onMouseover: function (evnt) {\n                                    $xetable.ctxMenuMouseoverEvent(evnt, item);\n                                },\n                                onMouseout: function (evnt) {\n                                    $xetable.ctxMenuMouseoutEvent(evnt, item);\n                                }\n                            }, [\n                                h('i', {\n                                    class: ['vxe-context-menu--link-prefix', item.prefixIcon]\n                                }),\n                                h('span', {\n                                    class: 'vxe-context-menu--link-content'\n                                }, getFuncText(item.name)),\n                                h('i', {\n                                    class: ['vxe-context-menu--link-suffix', hasChildMenus ? item.suffixIcon || 'suffix--haschild' : item.suffixIcon]\n                                })\n                            ]),\n                            hasChildMenus ? h('ul', {\n                                class: ['vxe-table--context-menu-clild-wrapper', {\n                                        'is--show': item === ctxMenuStore.selected && ctxMenuStore.showChild\n                                    }]\n                            }, item.children.map(function (child, cIndex) {\n                                return child.visible === false ? null : h('li', {\n                                    class: [child.className, {\n                                            'link--disabled': child.disabled,\n                                            'link--active': child === ctxMenuStore.selectChild\n                                        }],\n                                    key: gIndex + \"_\" + index + \"_\" + cIndex\n                                }, [\n                                    h('a', {\n                                        class: 'vxe-context-menu--link',\n                                        onClick: function (evnt) {\n                                            $xetable.ctxMenuLinkEvent(evnt, child);\n                                        },\n                                        onMouseover: function (evnt) {\n                                            $xetable.ctxMenuMouseoverEvent(evnt, item, child);\n                                        },\n                                        onMouseout: function (evnt) {\n                                            $xetable.ctxMenuMouseoutEvent(evnt, item);\n                                        }\n                                    }, [\n                                        h('i', {\n                                            class: ['vxe-context-menu--link-prefix', child.prefixIcon]\n                                        }),\n                                        h('span', {\n                                            class: 'vxe-context-menu--link-content'\n                                        }, getFuncText(child.name))\n                                    ])\n                                ]);\n                            })) : null\n                        ]);\n                    }));\n                }))\n            ]);\n        };\n        $xemenupanel.renderVN = renderVN;\n        return $xemenupanel;\n    },\n    render: function () {\n        return this.renderVN();\n    }\n});\n"]},"metadata":{},"sourceType":"module"}