{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport Align from '../vc-align';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport BaseMixin from '../_util/BaseMixin';\nimport { saveRef } from './utils';\nimport { splitAttrs, findDOMNode } from '../_util/props-util';\nimport { getTransitionProps, Transition } from '../_util/transition';\nexport default {\n  name: 'VCTriggerPopup',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    visible: PropTypes.looseBool,\n    getClassNameFromAlign: PropTypes.func,\n    getRootDomNode: PropTypes.func,\n    align: PropTypes.any,\n    destroyPopupOnHide: PropTypes.looseBool,\n    prefixCls: PropTypes.string,\n    getContainer: PropTypes.func,\n    transitionName: PropTypes.string,\n    animation: PropTypes.any,\n    maskAnimation: PropTypes.string,\n    maskTransitionName: PropTypes.string,\n    mask: PropTypes.looseBool,\n    zIndex: PropTypes.number,\n    popupClassName: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    stretch: PropTypes.string,\n    point: PropTypes.shape({\n      pageX: PropTypes.number,\n      pageY: PropTypes.number\n    }).loose\n  },\n  data: function data() {\n    this.domEl = null;\n    this.currentAlignClassName = undefined;\n    this.transitionProps = {};\n    this.savePopupRef = saveRef.bind(this, 'popupInstance');\n    this.saveAlignRef = saveRef.bind(this, 'alignInstance');\n    return {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.rootNode = _this.getPopupDomNode();\n\n      _this.setStretchSize();\n    });\n  },\n  // 如添加会导致动画失效，如放开会导致快速输入时闪动 https://github.com/vueComponent/ant-design-vue/issues/1327，\n  // 目前方案是保留动画，闪动问题(动画多次执行)进一步定位\n  // beforeUpdate() {\n  //   if (this.domEl && this.domEl.rcEndListener) {\n  //     this.domEl.rcEndListener();\n  //     this.domEl = null;\n  //   }\n  // },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setStretchSize();\n    });\n  },\n  methods: {\n    onAlign: function onAlign(popupDomNode, align) {\n      var props = this.$props;\n      var currentAlignClassName = props.getClassNameFromAlign(align); // FIX: https://github.com/react-component/trigger/issues/56\n      // FIX: https://github.com/react-component/tooltip/issues/79\n\n      if (this.currentAlignClassName !== currentAlignClassName) {\n        this.currentAlignClassName = currentAlignClassName;\n        popupDomNode.className = this.getClassName(currentAlignClassName, popupDomNode.className);\n      }\n\n      var onaAlign = this.$attrs.onaAlign;\n      onaAlign && onaAlign(popupDomNode, align);\n    },\n    // Record size if stretch needed\n    setStretchSize: function setStretchSize() {\n      var _this$$props = this.$props,\n          stretch = _this$$props.stretch,\n          getRootDomNode = _this$$props.getRootDomNode,\n          visible = _this$$props.visible;\n      var _this$$data = this.$data,\n          stretchChecked = _this$$data.stretchChecked,\n          targetHeight = _this$$data.targetHeight,\n          targetWidth = _this$$data.targetWidth;\n\n      if (!stretch || !visible) {\n        if (stretchChecked) {\n          this.setState({\n            stretchChecked: false\n          });\n        }\n\n        return;\n      }\n\n      var $ele = getRootDomNode();\n      if (!$ele) return;\n      var height = $ele.offsetHeight;\n      var width = $ele.offsetWidth;\n\n      if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n        this.setState({\n          stretchChecked: true,\n          targetHeight: height,\n          targetWidth: width\n        });\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return findDOMNode(this.popupInstance);\n    },\n    getTargetElement: function getTargetElement() {\n      return this.$props.getRootDomNode();\n    },\n    // `target` on `rc-align` can accept as a function to get the bind element or a point.\n    // ref: https://www.npmjs.com/package/rc-align\n    getAlignTarget: function getAlignTarget() {\n      var point = this.$props.point;\n\n      if (point) {\n        return point;\n      }\n\n      return this.getTargetElement;\n    },\n    getMaskTransitionName: function getMaskTransitionName() {\n      var props = this.$props;\n      var transitionName = props.maskTransitionName;\n      var animation = props.maskAnimation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n      var animation = props.animation;\n\n      if (!transitionName) {\n        if (typeof animation === 'string') {\n          transitionName = \"\".concat(animation);\n        } else if (animation && animation.props && animation.props.name) {\n          transitionName = animation.props.name;\n        }\n      }\n\n      return transitionName;\n    },\n    getClassName: function getClassName(currentAlignClassName) {\n      var _this3 = this;\n\n      var originClassName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; // 保留动画 class\n\n      var enterActiveClass = [];\n\n      if (this.transitionProps) {\n        Object.keys(this.transitionProps).forEach(function (k) {\n          if (typeof _this3.transitionProps[k] === 'string') {\n            enterActiveClass.push.apply(enterActiveClass, _toConsumableArray(_this3.transitionProps[k].split(' ')));\n          }\n        });\n      }\n\n      var classNames = originClassName.split(' ').filter(function (c) {\n        return enterActiveClass.indexOf(c) !== -1;\n      }).join(' ');\n      return \"\".concat(this.$props.prefixCls, \" \").concat(this.$attrs.class || '', \" \").concat(this.$props.popupClassName, \" \").concat(currentAlignClassName, \" \").concat(classNames);\n    },\n    getPopupElement: function getPopupElement() {\n      var _this4 = this;\n\n      var _a, _b;\n\n      var savePopupRef = this.savePopupRef;\n      var props = this.$props,\n          $attrs = this.$attrs,\n          $slots = this.$slots,\n          getTransitionName = this.getTransitionName;\n      var _this$$data2 = this.$data,\n          stretchChecked = _this$$data2.stretchChecked,\n          targetHeight = _this$$data2.targetHeight,\n          targetWidth = _this$$data2.targetWidth;\n      var _$attrs$style = $attrs.style,\n          style = _$attrs$style === void 0 ? {} : _$attrs$style;\n      var onEvents = splitAttrs($attrs).onEvents;\n      var align = props.align,\n          visible = props.visible,\n          prefixCls = props.prefixCls,\n          animation = props.animation,\n          popupStyle = props.popupStyle,\n          getClassNameFromAlign = props.getClassNameFromAlign,\n          destroyPopupOnHide = props.destroyPopupOnHide,\n          stretch = props.stretch;\n      var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align)); // const hiddenClassName = `${prefixCls}-hidden`\n\n      if (!visible) {\n        this.currentAlignClassName = null;\n      }\n\n      var sizeStyle = {};\n\n      if (stretch) {\n        // Stretch with target\n        if (stretch.indexOf('height') !== -1) {\n          sizeStyle.height = typeof targetHeight === 'number' ? \"\".concat(targetHeight, \"px\") : targetHeight;\n        } else if (stretch.indexOf('minHeight') !== -1) {\n          sizeStyle.minHeight = typeof targetHeight === 'number' ? \"\".concat(targetHeight, \"px\") : targetHeight;\n        }\n\n        if (stretch.indexOf('width') !== -1) {\n          sizeStyle.width = typeof targetWidth === 'number' ? \"\".concat(targetWidth, \"px\") : targetWidth;\n        } else if (stretch.indexOf('minWidth') !== -1) {\n          sizeStyle.minWidth = typeof targetWidth === 'number' ? \"\".concat(targetWidth, \"px\") : targetWidth;\n        } // Delay force align to makes ui smooth\n\n\n        if (!stretchChecked) {\n          // sizeStyle.visibility = 'hidden'\n          setTimeout(function () {\n            if (_this4.alignInstance) {\n              _this4.alignInstance.forceAlign();\n            }\n          }, 0);\n        }\n      }\n\n      var popupInnerProps = _extends(_extends({\n        prefixCls: prefixCls,\n        visible: visible,\n        // hiddenClassName,\n        class: className\n      }, onEvents), {\n        ref: savePopupRef,\n        style: _extends(_extends(_extends(_extends({}, sizeStyle), popupStyle), style), this.getZIndexStyle())\n      });\n\n      var transitionName = getTransitionName();\n      var useTransition = !!transitionName;\n      var transitionProps = getTransitionProps(transitionName);\n\n      if (_typeof(animation) === 'object') {\n        useTransition = true;\n        transitionProps = _extends(_extends({}, transitionProps), animation);\n      }\n\n      if (!useTransition) {\n        transitionProps = {};\n      }\n\n      this.transitionProps = transitionProps;\n\n      if (destroyPopupOnHide) {\n        return _createVNode(Transition, transitionProps, {\n          default: function _default() {\n            return [visible ? _createVNode(Align, {\n              \"target\": _this4.getAlignTarget(),\n              \"key\": \"popup\",\n              \"ref\": _this4.saveAlignRef,\n              \"monitorWindowResize\": true,\n              \"align\": align,\n              \"onAlign\": _this4.onAlign\n            }, {\n              default: function _default() {\n                return [_createVNode(PopupInner, popupInnerProps, {\n                  default: function _default() {\n                    return [(_a = $slots.default) === null || _a === void 0 ? void 0 : _a.call($slots)];\n                  }\n                })];\n              }\n            }) : null];\n          }\n        });\n      }\n\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [_withDirectives(_createVNode(Align, {\n            \"target\": _this4.getAlignTarget(),\n            \"key\": \"popup\",\n            \"ref\": _this4.saveAlignRef,\n            \"monitorWindowResize\": true,\n            \"disabled\": !visible,\n            \"align\": align,\n            \"onAlign\": _this4.onAlign\n          }, {\n            default: function _default() {\n              return [_createVNode(PopupInner, popupInnerProps, {\n                default: function _default() {\n                  return [(_b = $slots.default) === null || _b === void 0 ? void 0 : _b.call($slots)];\n                }\n              })];\n            }\n          }), [[_vShow, visible]])];\n        }\n      });\n    },\n    getZIndexStyle: function getZIndexStyle() {\n      var style = {};\n      var props = this.$props;\n\n      if (props.zIndex !== undefined) {\n        style.zIndex = props.zIndex;\n      }\n\n      return style;\n    },\n    getMaskElement: function getMaskElement() {\n      var props = this.$props;\n      var maskElement = null;\n\n      if (props.mask) {\n        var maskTransition = this.getMaskTransitionName();\n        maskElement = _withDirectives(_createVNode(LazyRenderBox, {\n          \"style\": this.getZIndexStyle(),\n          \"key\": \"mask\",\n          \"class\": \"\".concat(props.prefixCls, \"-mask\"),\n          \"visible\": props.visible\n        }, null), [[_vShow, props.visible]]);\n\n        if (maskTransition) {\n          var _maskElement = function () {\n            return maskElement;\n          }();\n\n          maskElement = _createVNode(Transition, {\n            \"appear\": true,\n            \"name\": maskTransition\n          }, {\n            default: function _default() {\n              return [_maskElement];\n            }\n          });\n        }\n      }\n\n      return maskElement;\n    }\n  },\n  render: function render() {\n    var getMaskElement = this.getMaskElement,\n        getPopupElement = this.getPopupElement;\n    return _createVNode(\"div\", null, [getMaskElement(), getPopupElement()]);\n  }\n};","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-trigger/Popup.js"],"names":["_typeof","_extends","_toConsumableArray","withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","PropTypes","Align","PopupInner","LazyRenderBox","BaseMixin","saveRef","splitAttrs","findDOMNode","getTransitionProps","Transition","name","mixins","inheritAttrs","props","visible","looseBool","getClassNameFromAlign","func","getRootDomNode","align","any","destroyPopupOnHide","prefixCls","string","getContainer","transitionName","animation","maskAnimation","maskTransitionName","mask","zIndex","number","popupClassName","popupStyle","object","def","stretch","point","shape","pageX","pageY","loose","data","domEl","currentAlignClassName","undefined","transitionProps","savePopupRef","bind","saveAlignRef","stretchChecked","targetWidth","targetHeight","mounted","_this","$nextTick","rootNode","getPopupDomNode","setStretchSize","updated","_this2","methods","onAlign","popupDomNode","$props","className","getClassName","onaAlign","$attrs","_this$$props","_this$$data","$data","setState","$ele","height","offsetHeight","width","offsetWidth","popupInstance","getTargetElement","getAlignTarget","getMaskTransitionName","concat","getTransitionName","_this3","originClassName","arguments","length","enterActiveClass","Object","keys","forEach","k","push","apply","split","classNames","filter","c","indexOf","join","class","getPopupElement","_this4","_a","_b","$slots","_this$$data2","_$attrs$style","style","onEvents","sizeStyle","minHeight","minWidth","setTimeout","alignInstance","forceAlign","popupInnerProps","ref","getZIndexStyle","useTransition","default","_default","call","getMaskElement","maskElement","maskTransition","_maskElement","render"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport Align from '../vc-align';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport BaseMixin from '../_util/BaseMixin';\nimport { saveRef } from './utils';\nimport { splitAttrs, findDOMNode } from '../_util/props-util';\nimport { getTransitionProps, Transition } from '../_util/transition';\nexport default {\n  name: 'VCTriggerPopup',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    visible: PropTypes.looseBool,\n    getClassNameFromAlign: PropTypes.func,\n    getRootDomNode: PropTypes.func,\n    align: PropTypes.any,\n    destroyPopupOnHide: PropTypes.looseBool,\n    prefixCls: PropTypes.string,\n    getContainer: PropTypes.func,\n    transitionName: PropTypes.string,\n    animation: PropTypes.any,\n    maskAnimation: PropTypes.string,\n    maskTransitionName: PropTypes.string,\n    mask: PropTypes.looseBool,\n    zIndex: PropTypes.number,\n    popupClassName: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    stretch: PropTypes.string,\n    point: PropTypes.shape({\n      pageX: PropTypes.number,\n      pageY: PropTypes.number\n    }).loose\n  },\n  data: function data() {\n    this.domEl = null;\n    this.currentAlignClassName = undefined;\n    this.transitionProps = {};\n    this.savePopupRef = saveRef.bind(this, 'popupInstance');\n    this.saveAlignRef = saveRef.bind(this, 'alignInstance');\n    return {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.rootNode = _this.getPopupDomNode();\n\n      _this.setStretchSize();\n    });\n  },\n  // 如添加会导致动画失效，如放开会导致快速输入时闪动 https://github.com/vueComponent/ant-design-vue/issues/1327，\n  // 目前方案是保留动画，闪动问题(动画多次执行)进一步定位\n  // beforeUpdate() {\n  //   if (this.domEl && this.domEl.rcEndListener) {\n  //     this.domEl.rcEndListener();\n  //     this.domEl = null;\n  //   }\n  // },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.setStretchSize();\n    });\n  },\n  methods: {\n    onAlign: function onAlign(popupDomNode, align) {\n      var props = this.$props;\n      var currentAlignClassName = props.getClassNameFromAlign(align); // FIX: https://github.com/react-component/trigger/issues/56\n      // FIX: https://github.com/react-component/tooltip/issues/79\n\n      if (this.currentAlignClassName !== currentAlignClassName) {\n        this.currentAlignClassName = currentAlignClassName;\n        popupDomNode.className = this.getClassName(currentAlignClassName, popupDomNode.className);\n      }\n\n      var onaAlign = this.$attrs.onaAlign;\n      onaAlign && onaAlign(popupDomNode, align);\n    },\n    // Record size if stretch needed\n    setStretchSize: function setStretchSize() {\n      var _this$$props = this.$props,\n          stretch = _this$$props.stretch,\n          getRootDomNode = _this$$props.getRootDomNode,\n          visible = _this$$props.visible;\n      var _this$$data = this.$data,\n          stretchChecked = _this$$data.stretchChecked,\n          targetHeight = _this$$data.targetHeight,\n          targetWidth = _this$$data.targetWidth;\n\n      if (!stretch || !visible) {\n        if (stretchChecked) {\n          this.setState({\n            stretchChecked: false\n          });\n        }\n\n        return;\n      }\n\n      var $ele = getRootDomNode();\n      if (!$ele) return;\n      var height = $ele.offsetHeight;\n      var width = $ele.offsetWidth;\n\n      if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n        this.setState({\n          stretchChecked: true,\n          targetHeight: height,\n          targetWidth: width\n        });\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      return findDOMNode(this.popupInstance);\n    },\n    getTargetElement: function getTargetElement() {\n      return this.$props.getRootDomNode();\n    },\n    // `target` on `rc-align` can accept as a function to get the bind element or a point.\n    // ref: https://www.npmjs.com/package/rc-align\n    getAlignTarget: function getAlignTarget() {\n      var point = this.$props.point;\n\n      if (point) {\n        return point;\n      }\n\n      return this.getTargetElement;\n    },\n    getMaskTransitionName: function getMaskTransitionName() {\n      var props = this.$props;\n      var transitionName = props.maskTransitionName;\n      var animation = props.maskAnimation;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(props.prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    },\n    getTransitionName: function getTransitionName() {\n      var props = this.$props;\n      var transitionName = props.transitionName;\n      var animation = props.animation;\n\n      if (!transitionName) {\n        if (typeof animation === 'string') {\n          transitionName = \"\".concat(animation);\n        } else if (animation && animation.props && animation.props.name) {\n          transitionName = animation.props.name;\n        }\n      }\n\n      return transitionName;\n    },\n    getClassName: function getClassName(currentAlignClassName) {\n      var _this3 = this;\n\n      var originClassName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      // 保留动画 class\n      var enterActiveClass = [];\n\n      if (this.transitionProps) {\n        Object.keys(this.transitionProps).forEach(function (k) {\n          if (typeof _this3.transitionProps[k] === 'string') {\n            enterActiveClass.push.apply(enterActiveClass, _toConsumableArray(_this3.transitionProps[k].split(' ')));\n          }\n        });\n      }\n\n      var classNames = originClassName.split(' ').filter(function (c) {\n        return enterActiveClass.indexOf(c) !== -1;\n      }).join(' ');\n      return \"\".concat(this.$props.prefixCls, \" \").concat(this.$attrs.class || '', \" \").concat(this.$props.popupClassName, \" \").concat(currentAlignClassName, \" \").concat(classNames);\n    },\n    getPopupElement: function getPopupElement() {\n      var _this4 = this;\n\n      var _a, _b;\n\n      var savePopupRef = this.savePopupRef;\n      var props = this.$props,\n          $attrs = this.$attrs,\n          $slots = this.$slots,\n          getTransitionName = this.getTransitionName;\n      var _this$$data2 = this.$data,\n          stretchChecked = _this$$data2.stretchChecked,\n          targetHeight = _this$$data2.targetHeight,\n          targetWidth = _this$$data2.targetWidth;\n      var _$attrs$style = $attrs.style,\n          style = _$attrs$style === void 0 ? {} : _$attrs$style;\n      var onEvents = splitAttrs($attrs).onEvents;\n      var align = props.align,\n          visible = props.visible,\n          prefixCls = props.prefixCls,\n          animation = props.animation,\n          popupStyle = props.popupStyle,\n          getClassNameFromAlign = props.getClassNameFromAlign,\n          destroyPopupOnHide = props.destroyPopupOnHide,\n          stretch = props.stretch;\n      var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align)); // const hiddenClassName = `${prefixCls}-hidden`\n\n      if (!visible) {\n        this.currentAlignClassName = null;\n      }\n\n      var sizeStyle = {};\n\n      if (stretch) {\n        // Stretch with target\n        if (stretch.indexOf('height') !== -1) {\n          sizeStyle.height = typeof targetHeight === 'number' ? \"\".concat(targetHeight, \"px\") : targetHeight;\n        } else if (stretch.indexOf('minHeight') !== -1) {\n          sizeStyle.minHeight = typeof targetHeight === 'number' ? \"\".concat(targetHeight, \"px\") : targetHeight;\n        }\n\n        if (stretch.indexOf('width') !== -1) {\n          sizeStyle.width = typeof targetWidth === 'number' ? \"\".concat(targetWidth, \"px\") : targetWidth;\n        } else if (stretch.indexOf('minWidth') !== -1) {\n          sizeStyle.minWidth = typeof targetWidth === 'number' ? \"\".concat(targetWidth, \"px\") : targetWidth;\n        } // Delay force align to makes ui smooth\n\n\n        if (!stretchChecked) {\n          // sizeStyle.visibility = 'hidden'\n          setTimeout(function () {\n            if (_this4.alignInstance) {\n              _this4.alignInstance.forceAlign();\n            }\n          }, 0);\n        }\n      }\n\n      var popupInnerProps = _extends(_extends({\n        prefixCls: prefixCls,\n        visible: visible,\n        // hiddenClassName,\n        class: className\n      }, onEvents), {\n        ref: savePopupRef,\n        style: _extends(_extends(_extends(_extends({}, sizeStyle), popupStyle), style), this.getZIndexStyle())\n      });\n\n      var transitionName = getTransitionName();\n      var useTransition = !!transitionName;\n      var transitionProps = getTransitionProps(transitionName);\n\n      if (_typeof(animation) === 'object') {\n        useTransition = true;\n        transitionProps = _extends(_extends({}, transitionProps), animation);\n      }\n\n      if (!useTransition) {\n        transitionProps = {};\n      }\n\n      this.transitionProps = transitionProps;\n\n      if (destroyPopupOnHide) {\n        return _createVNode(Transition, transitionProps, {\n          default: function _default() {\n            return [visible ? _createVNode(Align, {\n              \"target\": _this4.getAlignTarget(),\n              \"key\": \"popup\",\n              \"ref\": _this4.saveAlignRef,\n              \"monitorWindowResize\": true,\n              \"align\": align,\n              \"onAlign\": _this4.onAlign\n            }, {\n              default: function _default() {\n                return [_createVNode(PopupInner, popupInnerProps, {\n                  default: function _default() {\n                    return [(_a = $slots.default) === null || _a === void 0 ? void 0 : _a.call($slots)];\n                  }\n                })];\n              }\n            }) : null];\n          }\n        });\n      }\n\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [_withDirectives(_createVNode(Align, {\n            \"target\": _this4.getAlignTarget(),\n            \"key\": \"popup\",\n            \"ref\": _this4.saveAlignRef,\n            \"monitorWindowResize\": true,\n            \"disabled\": !visible,\n            \"align\": align,\n            \"onAlign\": _this4.onAlign\n          }, {\n            default: function _default() {\n              return [_createVNode(PopupInner, popupInnerProps, {\n                default: function _default() {\n                  return [(_b = $slots.default) === null || _b === void 0 ? void 0 : _b.call($slots)];\n                }\n              })];\n            }\n          }), [[_vShow, visible]])];\n        }\n      });\n    },\n    getZIndexStyle: function getZIndexStyle() {\n      var style = {};\n      var props = this.$props;\n\n      if (props.zIndex !== undefined) {\n        style.zIndex = props.zIndex;\n      }\n\n      return style;\n    },\n    getMaskElement: function getMaskElement() {\n      var props = this.$props;\n      var maskElement = null;\n\n      if (props.mask) {\n        var maskTransition = this.getMaskTransitionName();\n        maskElement = _withDirectives(_createVNode(LazyRenderBox, {\n          \"style\": this.getZIndexStyle(),\n          \"key\": \"mask\",\n          \"class\": \"\".concat(props.prefixCls, \"-mask\"),\n          \"visible\": props.visible\n        }, null), [[_vShow, props.visible]]);\n\n        if (maskTransition) {\n          var _maskElement = function () {\n            return maskElement;\n          }();\n\n          maskElement = _createVNode(Transition, {\n            \"appear\": true,\n            \"name\": maskTransition\n          }, {\n            default: function _default() {\n              return [_maskElement];\n            }\n          });\n        }\n      }\n\n      return maskElement;\n    }\n  },\n  render: function render() {\n    var getMaskElement = this.getMaskElement,\n        getPopupElement = this.getPopupElement;\n    return _createVNode(\"div\", null, [getMaskElement(), getPopupElement()]);\n  }\n};"]},"metadata":{},"sourceType":"module"}