{"ast":null,"code":"import { h } from \"vue\";\nimport { inBrowser, useRect } from \"@vant/use\";\n\nvar stdin_default = lazy => ({\n  props: {\n    tag: {\n      type: String,\n      default: \"div\"\n    }\n  },\n  emits: [\"show\"],\n\n  render() {\n    return h(this.tag, this.show && this.$slots.default ? this.$slots.default() : null);\n  },\n\n  data() {\n    return {\n      el: null,\n      state: {\n        loaded: false\n      },\n      show: false\n    };\n  },\n\n  mounted() {\n    this.el = this.$el;\n    lazy.addLazyBox(this);\n    lazy.lazyLoadHandler();\n  },\n\n  beforeUnmount() {\n    lazy.removeComponent(this);\n  },\n\n  methods: {\n    checkInView() {\n      const rect = useRect(this.$el);\n      return inBrowser && rect.top < window.innerHeight * lazy.options.preLoad && rect.bottom > 0 && rect.left < window.innerWidth * lazy.options.preLoad && rect.right > 0;\n    },\n\n    load() {\n      this.show = true;\n      this.state.loaded = true;\n      this.$emit(\"show\", this);\n    },\n\n    destroy() {\n      return this.$destroy;\n    }\n\n  }\n});\n\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/lazyload/vue-lazyload/lazy-component.js"],"names":["h","inBrowser","useRect","stdin_default","lazy","props","tag","type","String","default","emits","render","show","$slots","data","el","state","loaded","mounted","$el","addLazyBox","lazyLoadHandler","beforeUnmount","removeComponent","methods","checkInView","rect","top","window","innerHeight","options","preLoad","bottom","left","innerWidth","right","load","$emit","destroy","$destroy"],"mappings":"AAAA,SAASA,CAAT,QAAkB,KAAlB;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,WAAnC;;AACA,IAAIC,aAAa,GAAIC,IAAD,KAAW;AAC7BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,GAAG,EAAE;AACHC,MAAAA,IAAI,EAAEC,MADH;AAEHC,MAAAA,OAAO,EAAE;AAFN;AADA,GADsB;AAO7BC,EAAAA,KAAK,EAAE,CAAC,MAAD,CAPsB;;AAQ7BC,EAAAA,MAAM,GAAG;AACP,WAAOX,CAAC,CAAC,KAAKM,GAAN,EAAW,KAAKM,IAAL,IAAa,KAAKC,MAAL,CAAYJ,OAAzB,GAAmC,KAAKI,MAAL,CAAYJ,OAAZ,EAAnC,GAA2D,IAAtE,CAAR;AACD,GAV4B;;AAW7BK,EAAAA,IAAI,GAAG;AACL,WAAO;AACLC,MAAAA,EAAE,EAAE,IADC;AAELC,MAAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH,OAFF;AAKLL,MAAAA,IAAI,EAAE;AALD,KAAP;AAOD,GAnB4B;;AAoB7BM,EAAAA,OAAO,GAAG;AACR,SAAKH,EAAL,GAAU,KAAKI,GAAf;AACAf,IAAAA,IAAI,CAACgB,UAAL,CAAgB,IAAhB;AACAhB,IAAAA,IAAI,CAACiB,eAAL;AACD,GAxB4B;;AAyB7BC,EAAAA,aAAa,GAAG;AACdlB,IAAAA,IAAI,CAACmB,eAAL,CAAqB,IAArB;AACD,GA3B4B;;AA4B7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,GAAG;AACZ,YAAMC,IAAI,GAAGxB,OAAO,CAAC,KAAKiB,GAAN,CAApB;AACA,aAAOlB,SAAS,IAAIyB,IAAI,CAACC,GAAL,GAAWC,MAAM,CAACC,WAAP,GAAqBzB,IAAI,CAAC0B,OAAL,CAAaC,OAA1D,IAAqEL,IAAI,CAACM,MAAL,GAAc,CAAnF,IAAwFN,IAAI,CAACO,IAAL,GAAYL,MAAM,CAACM,UAAP,GAAoB9B,IAAI,CAAC0B,OAAL,CAAaC,OAArI,IAAgJL,IAAI,CAACS,KAAL,GAAa,CAApK;AACD,KAJM;;AAKPC,IAAAA,IAAI,GAAG;AACL,WAAKxB,IAAL,GAAY,IAAZ;AACA,WAAKI,KAAL,CAAWC,MAAX,GAAoB,IAApB;AACA,WAAKoB,KAAL,CAAW,MAAX,EAAmB,IAAnB;AACD,KATM;;AAUPC,IAAAA,OAAO,GAAG;AACR,aAAO,KAAKC,QAAZ;AACD;;AAZM;AA5BoB,CAAX,CAApB;;AA2CA,SACEpC,aAAa,IAAIM,OADnB","sourcesContent":["import { h } from \"vue\";\nimport { inBrowser, useRect } from \"@vant/use\";\nvar stdin_default = (lazy) => ({\n  props: {\n    tag: {\n      type: String,\n      default: \"div\"\n    }\n  },\n  emits: [\"show\"],\n  render() {\n    return h(this.tag, this.show && this.$slots.default ? this.$slots.default() : null);\n  },\n  data() {\n    return {\n      el: null,\n      state: {\n        loaded: false\n      },\n      show: false\n    };\n  },\n  mounted() {\n    this.el = this.$el;\n    lazy.addLazyBox(this);\n    lazy.lazyLoadHandler();\n  },\n  beforeUnmount() {\n    lazy.removeComponent(this);\n  },\n  methods: {\n    checkInView() {\n      const rect = useRect(this.$el);\n      return inBrowser && rect.top < window.innerHeight * lazy.options.preLoad && rect.bottom > 0 && rect.left < window.innerWidth * lazy.options.preLoad && rect.right > 0;\n    },\n    load() {\n      this.show = true;\n      this.state.loaded = true;\n      this.$emit(\"show\", this);\n    },\n    destroy() {\n      return this.$destroy;\n    }\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}