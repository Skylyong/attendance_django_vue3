{"ast":null,"code":"import { raf } from \"@vant/use\";\nimport { getScrollTop, setScrollTop } from \"../utils\";\n\nfunction scrollLeftTo(scroller, to, duration) {\n  let count = 0;\n  const from = scroller.scrollLeft;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n\n  function animate() {\n    scroller.scrollLeft += (to - from) / frames;\n\n    if (++count < frames) {\n      raf(animate);\n    }\n  }\n\n  animate();\n}\n\nfunction scrollTopTo(scroller, to, duration, callback) {\n  let current = getScrollTop(scroller);\n  const isDown = current < to;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n  const step = (to - current) / frames;\n\n  function animate() {\n    current += step;\n\n    if (isDown && current > to || !isDown && current < to) {\n      current = to;\n    }\n\n    setScrollTop(scroller, current);\n\n    if (isDown && current < to || !isDown && current > to) {\n      raf(animate);\n    } else if (callback) {\n      raf(callback);\n    }\n  }\n\n  animate();\n}\n\nexport { scrollLeftTo, scrollTopTo };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/tabs/utils.js"],"names":["raf","getScrollTop","setScrollTop","scrollLeftTo","scroller","to","duration","count","from","scrollLeft","frames","Math","round","animate","scrollTopTo","callback","current","isDown","step"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,UAA3C;;AACA,SAASC,YAAT,CAAsBC,QAAtB,EAAgCC,EAAhC,EAAoCC,QAApC,EAA8C;AAC5C,MAAIC,KAAK,GAAG,CAAZ;AACA,QAAMC,IAAI,GAAGJ,QAAQ,CAACK,UAAtB;AACA,QAAMC,MAAM,GAAGJ,QAAQ,KAAK,CAAb,GAAiB,CAAjB,GAAqBK,IAAI,CAACC,KAAL,CAAWN,QAAQ,GAAG,GAAX,GAAiB,EAA5B,CAApC;;AACA,WAASO,OAAT,GAAmB;AACjBT,IAAAA,QAAQ,CAACK,UAAT,IAAuB,CAACJ,EAAE,GAAGG,IAAN,IAAcE,MAArC;;AACA,QAAI,EAAEH,KAAF,GAAUG,MAAd,EAAsB;AACpBV,MAAAA,GAAG,CAACa,OAAD,CAAH;AACD;AACF;;AACDA,EAAAA,OAAO;AACR;;AACD,SAASC,WAAT,CAAqBV,QAArB,EAA+BC,EAA/B,EAAmCC,QAAnC,EAA6CS,QAA7C,EAAuD;AACrD,MAAIC,OAAO,GAAGf,YAAY,CAACG,QAAD,CAA1B;AACA,QAAMa,MAAM,GAAGD,OAAO,GAAGX,EAAzB;AACA,QAAMK,MAAM,GAAGJ,QAAQ,KAAK,CAAb,GAAiB,CAAjB,GAAqBK,IAAI,CAACC,KAAL,CAAWN,QAAQ,GAAG,GAAX,GAAiB,EAA5B,CAApC;AACA,QAAMY,IAAI,GAAG,CAACb,EAAE,GAAGW,OAAN,IAAiBN,MAA9B;;AACA,WAASG,OAAT,GAAmB;AACjBG,IAAAA,OAAO,IAAIE,IAAX;;AACA,QAAID,MAAM,IAAID,OAAO,GAAGX,EAApB,IAA0B,CAACY,MAAD,IAAWD,OAAO,GAAGX,EAAnD,EAAuD;AACrDW,MAAAA,OAAO,GAAGX,EAAV;AACD;;AACDH,IAAAA,YAAY,CAACE,QAAD,EAAWY,OAAX,CAAZ;;AACA,QAAIC,MAAM,IAAID,OAAO,GAAGX,EAApB,IAA0B,CAACY,MAAD,IAAWD,OAAO,GAAGX,EAAnD,EAAuD;AACrDL,MAAAA,GAAG,CAACa,OAAD,CAAH;AACD,KAFD,MAEO,IAAIE,QAAJ,EAAc;AACnBf,MAAAA,GAAG,CAACe,QAAD,CAAH;AACD;AACF;;AACDF,EAAAA,OAAO;AACR;;AACD,SACEV,YADF,EAEEW,WAFF","sourcesContent":["import { raf } from \"@vant/use\";\nimport { getScrollTop, setScrollTop } from \"../utils\";\nfunction scrollLeftTo(scroller, to, duration) {\n  let count = 0;\n  const from = scroller.scrollLeft;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n  function animate() {\n    scroller.scrollLeft += (to - from) / frames;\n    if (++count < frames) {\n      raf(animate);\n    }\n  }\n  animate();\n}\nfunction scrollTopTo(scroller, to, duration, callback) {\n  let current = getScrollTop(scroller);\n  const isDown = current < to;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n  const step = (to - current) / frames;\n  function animate() {\n    current += step;\n    if (isDown && current > to || !isDown && current < to) {\n      current = to;\n    }\n    setScrollTop(scroller, current);\n    if (isDown && current < to || !isDown && current > to) {\n      raf(animate);\n    } else if (callback) {\n      raf(callback);\n    }\n  }\n  animate();\n}\nexport {\n  scrollLeftTo,\n  scrollTopTo\n};\n"]},"metadata":{},"sourceType":"module"}