{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { defineComponent, h, ref, nextTick, onBeforeUnmount, onMounted, reactive, watch } from 'vue';\nimport XEUtils from 'xe-utils';\nimport GlobalConfig from '../../v-x-e-table/src/conf';\nimport { useSize } from '../../hooks/size';\nimport { getLastZIndex, nextZIndex, formatText } from '../../tools/utils';\nimport { getAbsolutePos, getDomNode } from '../../tools/dom';\nexport default defineComponent({\n  name: 'VxeTooltip',\n  props: {\n    modelValue: Boolean,\n    size: {\n      type: String,\n      default: function () {\n        return GlobalConfig.tooltip.size || GlobalConfig.size;\n      }\n    },\n    trigger: {\n      type: String,\n      default: function () {\n        return GlobalConfig.tooltip.trigger;\n      }\n    },\n    theme: {\n      type: String,\n      default: function () {\n        return GlobalConfig.tooltip.theme;\n      }\n    },\n    content: {\n      type: [String, Number],\n      default: null\n    },\n    useHTML: Boolean,\n    zIndex: [String, Number],\n    isArrow: {\n      type: Boolean,\n      default: true\n    },\n    enterable: Boolean,\n    enterDelay: {\n      type: Number,\n      default: function () {\n        return GlobalConfig.tooltip.enterDelay;\n      }\n    },\n    leaveDelay: {\n      type: Number,\n      default: function () {\n        return GlobalConfig.tooltip.leaveDelay;\n      }\n    }\n  },\n  emits: ['update:modelValue'],\n  setup: function (props, context) {\n    var slots = context.slots,\n        emit = context.emit;\n    var xID = XEUtils.uniqueId();\n    var computeSize = useSize(props);\n    var reactData = reactive({\n      target: null,\n      isUpdate: false,\n      visible: false,\n      tipContent: '',\n      tipActive: false,\n      tipTarget: null,\n      tipZindex: 0,\n      tipStore: {\n        style: {},\n        placement: '',\n        arrowStyle: {}\n      }\n    });\n    var refElem = ref();\n    var refMaps = {\n      refElem: refElem\n    };\n    var $xetooltip = {\n      xID: xID,\n      props: props,\n      context: context,\n      reactData: reactData,\n      getRefMaps: function () {\n        return refMaps;\n      }\n    };\n    var tooltipMethods = {};\n\n    var updateTipStyle = function () {\n      var tipTarget = reactData.tipTarget,\n          tipStore = reactData.tipStore;\n\n      if (tipTarget) {\n        var _a = getDomNode(),\n            scrollTop = _a.scrollTop,\n            scrollLeft = _a.scrollLeft,\n            visibleWidth = _a.visibleWidth;\n\n        var _b = getAbsolutePos(tipTarget),\n            top_1 = _b.top,\n            left = _b.left;\n\n        var el = refElem.value;\n        var marginSize = 6;\n        var offsetHeight = el.offsetHeight;\n        var offsetWidth = el.offsetWidth;\n        var tipLeft = left;\n        var tipTop = top_1 - offsetHeight - marginSize;\n        tipLeft = Math.max(marginSize, left + Math.floor((tipTarget.offsetWidth - offsetWidth) / 2));\n\n        if (tipLeft + offsetWidth + marginSize > scrollLeft + visibleWidth) {\n          tipLeft = scrollLeft + visibleWidth - offsetWidth - marginSize;\n        }\n\n        if (top_1 - offsetHeight < scrollTop + marginSize) {\n          tipStore.placement = 'bottom';\n          tipTop = top_1 + tipTarget.offsetHeight + marginSize;\n        }\n\n        tipStore.style.top = tipTop + \"px\";\n        tipStore.style.left = tipLeft + \"px\";\n        tipStore.arrowStyle.left = left - tipLeft + tipTarget.offsetWidth / 2 + \"px\";\n      }\n    };\n\n    var updateValue = function (value) {\n      if (value !== reactData.visible) {\n        reactData.visible = value;\n        reactData.isUpdate = true;\n        emit('update:modelValue', value);\n      }\n    };\n\n    var updateZindex = function () {\n      if (reactData.tipZindex < getLastZIndex()) {\n        reactData.tipZindex = nextZIndex();\n      }\n    };\n\n    var clickEvent = function () {\n      if (reactData.visible) {\n        tooltipMethods.close();\n      } else {\n        tooltipMethods.open();\n      }\n    };\n\n    var targetMouseenterEvent = function () {\n      tooltipMethods.open();\n    };\n\n    var targetMouseleaveEvent = function () {\n      var trigger = props.trigger,\n          enterable = props.enterable,\n          leaveDelay = props.leaveDelay;\n      reactData.tipActive = false;\n\n      if (enterable && trigger === 'hover') {\n        setTimeout(function () {\n          if (!reactData.tipActive) {\n            tooltipMethods.close();\n          }\n        }, leaveDelay);\n      } else {\n        tooltipMethods.close();\n      }\n    };\n\n    var wrapperMouseenterEvent = function () {\n      reactData.tipActive = true;\n    };\n\n    var wrapperMouseleaveEvent = function () {\n      var trigger = props.trigger,\n          enterable = props.enterable,\n          leaveDelay = props.leaveDelay;\n      reactData.tipActive = false;\n\n      if (enterable && trigger === 'hover') {\n        setTimeout(function () {\n          if (!reactData.tipActive) {\n            tooltipMethods.close();\n          }\n        }, leaveDelay);\n      }\n    };\n\n    var showTip = function () {\n      var tipStore = reactData.tipStore;\n      var el = refElem.value;\n\n      if (el) {\n        var parentNode = el.parentNode;\n\n        if (!parentNode) {\n          document.body.appendChild(el);\n        }\n      }\n\n      updateValue(true);\n      updateZindex();\n      tipStore.placement = 'top';\n      tipStore.style = {\n        width: 'auto',\n        left: 0,\n        top: 0,\n        zIndex: props.zIndex || reactData.tipZindex\n      };\n      tipStore.arrowStyle = {\n        left: '50%'\n      };\n      return tooltipMethods.updatePlacement();\n    };\n\n    var showDelayTip = XEUtils.debounce(function () {\n      if (reactData.tipActive) {\n        showTip();\n      }\n    }, props.enterDelay, {\n      leading: false,\n      trailing: true\n    });\n    tooltipMethods = {\n      dispatchEvent: function (type, params, evnt) {\n        emit(type, Object.assign({\n          $tooltip: $xetooltip,\n          $event: evnt\n        }, params));\n      },\n      open: function (target, content) {\n        return tooltipMethods.toVisible(target || reactData.target, content);\n      },\n      close: function () {\n        reactData.tipTarget = null;\n        reactData.tipActive = false;\n        Object.assign(reactData.tipStore, {\n          style: {},\n          placement: '',\n          arrowStyle: null\n        });\n        updateValue(false);\n        return nextTick();\n      },\n      toVisible: function (target, content) {\n        if (target) {\n          var trigger = props.trigger,\n              enterDelay = props.enterDelay;\n          reactData.tipActive = true;\n          reactData.tipTarget = target;\n\n          if (content) {\n            reactData.tipContent = content;\n          }\n\n          if (enterDelay && trigger === 'hover') {\n            showDelayTip();\n          } else {\n            return showTip();\n          }\n        }\n\n        return nextTick();\n      },\n      updatePlacement: function () {\n        return nextTick().then(function () {\n          var tipTarget = reactData.tipTarget;\n          var el = refElem.value;\n\n          if (tipTarget && el) {\n            updateTipStyle();\n            return nextTick().then(updateTipStyle);\n          }\n        });\n      },\n      isActived: function () {\n        return reactData.tipActive;\n      },\n      setActived: function (actived) {\n        reactData.tipActive = !!actived;\n      }\n    };\n    Object.assign($xetooltip, tooltipMethods);\n    watch(function () {\n      return props.content;\n    }, function () {\n      reactData.tipContent = props.content;\n    });\n    watch(function () {\n      return props.modelValue;\n    }, function () {\n      if (!reactData.isUpdate) {\n        if (props.modelValue) {\n          tooltipMethods.open();\n        } else {\n          tooltipMethods.close();\n        }\n      }\n\n      reactData.isUpdate = false;\n    });\n    onMounted(function () {\n      nextTick(function () {\n        var trigger = props.trigger,\n            content = props.content,\n            modelValue = props.modelValue;\n        var wrapperElem = refElem.value;\n        var parentNode = wrapperElem.parentNode;\n\n        if (parentNode) {\n          reactData.tipContent = content;\n          reactData.tipZindex = nextZIndex();\n          XEUtils.arrayEach(wrapperElem.children, function (elem, index) {\n            if (index > 1) {\n              parentNode.insertBefore(elem, wrapperElem);\n\n              if (!reactData.target) {\n                reactData.target = elem;\n              }\n            }\n          });\n          parentNode.removeChild(wrapperElem);\n          var target = reactData.target;\n\n          if (target) {\n            if (trigger === 'hover') {\n              target.onmouseenter = targetMouseenterEvent;\n              target.onmouseleave = targetMouseleaveEvent;\n            } else if (trigger === 'click') {\n              target.onclick = clickEvent;\n            }\n          }\n\n          if (modelValue) {\n            tooltipMethods.open();\n          }\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      var trigger = props.trigger;\n      var target = reactData.target;\n      var wrapperElem = refElem.value;\n\n      if (wrapperElem) {\n        var parentNode = wrapperElem.parentNode;\n\n        if (parentNode) {\n          parentNode.removeChild(wrapperElem);\n        }\n      }\n\n      if (target) {\n        if (trigger === 'hover') {\n          target.onmouseenter = null;\n          target.onmouseleave = null;\n        } else if (trigger === 'click') {\n          target.onclick = null;\n        }\n      }\n    });\n\n    var renderContent = function () {\n      var useHTML = props.useHTML;\n      var tipContent = reactData.tipContent;\n\n      if (slots.content) {\n        return h('div', {\n          key: 1,\n          class: 'vxe-table--tooltip-content'\n        }, slots.content({}));\n      }\n\n      if (useHTML) {\n        return h('div', {\n          key: 2,\n          class: 'vxe-table--tooltip-content',\n          innerHTML: tipContent\n        });\n      }\n\n      return h('div', {\n        key: 3,\n        class: 'vxe-table--tooltip-content'\n      }, formatText(tipContent));\n    };\n\n    var renderVN = function () {\n      var _a;\n\n      var theme = props.theme,\n          isArrow = props.isArrow,\n          enterable = props.enterable;\n      var tipActive = reactData.tipActive,\n          visible = reactData.visible,\n          tipStore = reactData.tipStore;\n      var vSize = computeSize.value;\n      var ons;\n\n      if (enterable) {\n        ons = {\n          onMouseenter: wrapperMouseenterEvent,\n          onMouseleave: wrapperMouseleaveEvent\n        };\n      }\n\n      return h('div', __assign({\n        ref: refElem,\n        class: ['vxe-table--tooltip-wrapper', \"theme--\" + theme, (_a = {}, _a[\"size--\" + vSize] = vSize, _a[\"placement--\" + tipStore.placement] = tipStore.placement, _a['is--enterable'] = enterable, _a['is--visible'] = visible, _a['is--arrow'] = isArrow, _a['is--actived'] = tipActive, _a)],\n        style: tipStore.style\n      }, ons), [renderContent(), h('div', {\n        class: 'vxe-table--tooltip-arrow',\n        style: tipStore.arrowStyle\n      })].concat(slots.default ? slots.default({}) : []));\n    };\n\n    $xetooltip.renderVN = renderVN;\n    return $xetooltip;\n  },\n  render: function () {\n    return this.renderVN();\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/tooltip/src/tooltip.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineComponent","h","ref","nextTick","onBeforeUnmount","onMounted","reactive","watch","XEUtils","GlobalConfig","useSize","getLastZIndex","nextZIndex","formatText","getAbsolutePos","getDomNode","name","props","modelValue","Boolean","size","type","String","default","tooltip","trigger","theme","content","Number","useHTML","zIndex","isArrow","enterable","enterDelay","leaveDelay","emits","setup","context","slots","emit","xID","uniqueId","computeSize","reactData","target","isUpdate","visible","tipContent","tipActive","tipTarget","tipZindex","tipStore","style","placement","arrowStyle","refElem","refMaps","$xetooltip","getRefMaps","tooltipMethods","updateTipStyle","_a","scrollTop","scrollLeft","visibleWidth","_b","top_1","top","left","el","value","marginSize","offsetHeight","offsetWidth","tipLeft","tipTop","Math","max","floor","updateValue","updateZindex","clickEvent","close","open","targetMouseenterEvent","targetMouseleaveEvent","setTimeout","wrapperMouseenterEvent","wrapperMouseleaveEvent","showTip","parentNode","document","body","appendChild","width","updatePlacement","showDelayTip","debounce","leading","trailing","dispatchEvent","params","evnt","$tooltip","$event","toVisible","then","isActived","setActived","actived","wrapperElem","arrayEach","children","elem","index","insertBefore","removeChild","onmouseenter","onmouseleave","onclick","renderContent","key","class","innerHTML","renderVN","vSize","ons","onMouseenter","onMouseleave","concat","render"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { defineComponent, h, ref, nextTick, onBeforeUnmount, onMounted, reactive, watch } from 'vue';\nimport XEUtils from 'xe-utils';\nimport GlobalConfig from '../../v-x-e-table/src/conf';\nimport { useSize } from '../../hooks/size';\nimport { getLastZIndex, nextZIndex, formatText } from '../../tools/utils';\nimport { getAbsolutePos, getDomNode } from '../../tools/dom';\nexport default defineComponent({\n    name: 'VxeTooltip',\n    props: {\n        modelValue: Boolean,\n        size: { type: String, default: function () { return GlobalConfig.tooltip.size || GlobalConfig.size; } },\n        trigger: { type: String, default: function () { return GlobalConfig.tooltip.trigger; } },\n        theme: { type: String, default: function () { return GlobalConfig.tooltip.theme; } },\n        content: { type: [String, Number], default: null },\n        useHTML: Boolean,\n        zIndex: [String, Number],\n        isArrow: { type: Boolean, default: true },\n        enterable: Boolean,\n        enterDelay: { type: Number, default: function () { return GlobalConfig.tooltip.enterDelay; } },\n        leaveDelay: { type: Number, default: function () { return GlobalConfig.tooltip.leaveDelay; } }\n    },\n    emits: [\n        'update:modelValue'\n    ],\n    setup: function (props, context) {\n        var slots = context.slots, emit = context.emit;\n        var xID = XEUtils.uniqueId();\n        var computeSize = useSize(props);\n        var reactData = reactive({\n            target: null,\n            isUpdate: false,\n            visible: false,\n            tipContent: '',\n            tipActive: false,\n            tipTarget: null,\n            tipZindex: 0,\n            tipStore: {\n                style: {},\n                placement: '',\n                arrowStyle: {}\n            }\n        });\n        var refElem = ref();\n        var refMaps = {\n            refElem: refElem\n        };\n        var $xetooltip = {\n            xID: xID,\n            props: props,\n            context: context,\n            reactData: reactData,\n            getRefMaps: function () { return refMaps; }\n        };\n        var tooltipMethods = {};\n        var updateTipStyle = function () {\n            var tipTarget = reactData.tipTarget, tipStore = reactData.tipStore;\n            if (tipTarget) {\n                var _a = getDomNode(), scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft, visibleWidth = _a.visibleWidth;\n                var _b = getAbsolutePos(tipTarget), top_1 = _b.top, left = _b.left;\n                var el = refElem.value;\n                var marginSize = 6;\n                var offsetHeight = el.offsetHeight;\n                var offsetWidth = el.offsetWidth;\n                var tipLeft = left;\n                var tipTop = top_1 - offsetHeight - marginSize;\n                tipLeft = Math.max(marginSize, left + Math.floor((tipTarget.offsetWidth - offsetWidth) / 2));\n                if (tipLeft + offsetWidth + marginSize > scrollLeft + visibleWidth) {\n                    tipLeft = scrollLeft + visibleWidth - offsetWidth - marginSize;\n                }\n                if (top_1 - offsetHeight < scrollTop + marginSize) {\n                    tipStore.placement = 'bottom';\n                    tipTop = top_1 + tipTarget.offsetHeight + marginSize;\n                }\n                tipStore.style.top = tipTop + \"px\";\n                tipStore.style.left = tipLeft + \"px\";\n                tipStore.arrowStyle.left = left - tipLeft + tipTarget.offsetWidth / 2 + \"px\";\n            }\n        };\n        var updateValue = function (value) {\n            if (value !== reactData.visible) {\n                reactData.visible = value;\n                reactData.isUpdate = true;\n                emit('update:modelValue', value);\n            }\n        };\n        var updateZindex = function () {\n            if (reactData.tipZindex < getLastZIndex()) {\n                reactData.tipZindex = nextZIndex();\n            }\n        };\n        var clickEvent = function () {\n            if (reactData.visible) {\n                tooltipMethods.close();\n            }\n            else {\n                tooltipMethods.open();\n            }\n        };\n        var targetMouseenterEvent = function () {\n            tooltipMethods.open();\n        };\n        var targetMouseleaveEvent = function () {\n            var trigger = props.trigger, enterable = props.enterable, leaveDelay = props.leaveDelay;\n            reactData.tipActive = false;\n            if (enterable && trigger === 'hover') {\n                setTimeout(function () {\n                    if (!reactData.tipActive) {\n                        tooltipMethods.close();\n                    }\n                }, leaveDelay);\n            }\n            else {\n                tooltipMethods.close();\n            }\n        };\n        var wrapperMouseenterEvent = function () {\n            reactData.tipActive = true;\n        };\n        var wrapperMouseleaveEvent = function () {\n            var trigger = props.trigger, enterable = props.enterable, leaveDelay = props.leaveDelay;\n            reactData.tipActive = false;\n            if (enterable && trigger === 'hover') {\n                setTimeout(function () {\n                    if (!reactData.tipActive) {\n                        tooltipMethods.close();\n                    }\n                }, leaveDelay);\n            }\n        };\n        var showTip = function () {\n            var tipStore = reactData.tipStore;\n            var el = refElem.value;\n            if (el) {\n                var parentNode = el.parentNode;\n                if (!parentNode) {\n                    document.body.appendChild(el);\n                }\n            }\n            updateValue(true);\n            updateZindex();\n            tipStore.placement = 'top';\n            tipStore.style = { width: 'auto', left: 0, top: 0, zIndex: props.zIndex || reactData.tipZindex };\n            tipStore.arrowStyle = { left: '50%' };\n            return tooltipMethods.updatePlacement();\n        };\n        var showDelayTip = XEUtils.debounce(function () {\n            if (reactData.tipActive) {\n                showTip();\n            }\n        }, props.enterDelay, { leading: false, trailing: true });\n        tooltipMethods = {\n            dispatchEvent: function (type, params, evnt) {\n                emit(type, Object.assign({ $tooltip: $xetooltip, $event: evnt }, params));\n            },\n            open: function (target, content) {\n                return tooltipMethods.toVisible(target || reactData.target, content);\n            },\n            close: function () {\n                reactData.tipTarget = null;\n                reactData.tipActive = false;\n                Object.assign(reactData.tipStore, {\n                    style: {},\n                    placement: '',\n                    arrowStyle: null\n                });\n                updateValue(false);\n                return nextTick();\n            },\n            toVisible: function (target, content) {\n                if (target) {\n                    var trigger = props.trigger, enterDelay = props.enterDelay;\n                    reactData.tipActive = true;\n                    reactData.tipTarget = target;\n                    if (content) {\n                        reactData.tipContent = content;\n                    }\n                    if (enterDelay && trigger === 'hover') {\n                        showDelayTip();\n                    }\n                    else {\n                        return showTip();\n                    }\n                }\n                return nextTick();\n            },\n            updatePlacement: function () {\n                return nextTick().then(function () {\n                    var tipTarget = reactData.tipTarget;\n                    var el = refElem.value;\n                    if (tipTarget && el) {\n                        updateTipStyle();\n                        return nextTick().then(updateTipStyle);\n                    }\n                });\n            },\n            isActived: function () {\n                return reactData.tipActive;\n            },\n            setActived: function (actived) {\n                reactData.tipActive = !!actived;\n            }\n        };\n        Object.assign($xetooltip, tooltipMethods);\n        watch(function () { return props.content; }, function () {\n            reactData.tipContent = props.content;\n        });\n        watch(function () { return props.modelValue; }, function () {\n            if (!reactData.isUpdate) {\n                if (props.modelValue) {\n                    tooltipMethods.open();\n                }\n                else {\n                    tooltipMethods.close();\n                }\n            }\n            reactData.isUpdate = false;\n        });\n        onMounted(function () {\n            nextTick(function () {\n                var trigger = props.trigger, content = props.content, modelValue = props.modelValue;\n                var wrapperElem = refElem.value;\n                var parentNode = wrapperElem.parentNode;\n                if (parentNode) {\n                    reactData.tipContent = content;\n                    reactData.tipZindex = nextZIndex();\n                    XEUtils.arrayEach(wrapperElem.children, function (elem, index) {\n                        if (index > 1) {\n                            parentNode.insertBefore(elem, wrapperElem);\n                            if (!reactData.target) {\n                                reactData.target = elem;\n                            }\n                        }\n                    });\n                    parentNode.removeChild(wrapperElem);\n                    var target = reactData.target;\n                    if (target) {\n                        if (trigger === 'hover') {\n                            target.onmouseenter = targetMouseenterEvent;\n                            target.onmouseleave = targetMouseleaveEvent;\n                        }\n                        else if (trigger === 'click') {\n                            target.onclick = clickEvent;\n                        }\n                    }\n                    if (modelValue) {\n                        tooltipMethods.open();\n                    }\n                }\n            });\n        });\n        onBeforeUnmount(function () {\n            var trigger = props.trigger;\n            var target = reactData.target;\n            var wrapperElem = refElem.value;\n            if (wrapperElem) {\n                var parentNode = wrapperElem.parentNode;\n                if (parentNode) {\n                    parentNode.removeChild(wrapperElem);\n                }\n            }\n            if (target) {\n                if (trigger === 'hover') {\n                    target.onmouseenter = null;\n                    target.onmouseleave = null;\n                }\n                else if (trigger === 'click') {\n                    target.onclick = null;\n                }\n            }\n        });\n        var renderContent = function () {\n            var useHTML = props.useHTML;\n            var tipContent = reactData.tipContent;\n            if (slots.content) {\n                return h('div', {\n                    key: 1,\n                    class: 'vxe-table--tooltip-content'\n                }, slots.content({}));\n            }\n            if (useHTML) {\n                return h('div', {\n                    key: 2,\n                    class: 'vxe-table--tooltip-content',\n                    innerHTML: tipContent\n                });\n            }\n            return h('div', {\n                key: 3,\n                class: 'vxe-table--tooltip-content'\n            }, formatText(tipContent));\n        };\n        var renderVN = function () {\n            var _a;\n            var theme = props.theme, isArrow = props.isArrow, enterable = props.enterable;\n            var tipActive = reactData.tipActive, visible = reactData.visible, tipStore = reactData.tipStore;\n            var vSize = computeSize.value;\n            var ons;\n            if (enterable) {\n                ons = {\n                    onMouseenter: wrapperMouseenterEvent,\n                    onMouseleave: wrapperMouseleaveEvent\n                };\n            }\n            return h('div', __assign({ ref: refElem, class: ['vxe-table--tooltip-wrapper', \"theme--\" + theme, (_a = {},\n                        _a[\"size--\" + vSize] = vSize,\n                        _a[\"placement--\" + tipStore.placement] = tipStore.placement,\n                        _a['is--enterable'] = enterable,\n                        _a['is--visible'] = visible,\n                        _a['is--arrow'] = isArrow,\n                        _a['is--actived'] = tipActive,\n                        _a)], style: tipStore.style }, ons), [\n                renderContent(),\n                h('div', {\n                    class: 'vxe-table--tooltip-arrow',\n                    style: tipStore.arrowStyle\n                })\n            ].concat(slots.default ? slots.default({}) : []));\n        };\n        $xetooltip.renderVN = renderVN;\n        return $xetooltip;\n    },\n    render: function () {\n        return this.renderVN();\n    }\n});\n"]},"metadata":{},"sourceType":"module"}