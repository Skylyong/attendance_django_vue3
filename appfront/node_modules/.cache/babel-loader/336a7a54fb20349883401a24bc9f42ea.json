{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { addUnit, makeArrayProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { Icon } from \"../icon\";\nimport { Sidebar } from \"../sidebar\";\nimport { SidebarItem } from \"../sidebar-item\";\nconst [name, bem] = createNamespace(\"tree-select\");\nconst treeSelectProps = {\n  max: makeNumericProp(Infinity),\n  items: makeArrayProp(),\n  height: makeNumericProp(300),\n  selectedIcon: makeStringProp(\"success\"),\n  mainActiveIndex: makeNumericProp(0),\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: treeSelectProps,\n  emits: [\"click-nav\", \"click-item\", \"update:activeId\", \"update:mainActiveIndex\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const isActiveItem = id => Array.isArray(props.activeId) ? props.activeId.includes(id) : props.activeId === id;\n\n    const renderSubItem = item => {\n      const onClick = () => {\n        if (item.disabled) {\n          return;\n        }\n\n        let activeId;\n\n        if (Array.isArray(props.activeId)) {\n          activeId = props.activeId.slice();\n          const index = activeId.indexOf(item.id);\n\n          if (index !== -1) {\n            activeId.splice(index, 1);\n          } else if (activeId.length < props.max) {\n            activeId.push(item.id);\n          }\n        } else {\n          activeId = item.id;\n        }\n\n        emit(\"update:activeId\", activeId);\n        emit(\"click-item\", item);\n      };\n\n      return _createVNode(\"div\", {\n        \"key\": item.id,\n        \"class\": [\"van-ellipsis\", bem(\"item\", {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"onClick\": onClick\n      }, [item.text, isActiveItem(item.id) && _createVNode(Icon, {\n        \"name\": props.selectedIcon,\n        \"class\": bem(\"selected\")\n      }, null)]);\n    };\n\n    const onSidebarChange = index => {\n      emit(\"update:mainActiveIndex\", index);\n    };\n\n    const onClickSidebarItem = index => emit(\"click-nav\", index);\n\n    const renderSidebar = () => {\n      const Items = props.items.map(item => _createVNode(SidebarItem, {\n        \"dot\": item.dot,\n        \"title\": item.text,\n        \"badge\": item.badge,\n        \"class\": [bem(\"nav-item\"), item.className],\n        \"disabled\": item.disabled,\n        \"onClick\": onClickSidebarItem\n      }, null));\n      return _createVNode(Sidebar, {\n        \"class\": bem(\"nav\"),\n        \"modelValue\": props.mainActiveIndex,\n        \"onChange\": onSidebarChange\n      }, {\n        default: () => [Items]\n      });\n    };\n\n    const renderContent = () => {\n      if (slots.content) {\n        return slots.content();\n      }\n\n      const selected = props.items[+props.mainActiveIndex] || {};\n\n      if (selected.children) {\n        return selected.children.map(renderSubItem);\n      }\n    };\n\n    return () => _createVNode(\"div\", {\n      \"class\": bem(),\n      \"style\": {\n        height: addUnit(props.height)\n      }\n    }, [renderSidebar(), _createVNode(\"div\", {\n      \"class\": bem(\"content\")\n    }, [renderContent()])]);\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/tree-select/TreeSelect.js"],"names":["createVNode","_createVNode","defineComponent","addUnit","makeArrayProp","makeStringProp","makeNumericProp","createNamespace","Icon","Sidebar","SidebarItem","name","bem","treeSelectProps","max","Infinity","items","height","selectedIcon","mainActiveIndex","activeId","type","Number","String","Array","default","stdin_default","props","emits","setup","emit","slots","isActiveItem","id","isArray","includes","renderSubItem","item","onClick","disabled","slice","index","indexOf","splice","length","push","active","text","onSidebarChange","onClickSidebarItem","renderSidebar","Items","map","dot","badge","className","renderContent","content","selected","children"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { addUnit, makeArrayProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { Icon } from \"../icon\";\nimport { Sidebar } from \"../sidebar\";\nimport { SidebarItem } from \"../sidebar-item\";\nconst [name, bem] = createNamespace(\"tree-select\");\nconst treeSelectProps = {\n  max: makeNumericProp(Infinity),\n  items: makeArrayProp(),\n  height: makeNumericProp(300),\n  selectedIcon: makeStringProp(\"success\"),\n  mainActiveIndex: makeNumericProp(0),\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: treeSelectProps,\n  emits: [\"click-nav\", \"click-item\", \"update:activeId\", \"update:mainActiveIndex\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const isActiveItem = (id) => Array.isArray(props.activeId) ? props.activeId.includes(id) : props.activeId === id;\n    const renderSubItem = (item) => {\n      const onClick = () => {\n        if (item.disabled) {\n          return;\n        }\n        let activeId;\n        if (Array.isArray(props.activeId)) {\n          activeId = props.activeId.slice();\n          const index = activeId.indexOf(item.id);\n          if (index !== -1) {\n            activeId.splice(index, 1);\n          } else if (activeId.length < props.max) {\n            activeId.push(item.id);\n          }\n        } else {\n          activeId = item.id;\n        }\n        emit(\"update:activeId\", activeId);\n        emit(\"click-item\", item);\n      };\n      return _createVNode(\"div\", {\n        \"key\": item.id,\n        \"class\": [\"van-ellipsis\", bem(\"item\", {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"onClick\": onClick\n      }, [item.text, isActiveItem(item.id) && _createVNode(Icon, {\n        \"name\": props.selectedIcon,\n        \"class\": bem(\"selected\")\n      }, null)]);\n    };\n    const onSidebarChange = (index) => {\n      emit(\"update:mainActiveIndex\", index);\n    };\n    const onClickSidebarItem = (index) => emit(\"click-nav\", index);\n    const renderSidebar = () => {\n      const Items = props.items.map((item) => _createVNode(SidebarItem, {\n        \"dot\": item.dot,\n        \"title\": item.text,\n        \"badge\": item.badge,\n        \"class\": [bem(\"nav-item\"), item.className],\n        \"disabled\": item.disabled,\n        \"onClick\": onClickSidebarItem\n      }, null));\n      return _createVNode(Sidebar, {\n        \"class\": bem(\"nav\"),\n        \"modelValue\": props.mainActiveIndex,\n        \"onChange\": onSidebarChange\n      }, {\n        default: () => [Items]\n      });\n    };\n    const renderContent = () => {\n      if (slots.content) {\n        return slots.content();\n      }\n      const selected = props.items[+props.mainActiveIndex] || {};\n      if (selected.children) {\n        return selected.children.map(renderSubItem);\n      }\n    };\n    return () => _createVNode(\"div\", {\n      \"class\": bem(),\n      \"style\": {\n        height: addUnit(props.height)\n      }\n    }, [renderSidebar(), _createVNode(\"div\", {\n      \"class\": bem(\"content\")\n    }, [renderContent()])]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}