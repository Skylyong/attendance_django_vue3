{"ast":null,"code":"import { onBeforeUnmount, onMounted } from 'vue';\nexport default function useSelectTriggerControl(refs, open, triggerOpen) {\n  function onGlobalMouseDown(event) {\n    var _a, _b, _c;\n\n    var target = event.target;\n\n    if (target.shadowRoot && event.composed) {\n      target = event.composedPath()[0] || target;\n    }\n\n    var elements = [(_a = refs[0]) === null || _a === void 0 ? void 0 : _a.value, (_c = (_b = refs[1]) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.getPopupElement()];\n\n    if (open.value && elements.every(function (element) {\n      return element && !element.contains(target) && element !== target;\n    })) {\n      // Should trigger close\n      triggerOpen(false);\n    }\n  }\n\n  onMounted(function () {\n    window.addEventListener('mousedown', onGlobalMouseDown);\n  });\n  onBeforeUnmount(function () {\n    window.removeEventListener('mousedown', onGlobalMouseDown);\n  });\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/vc-select/hooks/useSelectTriggerControl.js"],"names":["onBeforeUnmount","onMounted","useSelectTriggerControl","refs","open","triggerOpen","onGlobalMouseDown","event","_a","_b","_c","target","shadowRoot","composed","composedPath","elements","value","getPopupElement","every","element","contains","window","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,SAA1B,QAA2C,KAA3C;AACA,eAAe,SAASC,uBAAT,CAAiCC,IAAjC,EAAuCC,IAAvC,EAA6CC,WAA7C,EAA0D;AACvE,WAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAChC,QAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;AAEA,QAAIC,MAAM,GAAGJ,KAAK,CAACI,MAAnB;;AAEA,QAAIA,MAAM,CAACC,UAAP,IAAqBL,KAAK,CAACM,QAA/B,EAAyC;AACvCF,MAAAA,MAAM,GAAGJ,KAAK,CAACO,YAAN,GAAqB,CAArB,KAA2BH,MAApC;AACD;;AAED,QAAII,QAAQ,GAAG,CAAC,CAACP,EAAE,GAAGL,IAAI,CAAC,CAAD,CAAV,MAAmB,IAAnB,IAA2BK,EAAE,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,EAAE,CAACQ,KAAxD,EAA+D,CAACN,EAAE,GAAG,CAACD,EAAE,GAAGN,IAAI,CAAC,CAAD,CAAV,MAAmB,IAAnB,IAA2BM,EAAE,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,EAAE,CAACO,KAA7D,MAAwE,IAAxE,IAAgFN,EAAE,KAAK,KAAK,CAA5F,GAAgG,KAAK,CAArG,GAAyGA,EAAE,CAACO,eAAH,EAAxK,CAAf;;AAEA,QAAIb,IAAI,CAACY,KAAL,IAAcD,QAAQ,CAACG,KAAT,CAAe,UAAUC,OAAV,EAAmB;AAClD,aAAOA,OAAO,IAAI,CAACA,OAAO,CAACC,QAAR,CAAiBT,MAAjB,CAAZ,IAAwCQ,OAAO,KAAKR,MAA3D;AACD,KAFiB,CAAlB,EAEI;AACF;AACAN,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACF;;AAEDJ,EAAAA,SAAS,CAAC,YAAY;AACpBoB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqChB,iBAArC;AACD,GAFQ,CAAT;AAGAN,EAAAA,eAAe,CAAC,YAAY;AAC1BqB,IAAAA,MAAM,CAACE,mBAAP,CAA2B,WAA3B,EAAwCjB,iBAAxC;AACD,GAFc,CAAf;AAGD","sourcesContent":["import { onBeforeUnmount, onMounted } from 'vue';\nexport default function useSelectTriggerControl(refs, open, triggerOpen) {\n  function onGlobalMouseDown(event) {\n    var _a, _b, _c;\n\n    var target = event.target;\n\n    if (target.shadowRoot && event.composed) {\n      target = event.composedPath()[0] || target;\n    }\n\n    var elements = [(_a = refs[0]) === null || _a === void 0 ? void 0 : _a.value, (_c = (_b = refs[1]) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.getPopupElement()];\n\n    if (open.value && elements.every(function (element) {\n      return element && !element.contains(target) && element !== target;\n    })) {\n      // Should trigger close\n      triggerOpen(false);\n    }\n  }\n\n  onMounted(function () {\n    window.addEventListener('mousedown', onGlobalMouseDown);\n  });\n  onBeforeUnmount(function () {\n    window.removeEventListener('mousedown', onGlobalMouseDown);\n  });\n}"]},"metadata":{},"sourceType":"module"}