{"ast":null,"code":"import raf from '../../_util/raf';\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\n  var offsetRef = 0;\n  var nextFrame = null; // Firefox patch\n\n  var wheelValue = null;\n  var isMouseScroll = false; // Scroll status sync\n\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n\n  function onWheel(event) {\n    if (!inVirtual.value) return;\n    raf.cancel(nextFrame);\n    var deltaY = event.deltaY;\n    offsetRef += deltaY;\n    wheelValue = deltaY; // Do nothing when scroll at the edge, Skip check when is in scroll\n\n    if (originScroll(deltaY)) return; // Proxy of scroll events\n\n    if (!isFF) {\n      event.preventDefault();\n    }\n\n    nextFrame = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScroll ? 10 : 1;\n      onWheelDelta(offsetRef * patchMultiple);\n      offsetRef = 0;\n    });\n  } // A patch for firefox\n\n\n  function onFireFoxScroll(event) {\n    if (!inVirtual.value) return;\n    isMouseScroll = event.detail === wheelValue;\n  }\n\n  return [onWheel, onFireFoxScroll];\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-virtual-list/hooks/useFrameWheel.js"],"names":["raf","isFF","useOriginScroll","useFrameWheel","inVirtual","isScrollAtTop","isScrollAtBottom","onWheelDelta","offsetRef","nextFrame","wheelValue","isMouseScroll","originScroll","onWheel","event","value","cancel","deltaY","preventDefault","patchMultiple","onFireFoxScroll","detail"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,eAAe,SAASC,aAAT,CAAuBC,SAAvB,EAAkCC,aAAlC,EAAiDC,gBAAjD,EAAmEC,YAAnE,EAAiF;AAC9F,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,SAAS,GAAG,IAAhB,CAF8F,CAExE;;AAEtB,MAAIC,UAAU,GAAG,IAAjB;AACA,MAAIC,aAAa,GAAG,KAApB,CAL8F,CAKnE;;AAE3B,MAAIC,YAAY,GAAGV,eAAe,CAACG,aAAD,EAAgBC,gBAAhB,CAAlC;;AAEA,WAASO,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,QAAI,CAACV,SAAS,CAACW,KAAf,EAAsB;AACtBf,IAAAA,GAAG,CAACgB,MAAJ,CAAWP,SAAX;AACA,QAAIQ,MAAM,GAAGH,KAAK,CAACG,MAAnB;AACAT,IAAAA,SAAS,IAAIS,MAAb;AACAP,IAAAA,UAAU,GAAGO,MAAb,CALsB,CAKD;;AAErB,QAAIL,YAAY,CAACK,MAAD,CAAhB,EAA0B,OAPJ,CAOY;;AAElC,QAAI,CAAChB,IAAL,EAAW;AACTa,MAAAA,KAAK,CAACI,cAAN;AACD;;AAEDT,IAAAA,SAAS,GAAGT,GAAG,CAAC,YAAY;AAC1B;AACA;AACA,UAAImB,aAAa,GAAGR,aAAa,GAAG,EAAH,GAAQ,CAAzC;AACAJ,MAAAA,YAAY,CAACC,SAAS,GAAGW,aAAb,CAAZ;AACAX,MAAAA,SAAS,GAAG,CAAZ;AACD,KANc,CAAf;AAOD,GA7B6F,CA6B5F;;;AAGF,WAASY,eAAT,CAAyBN,KAAzB,EAAgC;AAC9B,QAAI,CAACV,SAAS,CAACW,KAAf,EAAsB;AACtBJ,IAAAA,aAAa,GAAGG,KAAK,CAACO,MAAN,KAAiBX,UAAjC;AACD;;AAED,SAAO,CAACG,OAAD,EAAUO,eAAV,CAAP;AACD","sourcesContent":["import raf from '../../_util/raf';\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, onWheelDelta) {\n  var offsetRef = 0;\n  var nextFrame = null; // Firefox patch\n\n  var wheelValue = null;\n  var isMouseScroll = false; // Scroll status sync\n\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n\n  function onWheel(event) {\n    if (!inVirtual.value) return;\n    raf.cancel(nextFrame);\n    var deltaY = event.deltaY;\n    offsetRef += deltaY;\n    wheelValue = deltaY; // Do nothing when scroll at the edge, Skip check when is in scroll\n\n    if (originScroll(deltaY)) return; // Proxy of scroll events\n\n    if (!isFF) {\n      event.preventDefault();\n    }\n\n    nextFrame = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScroll ? 10 : 1;\n      onWheelDelta(offsetRef * patchMultiple);\n      offsetRef = 0;\n    });\n  } // A patch for firefox\n\n\n  function onFireFoxScroll(event) {\n    if (!inVirtual.value) return;\n    isMouseScroll = event.detail === wheelValue;\n  }\n\n  return [onWheel, onFireFoxScroll];\n}"]},"metadata":{},"sourceType":"module"}