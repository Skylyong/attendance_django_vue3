{"ast":null,"code":"var helperDeleteProperty = require('./helperDeleteProperty');\n\nvar isPlainObject = require('./isPlainObject');\n\nvar isObject = require('./isObject');\n\nvar isArray = require('./isArray');\n\nvar isNull = require('./isNull');\n\nvar assign = require('./assign');\n\nvar objectEach = require('./objectEach');\n/**\r\n  * 清空对象\r\n  *\r\n  * @param {Object} obj 对象\r\n  * @param {*} defs 默认值,如果不传（清空所有属性）、如果传对象（清空并继承)、如果传值(给所有赋值)\r\n  * @param {Object/Array} assigns 默认值\r\n  * @return {Object}\r\n  */\n\n\nfunction clear(obj, defs, assigns) {\n  if (obj) {\n    var len;\n    var isDefs = arguments.length > 1 && (isNull(defs) || !isObject(defs));\n    var extds = isDefs ? assigns : defs;\n\n    if (isPlainObject(obj)) {\n      objectEach(obj, isDefs ? function (val, key) {\n        obj[key] = defs;\n      } : function (val, key) {\n        helperDeleteProperty(obj, key);\n      });\n\n      if (extds) {\n        assign(obj, extds);\n      }\n    } else if (isArray(obj)) {\n      if (isDefs) {\n        len = obj.length;\n\n        while (len > 0) {\n          len--;\n          obj[len] = defs;\n        }\n      } else {\n        obj.length = 0;\n      }\n\n      if (extds) {\n        obj.push.apply(obj, extds);\n      }\n    }\n  }\n\n  return obj;\n}\n\nmodule.exports = clear;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/clear.js"],"names":["helperDeleteProperty","require","isPlainObject","isObject","isArray","isNull","assign","objectEach","clear","obj","defs","assigns","len","isDefs","arguments","length","extds","val","key","push","apply","module","exports"],"mappings":"AAAA,IAAIA,oBAAoB,GAAGC,OAAO,CAAC,wBAAD,CAAlC;;AAEA,IAAIC,aAAa,GAAGD,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,WAAD,CAArB;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIK,MAAM,GAAGL,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIM,UAAU,GAAGN,OAAO,CAAC,cAAD,CAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASO,KAAT,CAAgBC,GAAhB,EAAqBC,IAArB,EAA2BC,OAA3B,EAAoC;AAClC,MAAIF,GAAJ,EAAS;AACP,QAAIG,GAAJ;AACA,QAAIC,MAAM,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,KAAyBV,MAAM,CAACK,IAAD,CAAN,IAAgB,CAACP,QAAQ,CAACO,IAAD,CAAlD,CAAb;AACA,QAAIM,KAAK,GAAGH,MAAM,GAAGF,OAAH,GAAaD,IAA/B;;AACA,QAAIR,aAAa,CAACO,GAAD,CAAjB,EAAwB;AACtBF,MAAAA,UAAU,CAACE,GAAD,EAAMI,MAAM,GAAG,UAAUI,GAAV,EAAeC,GAAf,EAAoB;AAC3CT,QAAAA,GAAG,CAACS,GAAD,CAAH,GAAWR,IAAX;AACD,OAFqB,GAElB,UAAUO,GAAV,EAAeC,GAAf,EAAoB;AACtBlB,QAAAA,oBAAoB,CAACS,GAAD,EAAMS,GAAN,CAApB;AACD,OAJS,CAAV;;AAKA,UAAIF,KAAJ,EAAW;AACTV,QAAAA,MAAM,CAACG,GAAD,EAAMO,KAAN,CAAN;AACD;AACF,KATD,MASO,IAAIZ,OAAO,CAACK,GAAD,CAAX,EAAkB;AACvB,UAAII,MAAJ,EAAY;AACVD,QAAAA,GAAG,GAAGH,GAAG,CAACM,MAAV;;AACA,eAAOH,GAAG,GAAG,CAAb,EAAgB;AACdA,UAAAA,GAAG;AACHH,UAAAA,GAAG,CAACG,GAAD,CAAH,GAAWF,IAAX;AACD;AACF,OAND,MAMO;AACLD,QAAAA,GAAG,CAACM,MAAJ,GAAa,CAAb;AACD;;AACD,UAAIC,KAAJ,EAAW;AACTP,QAAAA,GAAG,CAACU,IAAJ,CAASC,KAAT,CAAeX,GAAf,EAAoBO,KAApB;AACD;AACF;AACF;;AACD,SAAOP,GAAP;AACD;;AAEDY,MAAM,CAACC,OAAP,GAAiBd,KAAjB","sourcesContent":["var helperDeleteProperty = require('./helperDeleteProperty')\r\n\r\nvar isPlainObject = require('./isPlainObject')\r\nvar isObject = require('./isObject')\r\nvar isArray = require('./isArray')\r\nvar isNull = require('./isNull')\r\nvar assign = require('./assign')\r\nvar objectEach = require('./objectEach')\r\n\r\n/**\r\n  * 清空对象\r\n  *\r\n  * @param {Object} obj 对象\r\n  * @param {*} defs 默认值,如果不传（清空所有属性）、如果传对象（清空并继承)、如果传值(给所有赋值)\r\n  * @param {Object/Array} assigns 默认值\r\n  * @return {Object}\r\n  */\r\nfunction clear (obj, defs, assigns) {\r\n  if (obj) {\r\n    var len\r\n    var isDefs = arguments.length > 1 && (isNull(defs) || !isObject(defs))\r\n    var extds = isDefs ? assigns : defs\r\n    if (isPlainObject(obj)) {\r\n      objectEach(obj, isDefs ? function (val, key) {\r\n        obj[key] = defs\r\n      } : function (val, key) {\r\n        helperDeleteProperty(obj, key)\r\n      })\r\n      if (extds) {\r\n        assign(obj, extds)\r\n      }\r\n    } else if (isArray(obj)) {\r\n      if (isDefs) {\r\n        len = obj.length\r\n        while (len > 0) {\r\n          len--\r\n          obj[len] = defs\r\n        }\r\n      } else {\r\n        obj.length = 0\r\n      }\r\n      if (extds) {\r\n        obj.push.apply(obj, extds)\r\n      }\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\nmodule.exports = clear\r\n"]},"metadata":{},"sourceType":"script"}