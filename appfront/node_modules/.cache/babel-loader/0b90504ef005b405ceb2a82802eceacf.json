{"ast":null,"code":"var isEmpty = require('./isEmpty');\n\nvar isObject = require('./isObject');\n\nvar isFunction = require('./isFunction');\n\nvar property = require('./property');\n\nvar each = require('./each');\n\nfunction createiterateEmpty(iterate) {\n  return function () {\n    return isEmpty(iterate);\n  };\n}\n/**\r\n  * 集合分组,默认使用键值分组,如果有iterate则使用结果进行分组\r\n  *\r\n  * @param {Array} obj 对象\r\n  * @param {Function} iterate 回调/对象属性\r\n  * @param {Object} context 上下文\r\n  * @return {Object}\r\n  */\n\n\nfunction groupBy(obj, iterate, context) {\n  var groupKey;\n  var result = {};\n\n  if (obj) {\n    if (iterate && isObject(iterate)) {\n      iterate = createiterateEmpty(iterate);\n    } else if (!isFunction(iterate)) {\n      iterate = property(iterate);\n    }\n\n    each(obj, function (val, key) {\n      groupKey = iterate ? iterate.call(context, val, key, obj) : val;\n\n      if (result[groupKey]) {\n        result[groupKey].push(val);\n      } else {\n        result[groupKey] = [val];\n      }\n    });\n  }\n\n  return result;\n}\n\nmodule.exports = groupBy;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/groupBy.js"],"names":["isEmpty","require","isObject","isFunction","property","each","createiterateEmpty","iterate","groupBy","obj","context","groupKey","result","val","key","call","push","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAD,CAAxB;;AACA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAII,IAAI,GAAGJ,OAAO,CAAC,QAAD,CAAlB;;AAEA,SAASK,kBAAT,CAA6BC,OAA7B,EAAsC;AACpC,SAAO,YAAY;AACjB,WAAOP,OAAO,CAACO,OAAD,CAAd;AACD,GAFD;AAGD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,OAAT,CAAkBC,GAAlB,EAAuBF,OAAvB,EAAgCG,OAAhC,EAAyC;AACvC,MAAIC,QAAJ;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIH,GAAJ,EAAS;AACP,QAAIF,OAAO,IAAIL,QAAQ,CAACK,OAAD,CAAvB,EAAkC;AAChCA,MAAAA,OAAO,GAAGD,kBAAkB,CAACC,OAAD,CAA5B;AACD,KAFD,MAEO,IAAI,CAACJ,UAAU,CAACI,OAAD,CAAf,EAA0B;AAC/BA,MAAAA,OAAO,GAAGH,QAAQ,CAACG,OAAD,CAAlB;AACD;;AACDF,IAAAA,IAAI,CAACI,GAAD,EAAM,UAAUI,GAAV,EAAeC,GAAf,EAAoB;AAC5BH,MAAAA,QAAQ,GAAGJ,OAAO,GAAGA,OAAO,CAACQ,IAAR,CAAaL,OAAb,EAAsBG,GAAtB,EAA2BC,GAA3B,EAAgCL,GAAhC,CAAH,GAA0CI,GAA5D;;AACA,UAAID,MAAM,CAACD,QAAD,CAAV,EAAsB;AACpBC,QAAAA,MAAM,CAACD,QAAD,CAAN,CAAiBK,IAAjB,CAAsBH,GAAtB;AACD,OAFD,MAEO;AACLD,QAAAA,MAAM,CAACD,QAAD,CAAN,GAAmB,CAACE,GAAD,CAAnB;AACD;AACF,KAPG,CAAJ;AAQD;;AACD,SAAOD,MAAP;AACD;;AAEDK,MAAM,CAACC,OAAP,GAAiBV,OAAjB","sourcesContent":["var isEmpty = require('./isEmpty')\r\nvar isObject = require('./isObject')\r\nvar isFunction = require('./isFunction')\r\nvar property = require('./property')\r\nvar each = require('./each')\r\n\r\nfunction createiterateEmpty (iterate) {\r\n  return function () {\r\n    return isEmpty(iterate)\r\n  }\r\n}\r\n\r\n/**\r\n  * 集合分组,默认使用键值分组,如果有iterate则使用结果进行分组\r\n  *\r\n  * @param {Array} obj 对象\r\n  * @param {Function} iterate 回调/对象属性\r\n  * @param {Object} context 上下文\r\n  * @return {Object}\r\n  */\r\nfunction groupBy (obj, iterate, context) {\r\n  var groupKey\r\n  var result = {}\r\n  if (obj) {\r\n    if (iterate && isObject(iterate)) {\r\n      iterate = createiterateEmpty(iterate)\r\n    } else if (!isFunction(iterate)) {\r\n      iterate = property(iterate)\r\n    }\r\n    each(obj, function (val, key) {\r\n      groupKey = iterate ? iterate.call(context, val, key, obj) : val\r\n      if (result[groupKey]) {\r\n        result[groupKey].push(val)\r\n      } else {\r\n        result[groupKey] = [val]\r\n      }\r\n    })\r\n  }\r\n  return result\r\n}\r\n\r\nmodule.exports = groupBy\r\n"]},"metadata":{},"sourceType":"script"}