{"ast":null,"code":"import { useRect, useWindowSize } from \"@vant/use\";\nimport { unref } from \"vue\";\nimport { isIOS as checkIsIOS } from \"./validate\";\n\nfunction getScrollTop(el) {\n  const top = \"scrollTop\" in el ? el.scrollTop : el.pageYOffset;\n  return Math.max(top, 0);\n}\n\nfunction setScrollTop(el, value) {\n  if (\"scrollTop\" in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\n\nfunction getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\n\nfunction setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n}\n\nfunction getElementTop(el, scroller) {\n  if (el === window) {\n    return 0;\n  }\n\n  const scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return useRect(el).top + scrollTop;\n}\n\nconst isIOS = checkIsIOS();\n\nfunction resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}\n\nconst stopPropagation = event => event.stopPropagation();\n\nfunction preventDefault(event, isStopPropagation) {\n  if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n    event.preventDefault();\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\n\nfunction isHidden(elementRef) {\n  const el = unref(elementRef);\n\n  if (!el) {\n    return false;\n  }\n\n  const style = window.getComputedStyle(el);\n  const hidden = style.display === \"none\";\n  const parentHidden = el.offsetParent === null && style.position !== \"fixed\";\n  return hidden || parentHidden;\n}\n\nconst {\n  width: windowWidth,\n  height: windowHeight\n} = useWindowSize();\nexport { getElementTop, getRootScrollTop, getScrollTop, isHidden, preventDefault, resetScroll, setRootScrollTop, setScrollTop, stopPropagation, windowHeight, windowWidth };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/utils/dom.js"],"names":["useRect","useWindowSize","unref","isIOS","checkIsIOS","getScrollTop","el","top","scrollTop","pageYOffset","Math","max","setScrollTop","value","scrollTo","scrollX","getRootScrollTop","window","document","documentElement","body","setRootScrollTop","getElementTop","scroller","resetScroll","stopPropagation","event","preventDefault","isStopPropagation","cancelable","isHidden","elementRef","style","getComputedStyle","hidden","display","parentHidden","offsetParent","position","width","windowWidth","height","windowHeight"],"mappings":"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","sourcesContent":["import { useRect, useWindowSize } from \"@vant/use\";\nimport { unref } from \"vue\";\nimport { isIOS as checkIsIOS } from \"./validate\";\nfunction getScrollTop(el) {\n  const top = \"scrollTop\" in el ? el.scrollTop : el.pageYOffset;\n  return Math.max(top, 0);\n}\nfunction setScrollTop(el, value) {\n  if (\"scrollTop\" in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nfunction getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nfunction setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n}\nfunction getElementTop(el, scroller) {\n  if (el === window) {\n    return 0;\n  }\n  const scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return useRect(el).top + scrollTop;\n}\nconst isIOS = checkIsIOS();\nfunction resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}\nconst stopPropagation = (event) => event.stopPropagation();\nfunction preventDefault(event, isStopPropagation) {\n  if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n    event.preventDefault();\n  }\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\nfunction isHidden(elementRef) {\n  const el = unref(elementRef);\n  if (!el) {\n    return false;\n  }\n  const style = window.getComputedStyle(el);\n  const hidden = style.display === \"none\";\n  const parentHidden = el.offsetParent === null && style.position !== \"fixed\";\n  return hidden || parentHidden;\n}\nconst { width: windowWidth, height: windowHeight } = useWindowSize();\nexport {\n  getElementTop,\n  getRootScrollTop,\n  getScrollTop,\n  isHidden,\n  preventDefault,\n  resetScroll,\n  setRootScrollTop,\n  setScrollTop,\n  stopPropagation,\n  windowHeight,\n  windowWidth\n};\n"]},"metadata":{},"sourceType":"module"}