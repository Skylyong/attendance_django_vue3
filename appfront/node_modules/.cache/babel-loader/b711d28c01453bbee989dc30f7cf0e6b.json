{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { isDef, addUnit, isNumeric, truthProp, numericProp, makeStringProp, createNamespace } from \"../utils\";\nconst [name, bem] = createNamespace(\"badge\");\nconst badgeProps = {\n  dot: Boolean,\n  max: numericProp,\n  tag: makeStringProp(\"div\"),\n  color: String,\n  offset: Array,\n  content: numericProp,\n  showZero: truthProp,\n  position: makeStringProp(\"top-right\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: badgeProps,\n\n  setup(props, {\n    slots\n  }) {\n    const hasContent = () => {\n      if (slots.content) {\n        return true;\n      }\n\n      const {\n        content,\n        showZero\n      } = props;\n      return isDef(content) && content !== \"\" && (showZero || content !== 0);\n    };\n\n    const renderContent = () => {\n      const {\n        dot,\n        max,\n        content\n      } = props;\n\n      if (!dot && hasContent()) {\n        if (slots.content) {\n          return slots.content();\n        }\n\n        if (isDef(max) && isNumeric(content) && +content > max) {\n          return `${max}+`;\n        }\n\n        return content;\n      }\n    };\n\n    const style = computed(() => {\n      const style2 = {\n        background: props.color\n      };\n\n      if (props.offset) {\n        const [x, y] = props.offset;\n\n        if (slots.default) {\n          style2.top = addUnit(y);\n\n          if (typeof x === \"number\") {\n            style2.right = addUnit(-x);\n          } else {\n            style2.right = x.startsWith(\"-\") ? x.replace(\"-\", \"\") : `-${x}`;\n          }\n        } else {\n          style2.marginTop = addUnit(y);\n          style2.marginLeft = addUnit(x);\n        }\n      }\n\n      return style2;\n    });\n\n    const renderBadge = () => {\n      if (hasContent() || props.dot) {\n        return _createVNode(\"div\", {\n          \"class\": bem([props.position, {\n            dot: props.dot,\n            fixed: !!slots.default\n          }]),\n          \"style\": style.value\n        }, [renderContent()]);\n      }\n    };\n\n    return () => {\n      if (slots.default) {\n        const {\n          tag\n        } = props;\n        return _createVNode(tag, {\n          \"class\": bem(\"wrapper\")\n        }, {\n          default: () => [slots.default(), renderBadge()]\n        });\n      }\n\n      return renderBadge();\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/badge/Badge.js"],"names":["createVNode","_createVNode","computed","defineComponent","isDef","addUnit","isNumeric","truthProp","numericProp","makeStringProp","createNamespace","name","bem","badgeProps","dot","Boolean","max","tag","color","String","offset","Array","content","showZero","position","stdin_default","props","setup","slots","hasContent","renderContent","style","style2","background","x","y","default","top","right","startsWith","replace","marginTop","marginLeft","renderBadge","fixed","value"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { isDef, addUnit, isNumeric, truthProp, numericProp, makeStringProp, createNamespace } from \"../utils\";\nconst [name, bem] = createNamespace(\"badge\");\nconst badgeProps = {\n  dot: Boolean,\n  max: numericProp,\n  tag: makeStringProp(\"div\"),\n  color: String,\n  offset: Array,\n  content: numericProp,\n  showZero: truthProp,\n  position: makeStringProp(\"top-right\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: badgeProps,\n  setup(props, {\n    slots\n  }) {\n    const hasContent = () => {\n      if (slots.content) {\n        return true;\n      }\n      const {\n        content,\n        showZero\n      } = props;\n      return isDef(content) && content !== \"\" && (showZero || content !== 0);\n    };\n    const renderContent = () => {\n      const {\n        dot,\n        max,\n        content\n      } = props;\n      if (!dot && hasContent()) {\n        if (slots.content) {\n          return slots.content();\n        }\n        if (isDef(max) && isNumeric(content) && +content > max) {\n          return `${max}+`;\n        }\n        return content;\n      }\n    };\n    const style = computed(() => {\n      const style2 = {\n        background: props.color\n      };\n      if (props.offset) {\n        const [x, y] = props.offset;\n        if (slots.default) {\n          style2.top = addUnit(y);\n          if (typeof x === \"number\") {\n            style2.right = addUnit(-x);\n          } else {\n            style2.right = x.startsWith(\"-\") ? x.replace(\"-\", \"\") : `-${x}`;\n          }\n        } else {\n          style2.marginTop = addUnit(y);\n          style2.marginLeft = addUnit(x);\n        }\n      }\n      return style2;\n    });\n    const renderBadge = () => {\n      if (hasContent() || props.dot) {\n        return _createVNode(\"div\", {\n          \"class\": bem([props.position, {\n            dot: props.dot,\n            fixed: !!slots.default\n          }]),\n          \"style\": style.value\n        }, [renderContent()]);\n      }\n    };\n    return () => {\n      if (slots.default) {\n        const {\n          tag\n        } = props;\n        return _createVNode(tag, {\n          \"class\": bem(\"wrapper\")\n        }, {\n          default: () => [slots.default(), renderBadge()]\n        });\n      }\n      return renderBadge();\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}