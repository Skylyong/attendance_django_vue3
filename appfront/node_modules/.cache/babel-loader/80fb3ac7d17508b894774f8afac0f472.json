{"ast":null,"code":"var isNumber = require('./isNumber');\n\nvar isArray = require('./isArray');\n\nvar isString = require('./isString');\n\nvar isRegExp = require('./isRegExp');\n\nvar isDate = require('./isDate');\n\nvar isBoolean = require('./isBoolean');\n\nvar isUndefined = require('./isUndefined');\n\nvar keys = require('./keys');\n\nvar every = require('./every');\n\nfunction helperEqualCompare(val1, val2, compare, func, key, obj1, obj2) {\n  if (val1 === val2) {\n    return true;\n  }\n\n  if (val1 && val2 && !isNumber(val1) && !isNumber(val2) && !isString(val1) && !isString(val2)) {\n    if (isRegExp(val1)) {\n      return compare('' + val1, '' + val2, key, obj1, obj2);\n    }\n\n    if (isDate(val1) || isBoolean(val1)) {\n      return compare(+val1, +val2, key, obj1, obj2);\n    } else {\n      var result, val1Keys, val2Keys;\n      var isObj1Arr = isArray(val1);\n      var isObj2Arr = isArray(val2);\n\n      if (isObj1Arr || isObj2Arr ? isObj1Arr && isObj2Arr : val1.constructor === val2.constructor) {\n        val1Keys = keys(val1);\n        val2Keys = keys(val2);\n\n        if (func) {\n          result = func(val1, val2, key);\n        }\n\n        if (val1Keys.length === val2Keys.length) {\n          return isUndefined(result) ? every(val1Keys, function (key, index) {\n            return key === val2Keys[index] && helperEqualCompare(val1[key], val2[val2Keys[index]], compare, func, isObj1Arr || isObj2Arr ? index : key, val1, val2);\n          }) : !!result;\n        }\n\n        return false;\n      }\n    }\n  }\n\n  return compare(val1, val2, key, obj1, obj2);\n}\n\nmodule.exports = helperEqualCompare;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/helperEqualCompare.js"],"names":["isNumber","require","isArray","isString","isRegExp","isDate","isBoolean","isUndefined","keys","every","helperEqualCompare","val1","val2","compare","func","key","obj1","obj2","result","val1Keys","val2Keys","isObj1Arr","isObj2Arr","constructor","length","index","module","exports"],"mappings":"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","sourcesContent":["var isNumber = require('./isNumber')\r\nvar isArray = require('./isArray')\r\nvar isString = require('./isString')\r\nvar isRegExp = require('./isRegExp')\r\nvar isDate = require('./isDate')\r\nvar isBoolean = require('./isBoolean')\r\nvar isUndefined = require('./isUndefined')\r\nvar keys = require('./keys')\r\n\r\nvar every = require('./every')\r\n\r\nfunction helperEqualCompare (val1, val2, compare, func, key, obj1, obj2) {\r\n  if (val1 === val2) {\r\n    return true\r\n  }\r\n  if (val1 && val2 && !isNumber(val1) && !isNumber(val2) && !isString(val1) && !isString(val2)) {\r\n    if (isRegExp(val1)) {\r\n      return compare('' + val1, '' + val2, key, obj1, obj2)\r\n    } if (isDate(val1) || isBoolean(val1)) {\r\n      return compare(+val1, +val2, key, obj1, obj2)\r\n    } else {\r\n      var result, val1Keys, val2Keys\r\n      var isObj1Arr = isArray(val1)\r\n      var isObj2Arr = isArray(val2)\r\n      if (isObj1Arr || isObj2Arr ? isObj1Arr && isObj2Arr : val1.constructor === val2.constructor) {\r\n        val1Keys = keys(val1)\r\n        val2Keys = keys(val2)\r\n        if (func) {\r\n          result = func(val1, val2, key)\r\n        }\r\n        if (val1Keys.length === val2Keys.length) {\r\n          return isUndefined(result) ? every(val1Keys, function (key, index) {\r\n            return key === val2Keys[index] && helperEqualCompare(val1[key], val2[val2Keys[index]], compare, func, isObj1Arr || isObj2Arr ? index : key, val1, val2)\r\n          }) : !!result\r\n        }\r\n        return false\r\n      }\r\n    }\r\n  }\r\n  return compare(val1, val2, key, obj1, obj2)\r\n}\r\n\r\nmodule.exports = helperEqualCompare\r\n"]},"metadata":{},"sourceType":"script"}