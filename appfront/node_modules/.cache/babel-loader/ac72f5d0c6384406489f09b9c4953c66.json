{"ast":null,"code":"import { watch } from 'vue';\nimport XEUtils from 'xe-utils';\nimport { ItemInfo } from './itemInfo';\nexport function isFormItem(item) {\n  return item instanceof ItemInfo;\n}\nexport function createItem($xeform, _vm) {\n  return isFormItem(_vm) ? _vm : new ItemInfo($xeform, _vm);\n}\nexport var handleFieldOrItem = function ($xeform, fieldOrItem) {\n  if (fieldOrItem) {\n    return XEUtils.isString(fieldOrItem) ? $xeform.getItemByField(fieldOrItem) : fieldOrItem;\n  }\n\n  return null;\n};\nexport function watchItem(props, formItem) {\n  Object.keys(props).forEach(function (name) {\n    watch(function () {\n      return props[name];\n    }, function (value) {\n      formItem.update(name, value);\n    });\n  });\n}\nexport function assemItem($xeform, el, formItem, formGather) {\n  var reactData = $xeform.reactData;\n  var staticItems = reactData.staticItems;\n  var parentElem = el.parentNode;\n  var parentItem = formGather ? formGather.formItem : null;\n  var parentItems = parentItem ? parentItem.children : staticItems;\n\n  if (parentElem) {\n    parentItems.splice(XEUtils.arrayIndexOf(parentElem.children, el), 0, formItem);\n    reactData.staticItems = staticItems.slice(0);\n  }\n}\nexport function destroyItem($xeform, formItem) {\n  var reactData = $xeform.reactData;\n  var staticItems = reactData.staticItems;\n  var index = XEUtils.findIndexOf(staticItems, function (item) {\n    return item.id === formItem.id;\n  });\n\n  if (index > -1) {\n    staticItems.splice(index, 1);\n  }\n\n  reactData.staticItems = staticItems.slice(0);\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/form/src/util.js"],"names":["watch","XEUtils","ItemInfo","isFormItem","item","createItem","$xeform","_vm","handleFieldOrItem","fieldOrItem","isString","getItemByField","watchItem","props","formItem","Object","keys","forEach","name","value","update","assemItem","el","formGather","reactData","staticItems","parentElem","parentNode","parentItem","parentItems","children","splice","arrayIndexOf","slice","destroyItem","index","findIndexOf","id"],"mappings":"AAAA,SAASA,KAAT,QAAsB,KAAtB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AAC7B,SAAOA,IAAI,YAAYF,QAAvB;AACH;AACD,OAAO,SAASG,UAAT,CAAoBC,OAApB,EAA6BC,GAA7B,EAAkC;AACrC,SAAOJ,UAAU,CAACI,GAAD,CAAV,GAAkBA,GAAlB,GAAwB,IAAIL,QAAJ,CAAaI,OAAb,EAAsBC,GAAtB,CAA/B;AACH;AACD,OAAO,IAAIC,iBAAiB,GAAG,UAAUF,OAAV,EAAmBG,WAAnB,EAAgC;AAC3D,MAAIA,WAAJ,EAAiB;AACb,WAAOR,OAAO,CAACS,QAAR,CAAiBD,WAAjB,IAAgCH,OAAO,CAACK,cAAR,CAAuBF,WAAvB,CAAhC,GAAsEA,WAA7E;AACH;;AACD,SAAO,IAAP;AACH,CALM;AAMP,OAAO,SAASG,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoC;AACvCC,EAAAA,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBI,OAAnB,CAA2B,UAAUC,IAAV,EAAgB;AACvClB,IAAAA,KAAK,CAAC,YAAY;AAAE,aAAOa,KAAK,CAACK,IAAD,CAAZ;AAAqB,KAApC,EAAsC,UAAUC,KAAV,EAAiB;AACxDL,MAAAA,QAAQ,CAACM,MAAT,CAAgBF,IAAhB,EAAsBC,KAAtB;AACH,KAFI,CAAL;AAGH,GAJD;AAKH;AACD,OAAO,SAASE,SAAT,CAAmBf,OAAnB,EAA4BgB,EAA5B,EAAgCR,QAAhC,EAA0CS,UAA1C,EAAsD;AACzD,MAAIC,SAAS,GAAGlB,OAAO,CAACkB,SAAxB;AACA,MAAIC,WAAW,GAAGD,SAAS,CAACC,WAA5B;AACA,MAAIC,UAAU,GAAGJ,EAAE,CAACK,UAApB;AACA,MAAIC,UAAU,GAAGL,UAAU,GAAGA,UAAU,CAACT,QAAd,GAAyB,IAApD;AACA,MAAIe,WAAW,GAAGD,UAAU,GAAGA,UAAU,CAACE,QAAd,GAAyBL,WAArD;;AACA,MAAIC,UAAJ,EAAgB;AACZG,IAAAA,WAAW,CAACE,MAAZ,CAAmB9B,OAAO,CAAC+B,YAAR,CAAqBN,UAAU,CAACI,QAAhC,EAA0CR,EAA1C,CAAnB,EAAkE,CAAlE,EAAqER,QAArE;AACAU,IAAAA,SAAS,CAACC,WAAV,GAAwBA,WAAW,CAACQ,KAAZ,CAAkB,CAAlB,CAAxB;AACH;AACJ;AACD,OAAO,SAASC,WAAT,CAAqB5B,OAArB,EAA8BQ,QAA9B,EAAwC;AAC3C,MAAIU,SAAS,GAAGlB,OAAO,CAACkB,SAAxB;AACA,MAAIC,WAAW,GAAGD,SAAS,CAACC,WAA5B;AACA,MAAIU,KAAK,GAAGlC,OAAO,CAACmC,WAAR,CAAoBX,WAApB,EAAiC,UAAUrB,IAAV,EAAgB;AAAE,WAAOA,IAAI,CAACiC,EAAL,KAAYvB,QAAQ,CAACuB,EAA5B;AAAiC,GAApF,CAAZ;;AACA,MAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZV,IAAAA,WAAW,CAACM,MAAZ,CAAmBI,KAAnB,EAA0B,CAA1B;AACH;;AACDX,EAAAA,SAAS,CAACC,WAAV,GAAwBA,WAAW,CAACQ,KAAZ,CAAkB,CAAlB,CAAxB;AACH","sourcesContent":["import { watch } from 'vue';\nimport XEUtils from 'xe-utils';\nimport { ItemInfo } from './itemInfo';\nexport function isFormItem(item) {\n    return item instanceof ItemInfo;\n}\nexport function createItem($xeform, _vm) {\n    return isFormItem(_vm) ? _vm : new ItemInfo($xeform, _vm);\n}\nexport var handleFieldOrItem = function ($xeform, fieldOrItem) {\n    if (fieldOrItem) {\n        return XEUtils.isString(fieldOrItem) ? $xeform.getItemByField(fieldOrItem) : fieldOrItem;\n    }\n    return null;\n};\nexport function watchItem(props, formItem) {\n    Object.keys(props).forEach(function (name) {\n        watch(function () { return props[name]; }, function (value) {\n            formItem.update(name, value);\n        });\n    });\n}\nexport function assemItem($xeform, el, formItem, formGather) {\n    var reactData = $xeform.reactData;\n    var staticItems = reactData.staticItems;\n    var parentElem = el.parentNode;\n    var parentItem = formGather ? formGather.formItem : null;\n    var parentItems = parentItem ? parentItem.children : staticItems;\n    if (parentElem) {\n        parentItems.splice(XEUtils.arrayIndexOf(parentElem.children, el), 0, formItem);\n        reactData.staticItems = staticItems.slice(0);\n    }\n}\nexport function destroyItem($xeform, formItem) {\n    var reactData = $xeform.reactData;\n    var staticItems = reactData.staticItems;\n    var index = XEUtils.findIndexOf(staticItems, function (item) { return item.id === formItem.id; });\n    if (index > -1) {\n        staticItems.splice(index, 1);\n    }\n    reactData.staticItems = staticItems.slice(0);\n}\n"]},"metadata":{},"sourceType":"module"}