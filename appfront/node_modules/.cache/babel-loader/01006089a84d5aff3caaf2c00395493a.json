{"ast":null,"code":"import { defineComponent, reactive, ref } from 'vue';\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons-vue';\nimport { cloneDeep } from 'lodash-es';\nexport default defineComponent({\n  components: {\n    CheckOutlined,\n    EditOutlined\n  },\n\n  setup() {\n    const columns = [{\n      title: 'name',\n      dataIndex: 'name',\n      width: '30%',\n      autoHeight: true\n    }, {\n      title: 'age',\n      dataIndex: 'age'\n    }, {\n      title: 'address',\n      dataIndex: 'address'\n    }, {\n      title: 'operation',\n      dataIndex: 'operation'\n    }];\n    const dataSource = ref([{\n      key: '0',\n      name: 'Edward King 0',\n      age: 32,\n      address: 'London, Park Lane no. 0'\n    }, {\n      key: '1',\n      name: 'Edward King 1',\n      age: 32,\n      address: 'London, Park Lane no. 1'\n    }, {\n      key: '2',\n      name: 'Edward King 2',\n      age: 32,\n      address: 'London, Park Lane no. 2'\n    }]);\n    let count = dataSource.value.length;\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n      dataSource.value = [].concat(dataSource.value);\n    };\n\n    const onDelete = key => {\n      dataSource.value = dataSource.value.filter(item => item.key !== key);\n    };\n\n    const handleAdd = () => {\n      const newData = {\n        key: `${count}`,\n        name: `Edward King ${count}`,\n        age: 32,\n        address: `London, Park Lane no. ${count}`\n      };\n      count++;\n      dataSource.value.push(newData);\n      dataSource.value = [].concat(dataSource.value);\n    };\n\n    return {\n      columns,\n      onDelete,\n      handleAdd,\n      dataSource,\n      editableData,\n      count,\n      edit,\n      save\n    };\n  }\n\n});","map":{"version":3,"mappings":"AA6BA,SAASA,eAAT,EAA0BC,QAA1B,EAAoCC,GAApC,QAA+C,KAA/C;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,uBAA5C;AACA,SAASC,SAAT,QAA0B,WAA1B;AACA,eAAeL,eAAe,CAAC;AAC7BM,YAAU,EAAE;AACVH,iBADU;AAEVC;AAFU,GADiB;;AAM7BG,OAAK,GAAG;AACN,UAAMC,OAAM,GAAI,CACd;AACEC,WAAK,EAAE,MADT;AAEEC,eAAS,EAAE,MAFb;AAGEC,WAAK,EAAE,KAHT;AAIEC,gBAAU,EAAE;AAJd,KADc,EAOd;AACEH,WAAK,EAAE,KADT;AAEEC,eAAS,EAAE;AAFb,KAPc,EAWd;AACED,WAAK,EAAE,SADT;AAEEC,eAAS,EAAE;AAFb,KAXc,EAed;AACED,WAAK,EAAE,WADT;AAEEC,eAAS,EAAE;AAFb,KAfc,CAAhB;AAoBA,UAAMG,UAAS,GAAIX,GAAG,CAAC,CACrB;AACEY,SAAG,EAAE,GADP;AAEEC,UAAI,EAAE,eAFR;AAGEC,SAAG,EAAE,EAHP;AAIEC,aAAO,EAAE;AAJX,KADqB,EAOrB;AACEH,SAAG,EAAE,GADP;AAEEC,UAAI,EAAE,eAFR;AAGEC,SAAG,EAAE,EAHP;AAIEC,aAAO,EAAE;AAJX,KAPqB,EAarB;AACEH,SAAG,EAAE,GADP;AAEEC,UAAI,EAAE,eAFR;AAGEC,SAAG,EAAE,EAHP;AAIEC,aAAO,EAAE;AAJX,KAbqB,CAAD,CAAtB;AAoBA,QAAIC,KAAI,GAAIL,UAAU,CAACM,KAAX,CAAiBC,MAA7B;AACA,UAAMC,YAAW,GAAIpB,QAAQ,CAAC,EAAD,CAA7B;;AAEA,UAAMqB,IAAG,GAAIR,GAAE,IAAK;AAClBO,kBAAY,CAACP,GAAD,CAAZ,GAAoBT,SAAS,CAACQ,UAAU,CAACM,KAAX,CAAiBI,MAAjB,CAAwBC,IAAG,IAAKV,GAAE,KAAMU,IAAI,CAACV,GAA7C,EAAkD,CAAlD,CAAD,CAA7B;AACD,KAFD;;AAIA,UAAMW,IAAG,GAAIX,GAAE,IAAK;AAClBY,YAAM,CAACC,MAAP,CAAcd,UAAU,CAACM,KAAX,CAAiBI,MAAjB,CAAwBC,IAAG,IAAKV,GAAE,KAAMU,IAAI,CAACV,GAA7C,EAAkD,CAAlD,CAAd,EAAoEO,YAAY,CAACP,GAAD,CAAhF;AACA,aAAOO,YAAY,CAACP,GAAD,CAAnB;AACAD,gBAAU,CAACM,KAAX,GAAmB,GAAGS,MAAH,CAAUf,UAAU,CAACM,KAArB,CAAnB;AACD,KAJD;;AAMA,UAAMU,QAAO,GAAIf,GAAE,IAAK;AACtBD,gBAAU,CAACM,KAAX,GAAmBN,UAAU,CAACM,KAAX,CAAiBI,MAAjB,CAAwBC,IAAG,IAAKA,IAAI,CAACV,GAAL,KAAaA,GAA7C,CAAnB;AACD,KAFD;;AAIA,UAAMgB,SAAQ,GAAI,MAAM;AACtB,YAAMC,OAAM,GAAI;AACdjB,WAAG,EAAG,GAAEI,KAAM,EADA;AAEdH,YAAI,EAAG,eAAcG,KAAM,EAFb;AAGdF,WAAG,EAAE,EAHS;AAIdC,eAAO,EAAG,yBAAwBC,KAAM;AAJ1B,OAAhB;AAMAA,WAAK;AACLL,gBAAU,CAACM,KAAX,CAAiBa,IAAjB,CAAsBD,OAAtB;AACAlB,gBAAU,CAACM,KAAX,GAAmB,GAAGS,MAAH,CAAUf,UAAU,CAACM,KAArB,CAAnB;AACD,KAVD;;AAYA,WAAO;AACLX,aADK;AAELqB,cAFK;AAGLC,eAHK;AAILjB,gBAJK;AAKLQ,kBALK;AAMLH,WANK;AAOLI,UAPK;AAQLG;AARK,KAAP;AAUD;;AAtF4B,CAAD,CAA9B","names":["defineComponent","reactive","ref","CheckOutlined","EditOutlined","cloneDeep","components","setup","columns","title","dataIndex","width","autoHeight","dataSource","key","name","age","address","count","value","length","editableData","edit","filter","item","save","Object","assign","concat","onDelete","handleAdd","newData","push"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-button class=\"editable-add-btn\" style=\"margin-bottom: 8px\" @click=\"handleAdd\">Add</a-button>\n  <s-table bordered :data-source=\"dataSource\" :columns=\"columns\" :row-height=\"64\">\n    <template #bodyCell=\"{ column, text, record }\">\n      <template v-if=\"column.dataIndex === 'name'\">\n        <div class=\"editable-cell\">\n          <div v-if=\"editableData[record.key]\" class=\"editable-cell-input-wrapper\">\n            <a-input v-model:value=\"editableData[record.key].name\" @pressEnter=\"save(record.key)\" />\n            <check-outlined class=\"editable-cell-icon-check\" @click=\"save(record.key)\" />\n          </div>\n          <div v-else class=\"editable-cell-text-wrapper\">\n            {{ text || ' ' }}\n            <edit-outlined class=\"editable-cell-icon\" @click=\"edit(record.key)\" />\n          </div>\n        </div>\n      </template>\n      <template v-else-if=\"column.dataIndex === 'operation'\">\n        <a-popconfirm\n          v-if=\"dataSource.length\"\n          title=\"Sure to delete?\"\n          @confirm=\"onDelete(record.key)\"\n        >\n          <a>Delete</a>\n        </a-popconfirm>\n      </template>\n    </template>\n  </s-table>\n</template>\n<script>\nimport { defineComponent, reactive, ref } from 'vue';\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons-vue';\nimport { cloneDeep } from 'lodash-es';\nexport default defineComponent({\n  components: {\n    CheckOutlined,\n    EditOutlined,\n  },\n\n  setup() {\n    const columns = [\n      {\n        title: 'name',\n        dataIndex: 'name',\n        width: '30%',\n        autoHeight: true,\n      },\n      {\n        title: 'age',\n        dataIndex: 'age',\n      },\n      {\n        title: 'address',\n        dataIndex: 'address',\n      },\n      {\n        title: 'operation',\n        dataIndex: 'operation',\n      },\n    ];\n    const dataSource = ref([\n      {\n        key: '0',\n        name: 'Edward King 0',\n        age: 32,\n        address: 'London, Park Lane no. 0',\n      },\n      {\n        key: '1',\n        name: 'Edward King 1',\n        age: 32,\n        address: 'London, Park Lane no. 1',\n      },\n      {\n        key: '2',\n        name: 'Edward King 2',\n        age: 32,\n        address: 'London, Park Lane no. 2',\n      },\n    ]);\n    let count = dataSource.value.length;\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n      dataSource.value = [].concat(dataSource.value);\n    };\n\n    const onDelete = key => {\n      dataSource.value = dataSource.value.filter(item => item.key !== key);\n    };\n\n    const handleAdd = () => {\n      const newData = {\n        key: `${count}`,\n        name: `Edward King ${count}`,\n        age: 32,\n        address: `London, Park Lane no. ${count}`,\n      };\n      count++;\n      dataSource.value.push(newData);\n      dataSource.value = [].concat(dataSource.value);\n    };\n\n    return {\n      columns,\n      onDelete,\n      handleAdd,\n      dataSource,\n      editableData,\n      count,\n      edit,\n      save,\n    };\n  },\n});\n</script>\n<style lang=\"less\">\n.editable-cell {\n  position: relative;\n  .editable-cell-input-wrapper,\n  .editable-cell-text-wrapper {\n    padding-right: 24px;\n  }\n\n  .editable-cell-text-wrapper {\n    padding: 5px 24px 5px 5px;\n  }\n\n  .editable-cell-icon,\n  .editable-cell-icon-check {\n    position: absolute;\n    right: 0;\n    width: 20px;\n    cursor: pointer;\n  }\n\n  .editable-cell-icon {\n    margin-top: 4px;\n    display: inline-block;\n    // display: none;\n  }\n\n  .editable-cell-icon-check {\n    line-height: 28px;\n  }\n\n  .editable-cell-icon:hover,\n  .editable-cell-icon-check:hover {\n    color: #108ee9;\n  }\n\n  .editable-add-btn {\n    margin-bottom: 8px;\n  }\n}\n.editable-cell:hover .editable-cell-icon {\n  display: inline-block;\n}\n</style>"]},"metadata":{},"sourceType":"module"}