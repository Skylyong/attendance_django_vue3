{"ast":null,"code":"var slice = require('./slice');\n/**\r\n  * 创建一个函数, 调用次数不超过 count 次之前执行回调并将所有结果记住后返回\r\n  *\r\n  * @param {Number} count 调用次数\r\n  * @param {Function} callback 完成回调\r\n  * @return {Object}\r\n  */\n\n\nfunction before(count, callback, context) {\n  var runCount = 0;\n  var rests = [];\n  context = context || this;\n  return function () {\n    var args = arguments;\n    runCount++;\n\n    if (runCount < count) {\n      rests.push(args[0]);\n      callback.apply(context, [rests].concat(slice(args)));\n    }\n  };\n}\n\nmodule.exports = before;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/before.js"],"names":["slice","require","before","count","callback","context","runCount","rests","args","arguments","push","apply","concat","module","exports"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAD,CAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,MAAT,CAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,OAAlC,EAA2C;AACzC,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,KAAK,GAAG,EAAZ;AACAF,EAAAA,OAAO,GAAGA,OAAO,IAAI,IAArB;AACA,SAAO,YAAY;AACjB,QAAIG,IAAI,GAAGC,SAAX;AACAH,IAAAA,QAAQ;;AACR,QAAIA,QAAQ,GAAGH,KAAf,EAAsB;AACpBI,MAAAA,KAAK,CAACG,IAAN,CAAWF,IAAI,CAAC,CAAD,CAAf;AACAJ,MAAAA,QAAQ,CAACO,KAAT,CAAeN,OAAf,EAAwB,CAACE,KAAD,EAAQK,MAAR,CAAeZ,KAAK,CAACQ,IAAD,CAApB,CAAxB;AACD;AACF,GAPD;AAQD;;AAEDK,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourcesContent":["var slice = require('./slice')\r\n\r\n/**\r\n  * 创建一个函数, 调用次数不超过 count 次之前执行回调并将所有结果记住后返回\r\n  *\r\n  * @param {Number} count 调用次数\r\n  * @param {Function} callback 完成回调\r\n  * @return {Object}\r\n  */\r\nfunction before (count, callback, context) {\r\n  var runCount = 0\r\n  var rests = []\r\n  context = context || this\r\n  return function () {\r\n    var args = arguments\r\n    runCount++\r\n    if (runCount < count) {\r\n      rests.push(args[0])\r\n      callback.apply(context, [rests].concat(slice(args)))\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = before\r\n"]},"metadata":{},"sourceType":"script"}