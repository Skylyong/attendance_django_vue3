{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useInjectFormItemPrefix } from './context';\nimport { defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport Transition, { getTransitionProps } from '../_util/transition';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport default defineComponent({\n  name: 'ErrorList',\n  props: ['errors', 'help', 'onDomErrorVisibleChange'],\n  setup: function setup(props) {\n    var _useConfigInject = useConfigInject('', props),\n        rootPrefixCls = _useConfigInject.prefixCls;\n\n    var _useInjectFormItemPre = useInjectFormItemPrefix(),\n        prefixCls = _useInjectFormItemPre.prefixCls,\n        status = _useInjectFormItemPre.status;\n\n    var visible = ref(!!(props.errors && props.errors.length));\n    var innerStatus = ref(status.value);\n    var timeout = ref();\n    var cacheErrors = ref(_toConsumableArray(props.errors));\n    watch([function () {\n      return _toConsumableArray(props.errors);\n    }, function () {\n      return props.help;\n    }], function (newValues) {\n      window.clearTimeout(timeout.value);\n\n      if (props.help) {\n        visible.value = !!(props.errors && props.errors.length);\n\n        if (visible.value) {\n          cacheErrors.value = newValues[0];\n        }\n      } else {\n        timeout.value = window.setTimeout(function () {\n          visible.value = !!(props.errors && props.errors.length);\n\n          if (visible.value) {\n            cacheErrors.value = newValues[0];\n          }\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(timeout.value);\n    }); // Memo status in same visible\n\n    watch([visible, status], function () {\n      if (visible.value && status.value) {\n        innerStatus.value = status.value;\n      }\n    });\n    watch(visible, function () {\n      var _a;\n\n      if (visible.value) {\n        (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, true);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return function () {\n      var _a;\n\n      var baseClassName = \"\".concat(prefixCls.value, \"-item-explain\");\n      var transitionProps = getTransitionProps(\"\".concat(rootPrefixCls.value, \"-show-help\"), {\n        onAfterLeave: function onAfterLeave() {\n          var _a;\n\n          (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, false);\n        }\n      });\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [visible.value ? _createVNode(\"div\", {\n            \"class\": classNames(baseClassName, _defineProperty({}, \"\".concat(baseClassName, \"-\").concat(innerStatus.value), innerStatus.value)),\n            \"key\": \"help\"\n          }, [(_a = cacheErrors.value) === null || _a === void 0 ? void 0 : _a.map(function (error, index) {\n            return _createVNode(\"div\", {\n              \"key\": index,\n              \"role\": \"alert\"\n            }, [error]);\n          })]) : null];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/form/ErrorList.js"],"names":["_defineProperty","_toConsumableArray","createVNode","_createVNode","useInjectFormItemPrefix","defineComponent","onBeforeUnmount","ref","watch","classNames","Transition","getTransitionProps","useConfigInject","name","props","setup","_useConfigInject","rootPrefixCls","prefixCls","_useInjectFormItemPre","status","visible","errors","length","innerStatus","value","timeout","cacheErrors","help","newValues","window","clearTimeout","setTimeout","_a","onDomErrorVisibleChange","call","immediate","flush","baseClassName","concat","transitionProps","onAfterLeave","default","_default","map","error","index"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useInjectFormItemPrefix } from './context';\nimport { defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport Transition, { getTransitionProps } from '../_util/transition';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport default defineComponent({\n  name: 'ErrorList',\n  props: ['errors', 'help', 'onDomErrorVisibleChange'],\n  setup: function setup(props) {\n    var _useConfigInject = useConfigInject('', props),\n        rootPrefixCls = _useConfigInject.prefixCls;\n\n    var _useInjectFormItemPre = useInjectFormItemPrefix(),\n        prefixCls = _useInjectFormItemPre.prefixCls,\n        status = _useInjectFormItemPre.status;\n\n    var visible = ref(!!(props.errors && props.errors.length));\n    var innerStatus = ref(status.value);\n    var timeout = ref();\n    var cacheErrors = ref(_toConsumableArray(props.errors));\n    watch([function () {\n      return _toConsumableArray(props.errors);\n    }, function () {\n      return props.help;\n    }], function (newValues) {\n      window.clearTimeout(timeout.value);\n\n      if (props.help) {\n        visible.value = !!(props.errors && props.errors.length);\n\n        if (visible.value) {\n          cacheErrors.value = newValues[0];\n        }\n      } else {\n        timeout.value = window.setTimeout(function () {\n          visible.value = !!(props.errors && props.errors.length);\n\n          if (visible.value) {\n            cacheErrors.value = newValues[0];\n          }\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(timeout.value);\n    }); // Memo status in same visible\n\n    watch([visible, status], function () {\n      if (visible.value && status.value) {\n        innerStatus.value = status.value;\n      }\n    });\n    watch(visible, function () {\n      var _a;\n\n      if (visible.value) {\n        (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, true);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return function () {\n      var _a;\n\n      var baseClassName = \"\".concat(prefixCls.value, \"-item-explain\");\n      var transitionProps = getTransitionProps(\"\".concat(rootPrefixCls.value, \"-show-help\"), {\n        onAfterLeave: function onAfterLeave() {\n          var _a;\n\n          (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, false);\n        }\n      });\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [visible.value ? _createVNode(\"div\", {\n            \"class\": classNames(baseClassName, _defineProperty({}, \"\".concat(baseClassName, \"-\").concat(innerStatus.value), innerStatus.value)),\n            \"key\": \"help\"\n          }, [(_a = cacheErrors.value) === null || _a === void 0 ? void 0 : _a.map(function (error, index) {\n            return _createVNode(\"div\", {\n              \"key\": index,\n              \"role\": \"alert\"\n            }, [error]);\n          })]) : null];\n        }\n      });\n    };\n  }\n});"]},"metadata":{},"sourceType":"module"}