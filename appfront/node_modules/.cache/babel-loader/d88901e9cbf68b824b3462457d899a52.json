{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport TransBtn from './TransBtn';\nimport PropTypes from '../_util/vue-types';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport { isValidElement } from '../_util/props-util';\nimport createRef from '../_util/createRef';\nimport { computed, defineComponent, nextTick, reactive, watch } from 'vue';\nimport List from '../vc-virtual-list/List';\nimport useMemo from '../_util/hooks/useMemo';\nvar OptionListProps = {\n  prefixCls: PropTypes.string,\n  id: PropTypes.string,\n  options: PropTypes.array,\n  flattenOptions: PropTypes.array,\n  height: PropTypes.number,\n  itemHeight: PropTypes.number,\n  values: PropTypes.any,\n  multiple: PropTypes.looseBool,\n  open: PropTypes.looseBool,\n  defaultActiveFirstOption: PropTypes.looseBool,\n  notFoundContent: PropTypes.any,\n  menuItemSelectedIcon: PropTypes.any,\n  childrenAsData: PropTypes.looseBool,\n  searchValue: PropTypes.string,\n  virtual: PropTypes.looseBool,\n  onSelect: PropTypes.func,\n  onToggleOpen: {\n    type: Function\n  },\n\n  /** Tell Select that some value is now active to make accessibility work */\n  onActiveValue: PropTypes.func,\n  onScroll: PropTypes.func,\n\n  /** Tell Select that mouse enter the popup to force re-render */\n  onMouseenter: PropTypes.func\n};\n/**\n * Using virtual list of option display.\n * Will fallback to dom if use customize render.\n */\n\nvar OptionList = defineComponent({\n  name: 'OptionList',\n  inheritAttrs: false,\n  slots: ['option'],\n  setup: function setup(props) {\n    var itemPrefixCls = computed(function () {\n      return \"\".concat(props.prefixCls, \"-item\");\n    });\n    var memoFlattenOptions = useMemo(function () {\n      return props.flattenOptions;\n    }, [function () {\n      return props.open;\n    }, function () {\n      return props.flattenOptions;\n    }], function (next) {\n      return next[0];\n    }); // =========================== List ===========================\n\n    var listRef = createRef();\n\n    var onListMouseDown = function onListMouseDown(event) {\n      event.preventDefault();\n    };\n\n    var scrollIntoView = function scrollIntoView(index) {\n      if (listRef.current) {\n        listRef.current.scrollTo({\n          index: index\n        });\n      }\n    }; // ========================== Active ==========================\n\n\n    var getEnabledActiveIndex = function getEnabledActiveIndex(index) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var len = memoFlattenOptions.value.length;\n\n      for (var i = 0; i < len; i += 1) {\n        var current = (index + i * offset + len) % len;\n        var _memoFlattenOptions$v = memoFlattenOptions.value[current],\n            group = _memoFlattenOptions$v.group,\n            data = _memoFlattenOptions$v.data;\n\n        if (!group && !data.disabled) {\n          return current;\n        }\n      }\n\n      return -1;\n    };\n\n    var state = reactive({\n      activeIndex: getEnabledActiveIndex(0)\n    });\n\n    var setActive = function setActive(index) {\n      var fromKeyboard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      state.activeIndex = index;\n      var info = {\n        source: fromKeyboard ? 'keyboard' : 'mouse'\n      }; // Trigger active event\n\n      var flattenItem = memoFlattenOptions.value[index];\n\n      if (!flattenItem) {\n        props.onActiveValue(null, -1, info);\n        return;\n      }\n\n      props.onActiveValue(flattenItem.data.value, index, info);\n    }; // Auto active first item when list length or searchValue changed\n\n\n    watch([function () {\n      return memoFlattenOptions.value.length;\n    }, function () {\n      return props.searchValue;\n    }], function () {\n      setActive(props.defaultActiveFirstOption !== false ? getEnabledActiveIndex(0) : -1);\n    }, {\n      immediate: true\n    }); // Auto scroll to item position in single mode\n\n    watch(function () {\n      return props.open;\n    }, function () {\n      if (!props.multiple && props.open && props.values.size === 1) {\n        var value = Array.from(props.values)[0];\n        var index = memoFlattenOptions.value.findIndex(function (_ref) {\n          var data = _ref.data;\n          return data.value === value;\n        });\n        setActive(index);\n        nextTick(function () {\n          scrollIntoView(index);\n        });\n      } // Force trigger scrollbar visible when open\n\n\n      if (props.open) {\n        nextTick(function () {\n          var _a;\n\n          (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.scrollTo(undefined);\n        });\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    }); // ========================== Values ==========================\n\n    var onSelectValue = function onSelectValue(value) {\n      if (value !== undefined) {\n        props.onSelect(value, {\n          selected: !props.values.has(value)\n        });\n      } // Single mode should always close by select\n\n\n      if (!props.multiple) {\n        props.onToggleOpen(false);\n      }\n    };\n\n    function renderItem(index) {\n      var item = memoFlattenOptions.value[index];\n      if (!item) return null;\n      var itemData = item.data || {};\n      var value = itemData.value,\n          label = itemData.label,\n          children = itemData.children;\n      var attrs = pickAttrs(itemData, true);\n      var mergedLabel = props.childrenAsData ? children : label;\n      return item ? _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"aria-label\": typeof mergedLabel === 'string' ? mergedLabel : undefined\n      }, attrs), {}, {\n        \"key\": index,\n        \"role\": \"option\",\n        \"id\": \"\".concat(props.id, \"_list_\").concat(index),\n        \"aria-selected\": props.values.has(value)\n      }), [value]) : null;\n    }\n\n    return {\n      memoFlattenOptions: memoFlattenOptions,\n      renderItem: renderItem,\n      listRef: listRef,\n      state: state,\n      onListMouseDown: onListMouseDown,\n      itemPrefixCls: itemPrefixCls,\n      setActive: setActive,\n      onSelectValue: onSelectValue,\n      onKeydown: function onKeydown(event) {\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            {\n              var offset = 0;\n\n              if (which === KeyCode.UP) {\n                offset = -1;\n              } else if (which === KeyCode.DOWN) {\n                offset = 1;\n              }\n\n              if (offset !== 0) {\n                var nextActiveIndex = getEnabledActiveIndex(state.activeIndex + offset, offset);\n                scrollIntoView(nextActiveIndex);\n                setActive(nextActiveIndex, true);\n              }\n\n              break;\n            }\n          // >>> Select\n\n          case KeyCode.ENTER:\n            {\n              // value\n              var item = memoFlattenOptions.value[state.activeIndex];\n\n              if (item && !item.data.disabled) {\n                onSelectValue(item.data.value);\n              } else {\n                onSelectValue(undefined);\n              }\n\n              if (props.open) {\n                event.preventDefault();\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              props.onToggleOpen(false);\n\n              if (props.open) {\n                event.stopPropagation();\n              }\n            }\n        }\n      },\n      onKeyup: function onKeyup() {},\n      scrollTo: function scrollTo(index) {\n        scrollIntoView(index);\n      }\n    };\n  },\n  render: function render() {\n    var renderItem = this.renderItem,\n        listRef = this.listRef,\n        onListMouseDown = this.onListMouseDown,\n        itemPrefixCls = this.itemPrefixCls,\n        setActive = this.setActive,\n        onSelectValue = this.onSelectValue,\n        memoFlattenOptions = this.memoFlattenOptions,\n        $slots = this.$slots;\n    var _this$$props = this.$props,\n        id = _this$$props.id,\n        childrenAsData = _this$$props.childrenAsData,\n        values = _this$$props.values,\n        height = _this$$props.height,\n        itemHeight = _this$$props.itemHeight,\n        menuItemSelectedIcon = _this$$props.menuItemSelectedIcon,\n        notFoundContent = _this$$props.notFoundContent,\n        virtual = _this$$props.virtual,\n        onScroll = _this$$props.onScroll,\n        onMouseenter = _this$$props.onMouseenter;\n    var renderOption = $slots.option;\n    var activeIndex = this.state.activeIndex; // ========================== Render ==========================\n\n    if (memoFlattenOptions.length === 0) {\n      return _createVNode(\"div\", {\n        \"role\": \"listbox\",\n        \"id\": \"\".concat(id, \"_list\"),\n        \"class\": \"\".concat(itemPrefixCls, \"-empty\"),\n        \"onMousedown\": onListMouseDown\n      }, [notFoundContent]);\n    }\n\n    return _createVNode(_Fragment, null, [_createVNode(\"div\", {\n      \"role\": \"listbox\",\n      \"id\": \"\".concat(id, \"_list\"),\n      \"style\": {\n        height: 0,\n        width: 0,\n        overflow: 'hidden'\n      }\n    }, [renderItem(activeIndex - 1), renderItem(activeIndex), renderItem(activeIndex + 1)]), _createVNode(List, {\n      \"itemKey\": \"key\",\n      \"ref\": listRef,\n      \"data\": memoFlattenOptions,\n      \"height\": height,\n      \"itemHeight\": itemHeight,\n      \"fullHeight\": false,\n      \"onMousedown\": onListMouseDown,\n      \"onScroll\": onScroll,\n      \"virtual\": virtual,\n      \"onMouseenter\": onMouseenter,\n      \"children\": function children(_ref2, itemIndex) {\n        var _classNames;\n\n        var group = _ref2.group,\n            groupOption = _ref2.groupOption,\n            data = _ref2.data;\n        var label = data.label,\n            key = data.key; // Group\n\n        if (group) {\n          return _createVNode(\"div\", {\n            \"class\": classNames(itemPrefixCls, \"\".concat(itemPrefixCls, \"-group\"))\n          }, [renderOption ? renderOption(data) : label !== undefined ? label : key]);\n        }\n\n        var disabled = data.disabled,\n            value = data.value,\n            title = data.title,\n            children = data.children,\n            style = data.style,\n            cls = data.class,\n            className = data.className,\n            otherProps = __rest(data, [\"disabled\", \"value\", \"title\", \"children\", \"style\", \"class\", \"className\"]); // Option\n\n\n        var selected = values.has(value);\n        var optionPrefixCls = \"\".concat(itemPrefixCls, \"-option\");\n        var optionClassName = classNames(itemPrefixCls, optionPrefixCls, cls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-grouped\"), groupOption), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-active\"), activeIndex === itemIndex && !disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-selected\"), selected), _classNames));\n        var mergedLabel = childrenAsData ? children : label;\n        var iconVisible = !menuItemSelectedIcon || typeof menuItemSelectedIcon === 'function' || selected;\n        var content = mergedLabel || value; // https://github.com/ant-design/ant-design/issues/26717\n\n        var optionTitle = typeof content === 'string' || typeof content === 'number' ? content.toString() : undefined;\n\n        if (title !== undefined) {\n          optionTitle = title;\n        }\n\n        return _createVNode(\"div\", _objectSpread(_objectSpread({}, otherProps), {}, {\n          \"aria-selected\": selected,\n          \"class\": optionClassName,\n          \"title\": optionTitle,\n          \"onMousemove\": function onMousemove(e) {\n            if (otherProps.onMousemove) {\n              otherProps.onMousemove(e);\n            }\n\n            if (activeIndex === itemIndex || disabled) {\n              return;\n            }\n\n            setActive(itemIndex);\n          },\n          \"onClick\": function onClick(e) {\n            if (!disabled) {\n              onSelectValue(value);\n            }\n\n            if (otherProps.onClick) {\n              otherProps.onClick(e);\n            }\n          },\n          \"style\": style\n        }), [_createVNode(\"div\", {\n          \"class\": \"\".concat(optionPrefixCls, \"-content\")\n        }, [renderOption ? renderOption(data) : content]), isValidElement(menuItemSelectedIcon) || selected, iconVisible && _createVNode(TransBtn, {\n          \"class\": \"\".concat(itemPrefixCls, \"-option-state\"),\n          \"customizeIcon\": menuItemSelectedIcon,\n          \"customizeIconProps\": {\n            isSelected: selected\n          }\n        }, {\n          default: function _default() {\n            return [selected ? '✓' : null];\n          }\n        })]);\n      }\n    }, null)]);\n  }\n});\nOptionList.props = OptionListProps;\nexport default OptionList;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/vc-select/OptionList.js"],"names":["_defineProperty","_objectSpread","Fragment","_Fragment","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","TransBtn","PropTypes","KeyCode","classNames","pickAttrs","isValidElement","createRef","computed","defineComponent","nextTick","reactive","watch","List","useMemo","OptionListProps","prefixCls","string","id","options","array","flattenOptions","height","number","itemHeight","values","any","multiple","looseBool","open","defaultActiveFirstOption","notFoundContent","menuItemSelectedIcon","childrenAsData","searchValue","virtual","onSelect","func","onToggleOpen","type","Function","onActiveValue","onScroll","onMouseenter","OptionList","name","inheritAttrs","slots","setup","props","itemPrefixCls","concat","memoFlattenOptions","next","listRef","onListMouseDown","event","preventDefault","scrollIntoView","index","current","scrollTo","getEnabledActiveIndex","offset","arguments","undefined","len","value","_memoFlattenOptions$v","group","data","disabled","state","activeIndex","setActive","fromKeyboard","info","source","flattenItem","immediate","size","Array","from","findIndex","_ref","_a","flush","onSelectValue","selected","has","renderItem","item","itemData","label","children","attrs","mergedLabel","onKeydown","which","UP","DOWN","nextActiveIndex","ENTER","ESC","stopPropagation","onKeyup","render","$slots","_this$$props","$props","renderOption","option","width","overflow","_ref2","itemIndex","_classNames","groupOption","key","title","style","cls","class","className","otherProps","optionPrefixCls","optionClassName","iconVisible","content","optionTitle","toString","onMousemove","onClick","isSelected","default","_default"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport TransBtn from './TransBtn';\nimport PropTypes from '../_util/vue-types';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport { isValidElement } from '../_util/props-util';\nimport createRef from '../_util/createRef';\nimport { computed, defineComponent, nextTick, reactive, watch } from 'vue';\nimport List from '../vc-virtual-list/List';\nimport useMemo from '../_util/hooks/useMemo';\nvar OptionListProps = {\n  prefixCls: PropTypes.string,\n  id: PropTypes.string,\n  options: PropTypes.array,\n  flattenOptions: PropTypes.array,\n  height: PropTypes.number,\n  itemHeight: PropTypes.number,\n  values: PropTypes.any,\n  multiple: PropTypes.looseBool,\n  open: PropTypes.looseBool,\n  defaultActiveFirstOption: PropTypes.looseBool,\n  notFoundContent: PropTypes.any,\n  menuItemSelectedIcon: PropTypes.any,\n  childrenAsData: PropTypes.looseBool,\n  searchValue: PropTypes.string,\n  virtual: PropTypes.looseBool,\n  onSelect: PropTypes.func,\n  onToggleOpen: {\n    type: Function\n  },\n\n  /** Tell Select that some value is now active to make accessibility work */\n  onActiveValue: PropTypes.func,\n  onScroll: PropTypes.func,\n\n  /** Tell Select that mouse enter the popup to force re-render */\n  onMouseenter: PropTypes.func\n};\n/**\n * Using virtual list of option display.\n * Will fallback to dom if use customize render.\n */\n\nvar OptionList = defineComponent({\n  name: 'OptionList',\n  inheritAttrs: false,\n  slots: ['option'],\n  setup: function setup(props) {\n    var itemPrefixCls = computed(function () {\n      return \"\".concat(props.prefixCls, \"-item\");\n    });\n    var memoFlattenOptions = useMemo(function () {\n      return props.flattenOptions;\n    }, [function () {\n      return props.open;\n    }, function () {\n      return props.flattenOptions;\n    }], function (next) {\n      return next[0];\n    }); // =========================== List ===========================\n\n    var listRef = createRef();\n\n    var onListMouseDown = function onListMouseDown(event) {\n      event.preventDefault();\n    };\n\n    var scrollIntoView = function scrollIntoView(index) {\n      if (listRef.current) {\n        listRef.current.scrollTo({\n          index: index\n        });\n      }\n    }; // ========================== Active ==========================\n\n\n    var getEnabledActiveIndex = function getEnabledActiveIndex(index) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var len = memoFlattenOptions.value.length;\n\n      for (var i = 0; i < len; i += 1) {\n        var current = (index + i * offset + len) % len;\n        var _memoFlattenOptions$v = memoFlattenOptions.value[current],\n            group = _memoFlattenOptions$v.group,\n            data = _memoFlattenOptions$v.data;\n\n        if (!group && !data.disabled) {\n          return current;\n        }\n      }\n\n      return -1;\n    };\n\n    var state = reactive({\n      activeIndex: getEnabledActiveIndex(0)\n    });\n\n    var setActive = function setActive(index) {\n      var fromKeyboard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      state.activeIndex = index;\n      var info = {\n        source: fromKeyboard ? 'keyboard' : 'mouse'\n      }; // Trigger active event\n\n      var flattenItem = memoFlattenOptions.value[index];\n\n      if (!flattenItem) {\n        props.onActiveValue(null, -1, info);\n        return;\n      }\n\n      props.onActiveValue(flattenItem.data.value, index, info);\n    }; // Auto active first item when list length or searchValue changed\n\n\n    watch([function () {\n      return memoFlattenOptions.value.length;\n    }, function () {\n      return props.searchValue;\n    }], function () {\n      setActive(props.defaultActiveFirstOption !== false ? getEnabledActiveIndex(0) : -1);\n    }, {\n      immediate: true\n    }); // Auto scroll to item position in single mode\n\n    watch(function () {\n      return props.open;\n    }, function () {\n      if (!props.multiple && props.open && props.values.size === 1) {\n        var value = Array.from(props.values)[0];\n        var index = memoFlattenOptions.value.findIndex(function (_ref) {\n          var data = _ref.data;\n          return data.value === value;\n        });\n        setActive(index);\n        nextTick(function () {\n          scrollIntoView(index);\n        });\n      } // Force trigger scrollbar visible when open\n\n\n      if (props.open) {\n        nextTick(function () {\n          var _a;\n\n          (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.scrollTo(undefined);\n        });\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    }); // ========================== Values ==========================\n\n    var onSelectValue = function onSelectValue(value) {\n      if (value !== undefined) {\n        props.onSelect(value, {\n          selected: !props.values.has(value)\n        });\n      } // Single mode should always close by select\n\n\n      if (!props.multiple) {\n        props.onToggleOpen(false);\n      }\n    };\n\n    function renderItem(index) {\n      var item = memoFlattenOptions.value[index];\n      if (!item) return null;\n      var itemData = item.data || {};\n      var value = itemData.value,\n          label = itemData.label,\n          children = itemData.children;\n      var attrs = pickAttrs(itemData, true);\n      var mergedLabel = props.childrenAsData ? children : label;\n      return item ? _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"aria-label\": typeof mergedLabel === 'string' ? mergedLabel : undefined\n      }, attrs), {}, {\n        \"key\": index,\n        \"role\": \"option\",\n        \"id\": \"\".concat(props.id, \"_list_\").concat(index),\n        \"aria-selected\": props.values.has(value)\n      }), [value]) : null;\n    }\n\n    return {\n      memoFlattenOptions: memoFlattenOptions,\n      renderItem: renderItem,\n      listRef: listRef,\n      state: state,\n      onListMouseDown: onListMouseDown,\n      itemPrefixCls: itemPrefixCls,\n      setActive: setActive,\n      onSelectValue: onSelectValue,\n      onKeydown: function onKeydown(event) {\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            {\n              var offset = 0;\n\n              if (which === KeyCode.UP) {\n                offset = -1;\n              } else if (which === KeyCode.DOWN) {\n                offset = 1;\n              }\n\n              if (offset !== 0) {\n                var nextActiveIndex = getEnabledActiveIndex(state.activeIndex + offset, offset);\n                scrollIntoView(nextActiveIndex);\n                setActive(nextActiveIndex, true);\n              }\n\n              break;\n            }\n          // >>> Select\n\n          case KeyCode.ENTER:\n            {\n              // value\n              var item = memoFlattenOptions.value[state.activeIndex];\n\n              if (item && !item.data.disabled) {\n                onSelectValue(item.data.value);\n              } else {\n                onSelectValue(undefined);\n              }\n\n              if (props.open) {\n                event.preventDefault();\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              props.onToggleOpen(false);\n\n              if (props.open) {\n                event.stopPropagation();\n              }\n            }\n        }\n      },\n      onKeyup: function onKeyup() {},\n      scrollTo: function scrollTo(index) {\n        scrollIntoView(index);\n      }\n    };\n  },\n  render: function render() {\n    var renderItem = this.renderItem,\n        listRef = this.listRef,\n        onListMouseDown = this.onListMouseDown,\n        itemPrefixCls = this.itemPrefixCls,\n        setActive = this.setActive,\n        onSelectValue = this.onSelectValue,\n        memoFlattenOptions = this.memoFlattenOptions,\n        $slots = this.$slots;\n    var _this$$props = this.$props,\n        id = _this$$props.id,\n        childrenAsData = _this$$props.childrenAsData,\n        values = _this$$props.values,\n        height = _this$$props.height,\n        itemHeight = _this$$props.itemHeight,\n        menuItemSelectedIcon = _this$$props.menuItemSelectedIcon,\n        notFoundContent = _this$$props.notFoundContent,\n        virtual = _this$$props.virtual,\n        onScroll = _this$$props.onScroll,\n        onMouseenter = _this$$props.onMouseenter;\n    var renderOption = $slots.option;\n    var activeIndex = this.state.activeIndex; // ========================== Render ==========================\n\n    if (memoFlattenOptions.length === 0) {\n      return _createVNode(\"div\", {\n        \"role\": \"listbox\",\n        \"id\": \"\".concat(id, \"_list\"),\n        \"class\": \"\".concat(itemPrefixCls, \"-empty\"),\n        \"onMousedown\": onListMouseDown\n      }, [notFoundContent]);\n    }\n\n    return _createVNode(_Fragment, null, [_createVNode(\"div\", {\n      \"role\": \"listbox\",\n      \"id\": \"\".concat(id, \"_list\"),\n      \"style\": {\n        height: 0,\n        width: 0,\n        overflow: 'hidden'\n      }\n    }, [renderItem(activeIndex - 1), renderItem(activeIndex), renderItem(activeIndex + 1)]), _createVNode(List, {\n      \"itemKey\": \"key\",\n      \"ref\": listRef,\n      \"data\": memoFlattenOptions,\n      \"height\": height,\n      \"itemHeight\": itemHeight,\n      \"fullHeight\": false,\n      \"onMousedown\": onListMouseDown,\n      \"onScroll\": onScroll,\n      \"virtual\": virtual,\n      \"onMouseenter\": onMouseenter,\n      \"children\": function children(_ref2, itemIndex) {\n        var _classNames;\n\n        var group = _ref2.group,\n            groupOption = _ref2.groupOption,\n            data = _ref2.data;\n        var label = data.label,\n            key = data.key; // Group\n\n        if (group) {\n          return _createVNode(\"div\", {\n            \"class\": classNames(itemPrefixCls, \"\".concat(itemPrefixCls, \"-group\"))\n          }, [renderOption ? renderOption(data) : label !== undefined ? label : key]);\n        }\n\n        var disabled = data.disabled,\n            value = data.value,\n            title = data.title,\n            children = data.children,\n            style = data.style,\n            cls = data.class,\n            className = data.className,\n            otherProps = __rest(data, [\"disabled\", \"value\", \"title\", \"children\", \"style\", \"class\", \"className\"]); // Option\n\n\n        var selected = values.has(value);\n        var optionPrefixCls = \"\".concat(itemPrefixCls, \"-option\");\n        var optionClassName = classNames(itemPrefixCls, optionPrefixCls, cls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-grouped\"), groupOption), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-active\"), activeIndex === itemIndex && !disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-selected\"), selected), _classNames));\n        var mergedLabel = childrenAsData ? children : label;\n        var iconVisible = !menuItemSelectedIcon || typeof menuItemSelectedIcon === 'function' || selected;\n        var content = mergedLabel || value; // https://github.com/ant-design/ant-design/issues/26717\n\n        var optionTitle = typeof content === 'string' || typeof content === 'number' ? content.toString() : undefined;\n\n        if (title !== undefined) {\n          optionTitle = title;\n        }\n\n        return _createVNode(\"div\", _objectSpread(_objectSpread({}, otherProps), {}, {\n          \"aria-selected\": selected,\n          \"class\": optionClassName,\n          \"title\": optionTitle,\n          \"onMousemove\": function onMousemove(e) {\n            if (otherProps.onMousemove) {\n              otherProps.onMousemove(e);\n            }\n\n            if (activeIndex === itemIndex || disabled) {\n              return;\n            }\n\n            setActive(itemIndex);\n          },\n          \"onClick\": function onClick(e) {\n            if (!disabled) {\n              onSelectValue(value);\n            }\n\n            if (otherProps.onClick) {\n              otherProps.onClick(e);\n            }\n          },\n          \"style\": style\n        }), [_createVNode(\"div\", {\n          \"class\": \"\".concat(optionPrefixCls, \"-content\")\n        }, [renderOption ? renderOption(data) : content]), isValidElement(menuItemSelectedIcon) || selected, iconVisible && _createVNode(TransBtn, {\n          \"class\": \"\".concat(itemPrefixCls, \"-option-state\"),\n          \"customizeIcon\": menuItemSelectedIcon,\n          \"customizeIconProps\": {\n            isSelected: selected\n          }\n        }, {\n          default: function _default() {\n            return [selected ? '✓' : null];\n          }\n        })]);\n      }\n    }, null)]);\n  }\n});\nOptionList.props = OptionListProps;\nexport default OptionList;"]},"metadata":{},"sourceType":"module"}