{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router'; // import store from './store'\n\nimport Antd from 'ant-design-vue';\nimport 'ant-design-vue/dist/antd.css'; // import Button from 'ant-design-vue/lib/button';\n// import 'ant-design-vue/dist/antd.css';\n// Vue.component(Button.name, Button);\n// createApp(App).use(store).use(router).mount('#app')\n// const app = createApp(App);\n// app.use(Antd).mount('#app');\n\nconst app = createApp(App).use(Antd).use(router);\napp.mount(\"#app\"); //路由守卫\n\nrouter.beforeEach((to, from, next) => {\n  //路由中设置的needLogin字段就在to当中 \n  if (window.sessionStorage.data) {\n    console.log(window.sessionStorage); // console.log(to.path) //每次跳转的路径\n\n    if (to.path === '/') {\n      //登录状态下 访问login.vue页面 会跳到index.vue\n      next({\n        path: '/worker'\n      });\n    } else {\n      next();\n    }\n  } else {\n    // 如果没有session ,访问任何页面。都会进入到 登录页\n    if (to.path === '/') {\n      // 如果是登录页面的话，直接next() -->解决注销后的循环执行bug\n      next();\n    } else {\n      // 否则 跳转到登录页面\n      next({\n        path: '/login'\n      });\n    }\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/src/main.js"],"names":["createApp","App","router","Antd","app","use","mount","beforeEach","to","from","next","window","sessionStorage","data","console","log","path"],"mappings":"AAAA,SAASA,SAAT,QAA0B,KAA1B;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAO,8BAAP,C,CAEA;AACA;AAEA;AACA;AACA;AAEA;;AACA,MAAMC,GAAG,GAAGJ,SAAS,CAACC,GAAD,CAAT,CAAeI,GAAf,CAAmBF,IAAnB,EAAyBE,GAAzB,CAA6BH,MAA7B,CAAZ;AACAE,GAAG,CAACE,KAAJ,CAAU,MAAV,E,CAGA;;AACAJ,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAkB;AAChC;AACA,MAAGC,MAAM,CAACC,cAAP,CAAsBC,IAAzB,EAA8B;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACC,cAAnB,EAD4B,CAE5B;;AACA,QAAGJ,EAAE,CAACQ,IAAH,KAAY,GAAf,EAAmB;AACjB;AACAN,MAAAA,IAAI,CAAC;AAACM,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AACD,KAHD,MAGK;AACHN,MAAAA,IAAI;AACL;AACF,GATD,MASK;AACH;AACA,QAAIF,EAAE,CAACQ,IAAH,KAAY,GAAhB,EAAqB;AAAE;AACrBN,MAAAA,IAAI;AACL,KAFD,MAEO;AAAE;AACPA,MAAAA,IAAI,CAAC;AAAEM,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD;AACF;AACJ,CAnBD","sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n// import store from './store'\nimport Antd from 'ant-design-vue'\nimport 'ant-design-vue/dist/antd.css'\n\n// import Button from 'ant-design-vue/lib/button';\n// import 'ant-design-vue/dist/antd.css';\n\n// Vue.component(Button.name, Button);\n// createApp(App).use(store).use(router).mount('#app')\n// const app = createApp(App);\n\n// app.use(Antd).mount('#app');\nconst app = createApp(App).use(Antd).use(router);\napp.mount(\"#app\");\n\n\n//路由守卫\nrouter.beforeEach((to, from, next)=>{\n    //路由中设置的needLogin字段就在to当中 \n    if(window.sessionStorage.data){\n      console.log(window.sessionStorage);\n      // console.log(to.path) //每次跳转的路径\n      if(to.path === '/'){\n        //登录状态下 访问login.vue页面 会跳到index.vue\n        next({path: '/worker'});\n      }else{\n        next();\n      }\n    }else{\n      // 如果没有session ,访问任何页面。都会进入到 登录页\n      if (to.path === '/') { // 如果是登录页面的话，直接next() -->解决注销后的循环执行bug\n        next();\n      } else { // 否则 跳转到登录页面\n        next({ path: '/login' });\n      }\n    }\n})"]},"metadata":{},"sourceType":"module"}