{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { getPropsSlot } from '../_util/props-util';\nimport classNames from '../_util/classNames';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport { useInjectAnchor } from './context';\nvar anchorLinkProps = {\n  prefixCls: PropTypes.string,\n  href: PropTypes.string.def('#'),\n  title: PropTypes.VNodeChild,\n  target: PropTypes.string\n};\nexport default defineComponent({\n  name: 'AAnchorLink',\n  props: anchorLinkProps,\n  slots: ['title'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var mergedTitle = null;\n\n    var _useInjectAnchor = useInjectAnchor(),\n        contextHandleClick = _useInjectAnchor.handleClick,\n        scrollTo = _useInjectAnchor.scrollTo,\n        unregisterLink = _useInjectAnchor.unregisterLink,\n        registerLink = _useInjectAnchor.registerLink,\n        activeLink = _useInjectAnchor.activeLink;\n\n    var _useConfigInject = useConfigInject('anchor', props),\n        prefixCls = _useConfigInject.prefixCls;\n\n    var handleClick = function handleClick(e) {\n      var href = props.href;\n      contextHandleClick(e, {\n        title: mergedTitle,\n        href: href\n      });\n      scrollTo(href);\n    };\n\n    watch(function () {\n      return props.href;\n    }, function (val, oldVal) {\n      nextTick(function () {\n        unregisterLink(oldVal);\n        registerLink(val);\n      });\n    });\n    onMounted(function () {\n      registerLink(props.href);\n    });\n    onBeforeUnmount(function () {\n      unregisterLink(props.href);\n    });\n    return function () {\n      var _a;\n\n      var href = props.href,\n          target = props.target;\n      var pre = prefixCls.value;\n      var title = getPropsSlot(slots, props, 'title');\n      mergedTitle = title;\n      var active = activeLink.value === href;\n      var wrapperClassName = classNames(\"\".concat(pre, \"-link\"), _defineProperty({}, \"\".concat(pre, \"-link-active\"), active));\n      var titleClassName = classNames(\"\".concat(pre, \"-link-title\"), _defineProperty({}, \"\".concat(pre, \"-link-title-active\"), active));\n      return _createVNode(\"div\", {\n        \"class\": wrapperClassName\n      }, [_createVNode(\"a\", {\n        \"class\": titleClassName,\n        \"href\": href,\n        \"title\": typeof title === 'string' ? title : '',\n        \"target\": target,\n        \"onClick\": handleClick\n      }, [title]), (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n    };\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/anchor/AnchorLink.js"],"names":["_defineProperty","createVNode","_createVNode","defineComponent","nextTick","onBeforeUnmount","onMounted","watch","PropTypes","getPropsSlot","classNames","useConfigInject","useInjectAnchor","anchorLinkProps","prefixCls","string","href","def","title","VNodeChild","target","name","props","slots","setup","_ref","mergedTitle","_useInjectAnchor","contextHandleClick","handleClick","scrollTo","unregisterLink","registerLink","activeLink","_useConfigInject","e","val","oldVal","_a","pre","value","active","wrapperClassName","concat","titleClassName","default","call"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { getPropsSlot } from '../_util/props-util';\nimport classNames from '../_util/classNames';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport { useInjectAnchor } from './context';\nvar anchorLinkProps = {\n  prefixCls: PropTypes.string,\n  href: PropTypes.string.def('#'),\n  title: PropTypes.VNodeChild,\n  target: PropTypes.string\n};\nexport default defineComponent({\n  name: 'AAnchorLink',\n  props: anchorLinkProps,\n  slots: ['title'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var mergedTitle = null;\n\n    var _useInjectAnchor = useInjectAnchor(),\n        contextHandleClick = _useInjectAnchor.handleClick,\n        scrollTo = _useInjectAnchor.scrollTo,\n        unregisterLink = _useInjectAnchor.unregisterLink,\n        registerLink = _useInjectAnchor.registerLink,\n        activeLink = _useInjectAnchor.activeLink;\n\n    var _useConfigInject = useConfigInject('anchor', props),\n        prefixCls = _useConfigInject.prefixCls;\n\n    var handleClick = function handleClick(e) {\n      var href = props.href;\n      contextHandleClick(e, {\n        title: mergedTitle,\n        href: href\n      });\n      scrollTo(href);\n    };\n\n    watch(function () {\n      return props.href;\n    }, function (val, oldVal) {\n      nextTick(function () {\n        unregisterLink(oldVal);\n        registerLink(val);\n      });\n    });\n    onMounted(function () {\n      registerLink(props.href);\n    });\n    onBeforeUnmount(function () {\n      unregisterLink(props.href);\n    });\n    return function () {\n      var _a;\n\n      var href = props.href,\n          target = props.target;\n      var pre = prefixCls.value;\n      var title = getPropsSlot(slots, props, 'title');\n      mergedTitle = title;\n      var active = activeLink.value === href;\n      var wrapperClassName = classNames(\"\".concat(pre, \"-link\"), _defineProperty({}, \"\".concat(pre, \"-link-active\"), active));\n      var titleClassName = classNames(\"\".concat(pre, \"-link-title\"), _defineProperty({}, \"\".concat(pre, \"-link-title-active\"), active));\n      return _createVNode(\"div\", {\n        \"class\": wrapperClassName\n      }, [_createVNode(\"a\", {\n        \"class\": titleClassName,\n        \"href\": href,\n        \"title\": typeof title === 'string' ? title : '',\n        \"target\": target,\n        \"onClick\": handleClick\n      }, [title]), (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n    };\n  }\n});"]},"metadata":{},"sourceType":"module"}