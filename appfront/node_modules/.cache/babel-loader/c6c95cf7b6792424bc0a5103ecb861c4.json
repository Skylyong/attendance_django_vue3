{"ast":null,"code":"var staticStrFirst = require('./staticStrFirst');\n\nvar staticStrLast = require('./staticStrLast');\n\nvar staticParseInt = require('./staticParseInt');\n\nvar helperGetDateFullYear = require('./helperGetDateFullYear');\n\nvar helperGetDateMonth = require('./helperGetDateMonth');\n\nvar helperGetDateTime = require('./helperGetDateTime');\n\nvar toStringDate = require('./toStringDate');\n\nvar isValidDate = require('./isValidDate');\n/**\r\n  * 返回前几天或后几天的日期\r\n  *\r\n  * @param {Date} date 日期或数字\r\n  * @param {Number} offset 天(默认当天)、前几天、后几天\r\n  * @param {String} mode 获取时分秒(null默认当前时分秒)、日初(first)、日末(last)\r\n  * @return {Date}\r\n  */\n\n\nfunction getWhatDay(date, offset, mode) {\n  date = toStringDate(date);\n\n  if (isValidDate(date) && !isNaN(offset)) {\n    date.setDate(date.getDate() + staticParseInt(offset));\n\n    if (mode === staticStrFirst) {\n      return new Date(helperGetDateFullYear(date), helperGetDateMonth(date), date.getDate());\n    } else if (mode === staticStrLast) {\n      return new Date(helperGetDateTime(getWhatDay(date, 1, staticStrFirst)) - 1);\n    }\n  }\n\n  return date;\n}\n\nmodule.exports = getWhatDay;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/getWhatDay.js"],"names":["staticStrFirst","require","staticStrLast","staticParseInt","helperGetDateFullYear","helperGetDateMonth","helperGetDateTime","toStringDate","isValidDate","getWhatDay","date","offset","mode","isNaN","setDate","getDate","Date","module","exports"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,kBAAD,CAA5B;;AAEA,IAAIG,qBAAqB,GAAGH,OAAO,CAAC,yBAAD,CAAnC;;AACA,IAAII,kBAAkB,GAAGJ,OAAO,CAAC,sBAAD,CAAhC;;AACA,IAAIK,iBAAiB,GAAGL,OAAO,CAAC,qBAAD,CAA/B;;AAEA,IAAIM,YAAY,GAAGN,OAAO,CAAC,gBAAD,CAA1B;;AACA,IAAIO,WAAW,GAAGP,OAAO,CAAC,eAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASQ,UAAT,CAAqBC,IAArB,EAA2BC,MAA3B,EAAmCC,IAAnC,EAAyC;AACvCF,EAAAA,IAAI,GAAGH,YAAY,CAACG,IAAD,CAAnB;;AACA,MAAIF,WAAW,CAACE,IAAD,CAAX,IAAqB,CAACG,KAAK,CAACF,MAAD,CAA/B,EAAyC;AACvCD,IAAAA,IAAI,CAACI,OAAL,CAAaJ,IAAI,CAACK,OAAL,KAAiBZ,cAAc,CAACQ,MAAD,CAA5C;;AACA,QAAIC,IAAI,KAAKZ,cAAb,EAA6B;AAC3B,aAAO,IAAIgB,IAAJ,CAASZ,qBAAqB,CAACM,IAAD,CAA9B,EAAsCL,kBAAkB,CAACK,IAAD,CAAxD,EAAgEA,IAAI,CAACK,OAAL,EAAhE,CAAP;AACD,KAFD,MAEO,IAAIH,IAAI,KAAKV,aAAb,EAA4B;AACjC,aAAO,IAAIc,IAAJ,CAASV,iBAAiB,CAACG,UAAU,CAACC,IAAD,EAAO,CAAP,EAAUV,cAAV,CAAX,CAAjB,GAAyD,CAAlE,CAAP;AACD;AACF;;AACD,SAAOU,IAAP;AACD;;AAEDO,MAAM,CAACC,OAAP,GAAiBT,UAAjB","sourcesContent":["var staticStrFirst = require('./staticStrFirst')\r\nvar staticStrLast = require('./staticStrLast')\r\nvar staticParseInt = require('./staticParseInt')\r\n\r\nvar helperGetDateFullYear = require('./helperGetDateFullYear')\r\nvar helperGetDateMonth = require('./helperGetDateMonth')\r\nvar helperGetDateTime = require('./helperGetDateTime')\r\n\r\nvar toStringDate = require('./toStringDate')\r\nvar isValidDate = require('./isValidDate')\r\n\r\n/**\r\n  * 返回前几天或后几天的日期\r\n  *\r\n  * @param {Date} date 日期或数字\r\n  * @param {Number} offset 天(默认当天)、前几天、后几天\r\n  * @param {String} mode 获取时分秒(null默认当前时分秒)、日初(first)、日末(last)\r\n  * @return {Date}\r\n  */\r\nfunction getWhatDay (date, offset, mode) {\r\n  date = toStringDate(date)\r\n  if (isValidDate(date) && !isNaN(offset)) {\r\n    date.setDate(date.getDate() + staticParseInt(offset))\r\n    if (mode === staticStrFirst) {\r\n      return new Date(helperGetDateFullYear(date), helperGetDateMonth(date), date.getDate())\r\n    } else if (mode === staticStrLast) {\r\n      return new Date(helperGetDateTime(getWhatDay(date, 1, staticStrFirst)) - 1)\r\n    }\r\n  }\r\n  return date\r\n}\r\n\r\nmodule.exports = getWhatDay\r\n"]},"metadata":{},"sourceType":"script"}