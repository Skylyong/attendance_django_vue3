{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { provide, inject, cloneVNode, defineComponent } from 'vue';\nimport RcDropdown from '../vc-dropdown/src/index';\nimport DropdownButton from './dropdown-button';\nimport PropTypes from '../_util/vue-types';\nimport { cloneElement } from '../_util/vnode';\nimport classNames from '../_util/classNames';\nimport { getOptionProps, getPropsData, getComponent, isValidElement, getSlot } from '../_util/props-util';\nimport getDropdownProps from './getDropdownProps';\nimport { defaultConfigProvider } from '../config-provider';\nimport RightOutlined from '@ant-design/icons-vue/RightOutlined';\nvar dropdownProps = getDropdownProps();\nvar Dropdown = defineComponent({\n  name: 'ADropdown',\n  inheritAttrs: false,\n  props: _extends(_extends({}, dropdownProps), {\n    prefixCls: PropTypes.string,\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    placement: dropdownProps.placement.def('bottomLeft'),\n    onVisibleChange: PropTypes.func,\n    'onUpdate:visible': PropTypes.func\n  }),\n  emits: ['visibleChange', 'update:visible'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      popupRef: null\n    };\n  },\n  created: function created() {\n    provide('savePopupRef', this.savePopupRef);\n  },\n  methods: {\n    savePopupRef: function savePopupRef(ref) {\n      this.popupRef = ref;\n    },\n    getTransitionName: function getTransitionName() {\n      var _this$$props = this.$props,\n          _this$$props$placemen = _this$$props.placement,\n          placement = _this$$props$placemen === void 0 ? '' : _this$$props$placemen,\n          transitionName = _this$$props.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n\n      return 'slide-up';\n    },\n    renderOverlay: function renderOverlay(prefixCls) {\n      var overlay = getComponent(this, 'overlay');\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay; // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n\n      var overlayProps = overlayNode && getPropsData(overlayNode);\n\n      var _ref = overlayProps || {},\n          _ref$selectable = _ref.selectable,\n          selectable = _ref$selectable === void 0 ? false : _ref$selectable,\n          _ref$focusable = _ref.focusable,\n          focusable = _ref$focusable === void 0 ? true : _ref$focusable;\n\n      var expandIcon = function expandIcon() {\n        return _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls, \"-menu-submenu-arrow\")\n        }, [_createVNode(RightOutlined, {\n          \"class\": \"\".concat(prefixCls, \"-menu-submenu-arrow-icon\")\n        }, null)]);\n      };\n\n      var fixedModeOverlay = isValidElement(overlayNode) ? cloneVNode(overlayNode, {\n        mode: 'vertical',\n        selectable: selectable,\n        focusable: focusable,\n        expandIcon: expandIcon\n      }) : overlay;\n      return fixedModeOverlay;\n    },\n    handleVisibleChange: function handleVisibleChange(val) {\n      this.$emit('update:visible', val);\n      this.$emit('visibleChange', val);\n    }\n  },\n  render: function render() {\n    var _a;\n\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        trigger = props.trigger,\n        disabled = props.disabled,\n        getPopupContainer = props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n    var child = getSlot(this)[0];\n    var dropdownTrigger = cloneElement(child, {\n      class: classNames((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.class, \"\".concat(prefixCls, \"-trigger\")),\n      disabled: disabled\n    });\n    var triggerActions = disabled ? [] : typeof trigger === 'string' ? [trigger] : trigger;\n    var alignPoint;\n\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\n      alignPoint = true;\n    }\n\n    var dropdownProps = _extends(_extends(_extends({\n      alignPoint: alignPoint\n    }, props), this.$attrs), {\n      prefixCls: prefixCls,\n      getPopupContainer: getPopupContainer || getContextPopupContainer,\n      transitionName: this.getTransitionName(),\n      trigger: triggerActions,\n      overlay: this.renderOverlay(prefixCls),\n      onVisibleChange: this.handleVisibleChange\n    });\n\n    return _createVNode(RcDropdown, dropdownProps, {\n      default: function _default() {\n        return [dropdownTrigger];\n      }\n    });\n  }\n});\nDropdown.Button = DropdownButton;\nexport default Dropdown;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/dropdown/dropdown.js"],"names":["_extends","createVNode","_createVNode","provide","inject","cloneVNode","defineComponent","RcDropdown","DropdownButton","PropTypes","cloneElement","classNames","getOptionProps","getPropsData","getComponent","isValidElement","getSlot","getDropdownProps","defaultConfigProvider","RightOutlined","dropdownProps","Dropdown","name","inheritAttrs","props","prefixCls","string","mouseEnterDelay","number","def","mouseLeaveDelay","placement","onVisibleChange","func","emits","setup","configProvider","popupRef","created","savePopupRef","methods","ref","getTransitionName","_this$$props","$props","_this$$props$placemen","transitionName","undefined","indexOf","renderOverlay","overlay","overlayNode","Array","isArray","overlayProps","_ref","_ref$selectable","selectable","_ref$focusable","focusable","expandIcon","concat","fixedModeOverlay","mode","handleVisibleChange","val","$emit","render","_a","customizePrefixCls","trigger","disabled","getPopupContainer","getContextPopupContainer","getPrefixCls","child","dropdownTrigger","class","triggerActions","alignPoint","$attrs","default","_default","Button"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { provide, inject, cloneVNode, defineComponent } from 'vue';\nimport RcDropdown from '../vc-dropdown/src/index';\nimport DropdownButton from './dropdown-button';\nimport PropTypes from '../_util/vue-types';\nimport { cloneElement } from '../_util/vnode';\nimport classNames from '../_util/classNames';\nimport { getOptionProps, getPropsData, getComponent, isValidElement, getSlot } from '../_util/props-util';\nimport getDropdownProps from './getDropdownProps';\nimport { defaultConfigProvider } from '../config-provider';\nimport RightOutlined from '@ant-design/icons-vue/RightOutlined';\nvar dropdownProps = getDropdownProps();\nvar Dropdown = defineComponent({\n  name: 'ADropdown',\n  inheritAttrs: false,\n  props: _extends(_extends({}, dropdownProps), {\n    prefixCls: PropTypes.string,\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    placement: dropdownProps.placement.def('bottomLeft'),\n    onVisibleChange: PropTypes.func,\n    'onUpdate:visible': PropTypes.func\n  }),\n  emits: ['visibleChange', 'update:visible'],\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      popupRef: null\n    };\n  },\n  created: function created() {\n    provide('savePopupRef', this.savePopupRef);\n  },\n  methods: {\n    savePopupRef: function savePopupRef(ref) {\n      this.popupRef = ref;\n    },\n    getTransitionName: function getTransitionName() {\n      var _this$$props = this.$props,\n          _this$$props$placemen = _this$$props.placement,\n          placement = _this$$props$placemen === void 0 ? '' : _this$$props$placemen,\n          transitionName = _this$$props.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n\n      return 'slide-up';\n    },\n    renderOverlay: function renderOverlay(prefixCls) {\n      var overlay = getComponent(this, 'overlay');\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay; // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n\n      var overlayProps = overlayNode && getPropsData(overlayNode);\n\n      var _ref = overlayProps || {},\n          _ref$selectable = _ref.selectable,\n          selectable = _ref$selectable === void 0 ? false : _ref$selectable,\n          _ref$focusable = _ref.focusable,\n          focusable = _ref$focusable === void 0 ? true : _ref$focusable;\n\n      var expandIcon = function expandIcon() {\n        return _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls, \"-menu-submenu-arrow\")\n        }, [_createVNode(RightOutlined, {\n          \"class\": \"\".concat(prefixCls, \"-menu-submenu-arrow-icon\")\n        }, null)]);\n      };\n\n      var fixedModeOverlay = isValidElement(overlayNode) ? cloneVNode(overlayNode, {\n        mode: 'vertical',\n        selectable: selectable,\n        focusable: focusable,\n        expandIcon: expandIcon\n      }) : overlay;\n      return fixedModeOverlay;\n    },\n    handleVisibleChange: function handleVisibleChange(val) {\n      this.$emit('update:visible', val);\n      this.$emit('visibleChange', val);\n    }\n  },\n  render: function render() {\n    var _a;\n\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        trigger = props.trigger,\n        disabled = props.disabled,\n        getPopupContainer = props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n    var child = getSlot(this)[0];\n    var dropdownTrigger = cloneElement(child, {\n      class: classNames((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.class, \"\".concat(prefixCls, \"-trigger\")),\n      disabled: disabled\n    });\n    var triggerActions = disabled ? [] : typeof trigger === 'string' ? [trigger] : trigger;\n    var alignPoint;\n\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\n      alignPoint = true;\n    }\n\n    var dropdownProps = _extends(_extends(_extends({\n      alignPoint: alignPoint\n    }, props), this.$attrs), {\n      prefixCls: prefixCls,\n      getPopupContainer: getPopupContainer || getContextPopupContainer,\n      transitionName: this.getTransitionName(),\n      trigger: triggerActions,\n      overlay: this.renderOverlay(prefixCls),\n      onVisibleChange: this.handleVisibleChange\n    });\n\n    return _createVNode(RcDropdown, dropdownProps, {\n      default: function _default() {\n        return [dropdownTrigger];\n      }\n    });\n  }\n});\nDropdown.Button = DropdownButton;\nexport default Dropdown;"]},"metadata":{},"sourceType":"module"}