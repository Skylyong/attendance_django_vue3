{"ast":null,"code":"import * as user from \"./../api/login\";\nexport default {\n  data() {\n    return {\n      formLayout: \"horizontal\",\n      form: this.$form.createForm(this, {\n        name: \"coordinated\"\n      }),\n      loading: false\n    };\n  },\n\n  methods: {\n    forgetPass() {\n      this.$router.push(\"/forgetPassWord\");\n    },\n\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          this.loading = true;\n          const loginForm = this.form.getFieldsValue();\n          user.login(loginForm).then(res => {\n            this.loading = false;\n\n            if (res.data.code !== 0) {\n              this.$message.error(res.data.msg);\n              return;\n            }\n\n            this.$router.push(\"/mainPage\");\n            this.$message.success(\"登录成功\");\n          }).catch(error => {\n            this.$message.err(\"系统错误,请稍后再试\");\n          });\n        }\n      });\n    } // handleSelectChange(value) {\n    //   console.log(value);\n    //   this.form.setFieldsValue({\n    //     note: `Hi, ${value === \"male\" ? \"man\" : \"lady\"}!`\n    //   });\n    // }\n\n\n  }\n};","map":{"version":3,"mappings":"AAyCA,OAAO,KAAKA,IAAZ,MAAsB,gBAAtB;AACA,eAAe;AACbC,MAAI,GAAG;AACL,WAAO;AACLC,gBAAU,EAAE,YADP;AAELC,UAAI,EAAE,KAAKC,KAAL,CAAWC,UAAX,CAAsB,IAAtB,EAA4B;AAAEC,YAAI,EAAE;AAAR,OAA5B,CAFD;AAGLC,aAAO,EAAE;AAHJ,KAAP;AAKD,GAPY;;AAQbC,SAAO,EAAE;AACPC,cAAU,GAAG;AACX,WAAKC,OAAL,CAAaC,IAAb,CAAkB,iBAAlB;AACD,KAHM;;AAIPC,gBAAY,CAACC,CAAD,EAAI;AACdA,OAAC,CAACC,cAAF;AACA,WAAKX,IAAL,CAAUY,cAAV,CAAyB,CAACC,GAAD,EAAMC,MAAN,KAAiB;AACxC,YAAI,CAACD,GAAL,EAAU;AACR,eAAKT,OAAL,GAAe,IAAf;AACA,gBAAMW,SAAQ,GAAI,KAAKf,IAAL,CAAUgB,cAAV,EAAlB;AACAnB,cAAG,CACAoB,KADH,CACSF,SADT,EAEGG,IAFH,CAEQC,GAAE,IAAK;AACX,iBAAKf,OAAL,GAAe,KAAf;;AACA,gBAAIe,GAAG,CAACrB,IAAJ,CAASsB,IAAT,KAAkB,CAAtB,EAAyB;AACvB,mBAAKC,QAAL,CAAcC,KAAd,CAAoBH,GAAG,CAACrB,IAAJ,CAASyB,GAA7B;AACA;AACF;;AACA,iBAAKhB,OAAL,CAAaC,IAAb,CAAkB,WAAlB;AACA,iBAAKa,QAAL,CAAcG,OAAd,CAAsB,MAAtB;AACD,WAVH,EAWGC,KAXH,CAWSH,KAAI,IAAK;AACd,iBAAKD,QAAL,CAAcR,GAAd,CAAkB,YAAlB;AACD,WAbH;AAcF;AACD,OAnBD;AAoBD,KA1BM,CA2BP;AACA;AACA;AACA;AACA;AACA;;;AAhCO;AARI,CAAf","names":["user","data","formLayout","form","$form","createForm","name","loading","methods","forgetPass","$router","push","handleSubmit","e","preventDefault","validateFields","err","values","loginForm","getFieldsValue","login","then","res","code","$message","error","msg","success","catch"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/views/login.vue"],"sourcesContent":["<template>\n  <a-form\n    :form=\"form\"\n    :label-col=\"{ span: 5 }\"\n    :wrapper-col=\"{ span: 12 }\"\n    @submit=\"handleSubmit\"\n    class=\"login-box\"\n  >\n    <h3 class=\"login-title\">欢迎登录</h3>\n    <a-form-item label=\"账号\">\n      <a-input\n        style=\"width:200px;\"\n        allowClear\n        v-decorator=\"[\n          'username',\n          { rules: [{ required: true, message: '请输入账号' }] }\n        ]\"\n      >\n      </a-input>\n    </a-form-item>\n    <a-form-item label=\"密码\">\n      <a-input-password\n        style=\"width:200px;\"\n        v-decorator=\"[\n          'password',\n          { rules: [{ required: true, message: '请输入密码' }] }\n        ]\"\n      />\n    </a-form-item>\n    <a-form-item :wrapper-col=\"{ span: 16, offset: 5 }\">\n      <a-button type=\"primary\" @click=\"handleSubmit\" :loading=\"loading\"\n        >登录</a-button\n      >\n      <a-button type=\"default\" style=\"margin-left:10px\" @click=\"forgetPass\"\n        >忘记密码</a-button\n      >\n    </a-form-item>\n  </a-form>\n</template>\n \n<script>\nimport * as user from \"./../api/login\";\nexport default {\n  data() {\n    return {\n      formLayout: \"horizontal\",\n      form: this.$form.createForm(this, { name: \"coordinated\" }),\n      loading: false\n    };\n  },\n  methods: {\n    forgetPass() {\n      this.$router.push(\"/forgetPassWord\");\n    },\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          this.loading = true;\n          const loginForm = this.form.getFieldsValue();\n          user\n            .login(loginForm)\n            .then(res => {\n              this.loading = false;\n              if (res.data.code !== 0) {\n                this.$message.error(res.data.msg);\n                return;\n              }\n              this.$router.push(\"/mainPage\");\n              this.$message.success(\"登录成功\");\n            })\n            .catch(error => {\n              this.$message.err(\"系统错误,请稍后再试\");\n            });\n        }\n      });\n    },\n    // handleSelectChange(value) {\n    //   console.log(value);\n    //   this.form.setFieldsValue({\n    //     note: `Hi, ${value === \"male\" ? \"man\" : \"lady\"}!`\n    //   });\n    // }\n  }\n};\n</script>\n \n<style scoped>\n.login-box {\n  border: 1px solid #dcdfe6;\n  width: 350px;\n  margin: 180px auto;\n  padding: 35px 35px 15px 35px;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  box-shadow: 0 0 25px #909399;\n}\n \n.login-title {\n  text-align: center;\n  margin: 0 auto 40px auto;\n  color: #303133;\n}\n</style>"]},"metadata":{},"sourceType":"module"}