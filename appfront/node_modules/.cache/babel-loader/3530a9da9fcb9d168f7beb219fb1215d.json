{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from '../../../_util/raf';\nimport { onMounted, reactive, ref } from 'vue';\nexport default function useFrameSetState(initial) {\n  var frame = ref(null);\n  var state = reactive(_extends({}, initial));\n  var queue = ref([]);\n\n  var setFrameState = function setFrameState(newState) {\n    if (frame.value === null) {\n      queue.value = [];\n      frame.value = raf(function () {\n        var memoState;\n        queue.value.forEach(function (queueState) {\n          memoState = _extends(_extends({}, memoState), queueState);\n        });\n\n        _extends(state, memoState);\n\n        frame.value = null;\n      });\n    }\n\n    queue.value.push(newState);\n  };\n\n  onMounted(function () {\n    frame.value && raf.cancel(frame.value);\n  });\n  return [state, setFrameState];\n}","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-image/src/hooks/useFrameSetState.js"],"names":["_extends","raf","onMounted","reactive","ref","useFrameSetState","initial","frame","state","queue","setFrameState","newState","value","memoState","forEach","queueState","push","cancel"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,GAA9B,QAAyC,KAAzC;AACA,eAAe,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;AAChD,MAAIC,KAAK,GAAGH,GAAG,CAAC,IAAD,CAAf;AACA,MAAII,KAAK,GAAGL,QAAQ,CAACH,QAAQ,CAAC,EAAD,EAAKM,OAAL,CAAT,CAApB;AACA,MAAIG,KAAK,GAAGL,GAAG,CAAC,EAAD,CAAf;;AAEA,MAAIM,aAAa,GAAG,SAASA,aAAT,CAAuBC,QAAvB,EAAiC;AACnD,QAAIJ,KAAK,CAACK,KAAN,KAAgB,IAApB,EAA0B;AACxBH,MAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACAL,MAAAA,KAAK,CAACK,KAAN,GAAcX,GAAG,CAAC,YAAY;AAC5B,YAAIY,SAAJ;AACAJ,QAAAA,KAAK,CAACG,KAAN,CAAYE,OAAZ,CAAoB,UAAUC,UAAV,EAAsB;AACxCF,UAAAA,SAAS,GAAGb,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKa,SAAL,CAAT,EAA0BE,UAA1B,CAApB;AACD,SAFD;;AAIAf,QAAAA,QAAQ,CAACQ,KAAD,EAAQK,SAAR,CAAR;;AAEAN,QAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;AACD,OATgB,CAAjB;AAUD;;AAEDH,IAAAA,KAAK,CAACG,KAAN,CAAYI,IAAZ,CAAiBL,QAAjB;AACD,GAhBD;;AAkBAT,EAAAA,SAAS,CAAC,YAAY;AACpBK,IAAAA,KAAK,CAACK,KAAN,IAAeX,GAAG,CAACgB,MAAJ,CAAWV,KAAK,CAACK,KAAjB,CAAf;AACD,GAFQ,CAAT;AAGA,SAAO,CAACJ,KAAD,EAAQE,aAAR,CAAP;AACD","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from '../../../_util/raf';\nimport { onMounted, reactive, ref } from 'vue';\nexport default function useFrameSetState(initial) {\n  var frame = ref(null);\n  var state = reactive(_extends({}, initial));\n  var queue = ref([]);\n\n  var setFrameState = function setFrameState(newState) {\n    if (frame.value === null) {\n      queue.value = [];\n      frame.value = raf(function () {\n        var memoState;\n        queue.value.forEach(function (queueState) {\n          memoState = _extends(_extends({}, memoState), queueState);\n        });\n\n        _extends(state, memoState);\n\n        frame.value = null;\n      });\n    }\n\n    queue.value.push(newState);\n  };\n\n  onMounted(function () {\n    frame.value && raf.cancel(frame.value);\n  });\n  return [state, setFrameState];\n}"]},"metadata":{},"sourceType":"module"}