{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport { setTransform, isTransform3dSupported, getLeft, getStyle, getTop, getActiveIndex } from './utils';\nimport BaseMixin from '../../_util/BaseMixin';\n\nfunction componentDidUpdate(component, init) {\n  var _component$$props = component.$props,\n      _component$$props$sty = _component$$props.styles,\n      styles = _component$$props$sty === void 0 ? {} : _component$$props$sty,\n      panels = _component$$props.panels,\n      activeKey = _component$$props.activeKey,\n      direction = _component$$props.direction;\n  var rootNode = component.getRef('root');\n  var wrapNode = component.getRef('nav') || rootNode;\n  var inkBarNode = component.getRef('inkBar');\n  var activeTab = component.getRef('activeTab');\n  var inkBarNodeStyle = inkBarNode.style;\n  var tabBarPosition = component.$props.tabBarPosition;\n  var activeIndex = getActiveIndex(panels, activeKey);\n\n  if (init) {\n    // prevent mount animation\n    inkBarNodeStyle.display = 'none';\n  }\n\n  if (activeTab) {\n    var tabNode = activeTab;\n    var transformSupported = isTransform3dSupported(inkBarNodeStyle); // Reset current style\n\n    setTransform(inkBarNodeStyle, '');\n    inkBarNodeStyle.width = '';\n    inkBarNodeStyle.height = '';\n    inkBarNodeStyle.left = '';\n    inkBarNodeStyle.top = '';\n    inkBarNodeStyle.bottom = '';\n    inkBarNodeStyle.right = '';\n\n    if (tabBarPosition === 'top' || tabBarPosition === 'bottom') {\n      var left = getLeft(tabNode, wrapNode);\n      var width = tabNode.offsetWidth; // If tabNode'width width equal to wrapNode'width when tabBarPosition is top or bottom\n      // It means no css working, then ink bar should not have width until css is loaded\n      // Fix https://github.com/ant-design/ant-design/issues/7564\n\n      if (width === rootNode.offsetWidth) {\n        width = 0;\n      } else if (styles.inkBar && styles.inkBar.width !== undefined) {\n        width = parseFloat(styles.inkBar.width, 10);\n\n        if (width) {\n          left += (tabNode.offsetWidth - width) / 2;\n        }\n      }\n\n      if (direction === 'rtl') {\n        left = getStyle(tabNode, 'margin-left') - left;\n      } // use 3d gpu to optimize render\n\n\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, \"translate3d(\".concat(left, \"px,0,0)\"));\n      } else {\n        inkBarNodeStyle.left = \"\".concat(left, \"px\");\n      }\n\n      inkBarNodeStyle.width = \"\".concat(width, \"px\");\n    } else {\n      var top = getTop(tabNode, wrapNode, true);\n      var height = tabNode.offsetHeight;\n\n      if (styles.inkBar && styles.inkBar.height !== undefined) {\n        height = parseFloat(styles.inkBar.height, 10);\n\n        if (height) {\n          top += (tabNode.offsetHeight - height) / 2;\n        }\n      }\n\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, \"translate3d(0,\".concat(top, \"px,0)\"));\n        inkBarNodeStyle.top = '0';\n      } else {\n        inkBarNodeStyle.top = \"\".concat(top, \"px\");\n      }\n\n      inkBarNodeStyle.height = \"\".concat(height, \"px\");\n    }\n  }\n\n  inkBarNodeStyle.display = activeIndex !== -1 ? 'block' : 'none';\n}\n\nexport default {\n  name: 'InkTabBarNode',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    inkBarAnimated: {\n      type: Boolean,\n      default: true\n    },\n    direction: PropTypes.string,\n    prefixCls: String,\n    styles: Object,\n    tabBarPosition: String,\n    saveRef: PropTypes.func.def(function () {}),\n    getRef: PropTypes.func.def(function () {}),\n    panels: PropTypes.array,\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      componentDidUpdate(_this);\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      componentDidUpdate(_this2, true);\n    });\n  },\n  render: function render() {\n    var _classes;\n\n    var prefixCls = this.prefixCls,\n        _this$styles = this.styles,\n        styles = _this$styles === void 0 ? {} : _this$styles,\n        inkBarAnimated = this.inkBarAnimated;\n    var className = \"\".concat(prefixCls, \"-ink-bar\");\n    var classes = (_classes = {}, _defineProperty(_classes, className, true), _defineProperty(_classes, inkBarAnimated ? \"\".concat(className, \"-animated\") : \"\".concat(className, \"-no-animated\"), true), _classes);\n    return _createVNode(\"div\", {\n      \"style\": styles.inkBar,\n      \"class\": classes,\n      \"key\": \"inkBar\",\n      \"ref\": this.saveRef('inkBar')\n    }, null);\n  }\n};","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-tabs/src/InkTabBarNode.js"],"names":["_defineProperty","createVNode","_createVNode","PropTypes","setTransform","isTransform3dSupported","getLeft","getStyle","getTop","getActiveIndex","BaseMixin","componentDidUpdate","component","init","_component$$props","$props","_component$$props$sty","styles","panels","activeKey","direction","rootNode","getRef","wrapNode","inkBarNode","activeTab","inkBarNodeStyle","style","tabBarPosition","activeIndex","display","tabNode","transformSupported","width","height","left","top","bottom","right","offsetWidth","inkBar","undefined","parseFloat","concat","offsetHeight","name","mixins","inheritAttrs","props","inkBarAnimated","type","Boolean","default","string","prefixCls","String","Object","saveRef","func","def","array","oneOfType","number","updated","_this","$nextTick","mounted","_this2","render","_classes","_this$styles","className","classes"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport { setTransform, isTransform3dSupported, getLeft, getStyle, getTop, getActiveIndex } from './utils';\nimport BaseMixin from '../../_util/BaseMixin';\n\nfunction componentDidUpdate(component, init) {\n  var _component$$props = component.$props,\n      _component$$props$sty = _component$$props.styles,\n      styles = _component$$props$sty === void 0 ? {} : _component$$props$sty,\n      panels = _component$$props.panels,\n      activeKey = _component$$props.activeKey,\n      direction = _component$$props.direction;\n  var rootNode = component.getRef('root');\n  var wrapNode = component.getRef('nav') || rootNode;\n  var inkBarNode = component.getRef('inkBar');\n  var activeTab = component.getRef('activeTab');\n  var inkBarNodeStyle = inkBarNode.style;\n  var tabBarPosition = component.$props.tabBarPosition;\n  var activeIndex = getActiveIndex(panels, activeKey);\n\n  if (init) {\n    // prevent mount animation\n    inkBarNodeStyle.display = 'none';\n  }\n\n  if (activeTab) {\n    var tabNode = activeTab;\n    var transformSupported = isTransform3dSupported(inkBarNodeStyle); // Reset current style\n\n    setTransform(inkBarNodeStyle, '');\n    inkBarNodeStyle.width = '';\n    inkBarNodeStyle.height = '';\n    inkBarNodeStyle.left = '';\n    inkBarNodeStyle.top = '';\n    inkBarNodeStyle.bottom = '';\n    inkBarNodeStyle.right = '';\n\n    if (tabBarPosition === 'top' || tabBarPosition === 'bottom') {\n      var left = getLeft(tabNode, wrapNode);\n      var width = tabNode.offsetWidth; // If tabNode'width width equal to wrapNode'width when tabBarPosition is top or bottom\n      // It means no css working, then ink bar should not have width until css is loaded\n      // Fix https://github.com/ant-design/ant-design/issues/7564\n\n      if (width === rootNode.offsetWidth) {\n        width = 0;\n      } else if (styles.inkBar && styles.inkBar.width !== undefined) {\n        width = parseFloat(styles.inkBar.width, 10);\n\n        if (width) {\n          left += (tabNode.offsetWidth - width) / 2;\n        }\n      }\n\n      if (direction === 'rtl') {\n        left = getStyle(tabNode, 'margin-left') - left;\n      } // use 3d gpu to optimize render\n\n\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, \"translate3d(\".concat(left, \"px,0,0)\"));\n      } else {\n        inkBarNodeStyle.left = \"\".concat(left, \"px\");\n      }\n\n      inkBarNodeStyle.width = \"\".concat(width, \"px\");\n    } else {\n      var top = getTop(tabNode, wrapNode, true);\n      var height = tabNode.offsetHeight;\n\n      if (styles.inkBar && styles.inkBar.height !== undefined) {\n        height = parseFloat(styles.inkBar.height, 10);\n\n        if (height) {\n          top += (tabNode.offsetHeight - height) / 2;\n        }\n      }\n\n      if (transformSupported) {\n        setTransform(inkBarNodeStyle, \"translate3d(0,\".concat(top, \"px,0)\"));\n        inkBarNodeStyle.top = '0';\n      } else {\n        inkBarNodeStyle.top = \"\".concat(top, \"px\");\n      }\n\n      inkBarNodeStyle.height = \"\".concat(height, \"px\");\n    }\n  }\n\n  inkBarNodeStyle.display = activeIndex !== -1 ? 'block' : 'none';\n}\n\nexport default {\n  name: 'InkTabBarNode',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    inkBarAnimated: {\n      type: Boolean,\n      default: true\n    },\n    direction: PropTypes.string,\n    prefixCls: String,\n    styles: Object,\n    tabBarPosition: String,\n    saveRef: PropTypes.func.def(function () {}),\n    getRef: PropTypes.func.def(function () {}),\n    panels: PropTypes.array,\n    activeKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  },\n  updated: function updated() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      componentDidUpdate(_this);\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      componentDidUpdate(_this2, true);\n    });\n  },\n  render: function render() {\n    var _classes;\n\n    var prefixCls = this.prefixCls,\n        _this$styles = this.styles,\n        styles = _this$styles === void 0 ? {} : _this$styles,\n        inkBarAnimated = this.inkBarAnimated;\n    var className = \"\".concat(prefixCls, \"-ink-bar\");\n    var classes = (_classes = {}, _defineProperty(_classes, className, true), _defineProperty(_classes, inkBarAnimated ? \"\".concat(className, \"-animated\") : \"\".concat(className, \"-no-animated\"), true), _classes);\n    return _createVNode(\"div\", {\n      \"style\": styles.inkBar,\n      \"class\": classes,\n      \"key\": \"inkBar\",\n      \"ref\": this.saveRef('inkBar')\n    }, null);\n  }\n};"]},"metadata":{},"sourceType":"module"}