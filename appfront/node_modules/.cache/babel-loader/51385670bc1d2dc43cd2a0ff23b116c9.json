{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick, withDirectives } from 'vue';\nimport antInputDirective from '../_util/antInputDirective';\nimport classNames from '../_util/classNames';\nimport omit from 'omit.js';\nimport inputProps from './inputProps';\nimport { hasProp, getComponent, getOptionProps } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nexport function fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\nexport function resolveOnChange(target, e, onChange) {\n  if (onChange) {\n    var event = e;\n\n    if (e.type === 'click') {\n      // click clear icon\n      //event = Object.create(e);\n      Object.defineProperty(event, 'target', {\n        writable: true\n      });\n      Object.defineProperty(event, 'currentTarget', {\n        writable: true\n      });\n      event.target = target;\n      event.currentTarget = target;\n      var originalInputValue = target.value; // change target ref value cause e.target.value should be '' when clear input\n\n      target.value = '';\n      onChange(event); // reset target ref value\n\n      target.value = originalInputValue;\n      return;\n    }\n\n    onChange(event);\n  }\n}\nexport function getInputClassName(prefixCls, size, disabled) {\n  var _classNames;\n\n  return classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n}\nexport default defineComponent({\n  name: 'AInput',\n  inheritAttrs: false,\n  props: _extends({}, inputProps),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      removePasswordTimeout: undefined,\n      input: null,\n      clearableInput: null\n    };\n  },\n  data: function data() {\n    var props = this.$props;\n    var value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value,\n      isFocused: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n\n      _this.clearPasswordValueAttribute();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.removePasswordTimeout) {\n      clearTimeout(this.removePasswordTimeout);\n    }\n  },\n  methods: {\n    handleInputFocus: function handleInputFocus(e) {\n      this.isFocused = true;\n      this.onFocus && this.onFocus(e);\n    },\n    handleInputBlur: function handleInputBlur(e) {\n      this.isFocused = false;\n      this.onBlur && this.onBlur(e);\n    },\n    focus: function focus() {\n      this.input.focus();\n    },\n    blur: function blur() {\n      this.input.blur();\n    },\n    select: function select() {\n      this.input.select();\n    },\n    saveClearableInput: function saveClearableInput(input) {\n      this.clearableInput = input;\n    },\n    saveInput: function saveInput(input) {\n      this.input = input;\n    },\n    setValue: function setValue(value, callback) {\n      if (this.stateValue === value) {\n        return;\n      }\n\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n      } else {\n        this.$forceUpdate();\n      }\n\n      nextTick(function () {\n        callback && callback();\n      });\n    },\n    triggerChange: function triggerChange(e) {\n      this.$emit('update:value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleReset: function handleReset(e) {\n      var _this2 = this;\n\n      this.setValue('', function () {\n        _this2.focus();\n      });\n      resolveOnChange(this.input, e, this.triggerChange);\n    },\n    renderInput: function renderInput(prefixCls, _ref) {\n      var addonBefore = _ref.addonBefore,\n          addonAfter = _ref.addonAfter;\n      var otherProps = omit(this.$props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', 'defaultValue', 'lazy', 'size', 'inputPrefixCls', 'loading']);\n      var handleKeyDown = this.handleKeyDown,\n          handleChange = this.handleChange,\n          handleInputFocus = this.handleInputFocus,\n          handleInputBlur = this.handleInputBlur,\n          size = this.size,\n          disabled = this.disabled,\n          $attrs = this.$attrs;\n\n      var inputProps = _extends(_extends(_extends({}, otherProps), $attrs), {\n        onKeydown: handleKeyDown,\n        class: classNames(getInputClassName(prefixCls, size, disabled), _defineProperty({}, $attrs.class, $attrs.class && !addonBefore && !addonAfter)),\n        ref: this.saveInput,\n        key: 'ant-input',\n        onInput: handleChange,\n        onChange: handleChange,\n        onFocus: handleInputFocus,\n        onBlur: handleInputBlur\n      });\n\n      if (!inputProps.autofocus) {\n        delete inputProps.autofocus;\n      }\n\n      var inputNode = _createVNode(\"input\", inputProps, null);\n\n      return withDirectives(inputNode, [[antInputDirective]]);\n    },\n    clearPasswordValueAttribute: function clearPasswordValueAttribute() {\n      var _this3 = this; // https://github.com/ant-design/ant-design/issues/20541\n\n\n      this.removePasswordTimeout = setTimeout(function () {\n        if (_this3.input && _this3.input.getAttribute && _this3.input.getAttribute('type') === 'password' && _this3.input.hasAttribute('value')) {\n          _this3.input.removeAttribute('value');\n        }\n      });\n    },\n    handleChange: function handleChange(e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing,\n          isComposing = _e$target.isComposing; // https://github.com/vueComponent/ant-design-vue/issues/2203\n\n      if ((isComposing || composing) && this.lazy || this.stateValue === value) return;\n      this.setValue(value, this.clearPasswordValueAttribute);\n      resolveOnChange(this.input, e, this.triggerChange);\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n\n      this.$emit('keydown', e);\n    }\n  },\n  render: function render() {\n    var customizePrefixCls = this.$props.prefixCls;\n    var _this$$data = this.$data,\n        stateValue = _this$$data.stateValue,\n        isFocused = _this$$data.isFocused;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n    var addonAfter = getComponent(this, 'addonAfter');\n    var addonBefore = getComponent(this, 'addonBefore');\n    var suffix = getComponent(this, 'suffix');\n    var prefix = getComponent(this, 'prefix');\n\n    var props = _extends(_extends(_extends({}, this.$attrs), getOptionProps(this)), {\n      prefixCls: prefixCls,\n      inputType: 'input',\n      value: fixControlledValue(stateValue),\n      element: this.renderInput(prefixCls, {\n        addonAfter: addonAfter,\n        addonBefore: addonBefore\n      }),\n      handleReset: this.handleReset,\n      addonAfter: addonAfter,\n      addonBefore: addonBefore,\n      suffix: suffix,\n      prefix: prefix,\n      isFocused: isFocused\n    });\n\n    return _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, props), {}, {\n      \"ref\": this.saveClearableInput\n    }), null);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/input/Input.js"],"names":["_objectSpread","_extends","_defineProperty","createVNode","_createVNode","defineComponent","inject","nextTick","withDirectives","antInputDirective","classNames","omit","inputProps","hasProp","getComponent","getOptionProps","defaultConfigProvider","ClearableLabeledInput","fixControlledValue","value","resolveOnChange","target","e","onChange","event","type","Object","defineProperty","writable","currentTarget","originalInputValue","getInputClassName","prefixCls","size","disabled","_classNames","concat","name","inheritAttrs","props","setup","configProvider","removePasswordTimeout","undefined","input","clearableInput","data","$props","defaultValue","stateValue","isFocused","watch","val","mounted","_this","process","env","NODE_ENV","autofocus","focus","clearPasswordValueAttribute","beforeUnmount","clearTimeout","methods","handleInputFocus","onFocus","handleInputBlur","onBlur","blur","select","saveClearableInput","saveInput","setValue","callback","$forceUpdate","triggerChange","$emit","handleReset","_this2","renderInput","_ref","addonBefore","addonAfter","otherProps","handleKeyDown","handleChange","$attrs","onKeydown","class","ref","key","onInput","inputNode","_this3","setTimeout","getAttribute","hasAttribute","removeAttribute","_e$target","composing","isComposing","lazy","keyCode","render","customizePrefixCls","_this$$data","$data","getPrefixCls","suffix","prefix","inputType","element"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, nextTick, withDirectives } from 'vue';\nimport antInputDirective from '../_util/antInputDirective';\nimport classNames from '../_util/classNames';\nimport omit from 'omit.js';\nimport inputProps from './inputProps';\nimport { hasProp, getComponent, getOptionProps } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport ClearableLabeledInput from './ClearableLabeledInput';\nexport function fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\nexport function resolveOnChange(target, e, onChange) {\n  if (onChange) {\n    var event = e;\n\n    if (e.type === 'click') {\n      // click clear icon\n      //event = Object.create(e);\n      Object.defineProperty(event, 'target', {\n        writable: true\n      });\n      Object.defineProperty(event, 'currentTarget', {\n        writable: true\n      });\n      event.target = target;\n      event.currentTarget = target;\n      var originalInputValue = target.value; // change target ref value cause e.target.value should be '' when clear input\n\n      target.value = '';\n      onChange(event); // reset target ref value\n\n      target.value = originalInputValue;\n      return;\n    }\n\n    onChange(event);\n  }\n}\nexport function getInputClassName(prefixCls, size, disabled) {\n  var _classNames;\n\n  return classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n}\nexport default defineComponent({\n  name: 'AInput',\n  inheritAttrs: false,\n  props: _extends({}, inputProps),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      removePasswordTimeout: undefined,\n      input: null,\n      clearableInput: null\n    };\n  },\n  data: function data() {\n    var props = this.$props;\n    var value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n    return {\n      stateValue: typeof value === 'undefined' ? '' : value,\n      isFocused: false\n    };\n  },\n  watch: {\n    value: function value(val) {\n      this.stateValue = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    nextTick(function () {\n      if (process.env.NODE_ENV === 'test') {\n        if (_this.autofocus) {\n          _this.focus();\n        }\n      }\n\n      _this.clearPasswordValueAttribute();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.removePasswordTimeout) {\n      clearTimeout(this.removePasswordTimeout);\n    }\n  },\n  methods: {\n    handleInputFocus: function handleInputFocus(e) {\n      this.isFocused = true;\n      this.onFocus && this.onFocus(e);\n    },\n    handleInputBlur: function handleInputBlur(e) {\n      this.isFocused = false;\n      this.onBlur && this.onBlur(e);\n    },\n    focus: function focus() {\n      this.input.focus();\n    },\n    blur: function blur() {\n      this.input.blur();\n    },\n    select: function select() {\n      this.input.select();\n    },\n    saveClearableInput: function saveClearableInput(input) {\n      this.clearableInput = input;\n    },\n    saveInput: function saveInput(input) {\n      this.input = input;\n    },\n    setValue: function setValue(value, callback) {\n      if (this.stateValue === value) {\n        return;\n      }\n\n      if (!hasProp(this, 'value')) {\n        this.stateValue = value;\n      } else {\n        this.$forceUpdate();\n      }\n\n      nextTick(function () {\n        callback && callback();\n      });\n    },\n    triggerChange: function triggerChange(e) {\n      this.$emit('update:value', e.target.value);\n      this.$emit('change', e);\n      this.$emit('input', e);\n    },\n    handleReset: function handleReset(e) {\n      var _this2 = this;\n\n      this.setValue('', function () {\n        _this2.focus();\n      });\n      resolveOnChange(this.input, e, this.triggerChange);\n    },\n    renderInput: function renderInput(prefixCls, _ref) {\n      var addonBefore = _ref.addonBefore,\n          addonAfter = _ref.addonAfter;\n      var otherProps = omit(this.$props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', 'defaultValue', 'lazy', 'size', 'inputPrefixCls', 'loading']);\n      var handleKeyDown = this.handleKeyDown,\n          handleChange = this.handleChange,\n          handleInputFocus = this.handleInputFocus,\n          handleInputBlur = this.handleInputBlur,\n          size = this.size,\n          disabled = this.disabled,\n          $attrs = this.$attrs;\n\n      var inputProps = _extends(_extends(_extends({}, otherProps), $attrs), {\n        onKeydown: handleKeyDown,\n        class: classNames(getInputClassName(prefixCls, size, disabled), _defineProperty({}, $attrs.class, $attrs.class && !addonBefore && !addonAfter)),\n        ref: this.saveInput,\n        key: 'ant-input',\n        onInput: handleChange,\n        onChange: handleChange,\n        onFocus: handleInputFocus,\n        onBlur: handleInputBlur\n      });\n\n      if (!inputProps.autofocus) {\n        delete inputProps.autofocus;\n      }\n\n      var inputNode = _createVNode(\"input\", inputProps, null);\n\n      return withDirectives(inputNode, [[antInputDirective]]);\n    },\n    clearPasswordValueAttribute: function clearPasswordValueAttribute() {\n      var _this3 = this;\n\n      // https://github.com/ant-design/ant-design/issues/20541\n      this.removePasswordTimeout = setTimeout(function () {\n        if (_this3.input && _this3.input.getAttribute && _this3.input.getAttribute('type') === 'password' && _this3.input.hasAttribute('value')) {\n          _this3.input.removeAttribute('value');\n        }\n      });\n    },\n    handleChange: function handleChange(e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          composing = _e$target.composing,\n          isComposing = _e$target.isComposing; // https://github.com/vueComponent/ant-design-vue/issues/2203\n\n      if ((isComposing || composing) && this.lazy || this.stateValue === value) return;\n      this.setValue(value, this.clearPasswordValueAttribute);\n      resolveOnChange(this.input, e, this.triggerChange);\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      if (e.keyCode === 13) {\n        this.$emit('pressEnter', e);\n      }\n\n      this.$emit('keydown', e);\n    }\n  },\n  render: function render() {\n    var customizePrefixCls = this.$props.prefixCls;\n    var _this$$data = this.$data,\n        stateValue = _this$$data.stateValue,\n        isFocused = _this$$data.isFocused;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input', customizePrefixCls);\n    var addonAfter = getComponent(this, 'addonAfter');\n    var addonBefore = getComponent(this, 'addonBefore');\n    var suffix = getComponent(this, 'suffix');\n    var prefix = getComponent(this, 'prefix');\n\n    var props = _extends(_extends(_extends({}, this.$attrs), getOptionProps(this)), {\n      prefixCls: prefixCls,\n      inputType: 'input',\n      value: fixControlledValue(stateValue),\n      element: this.renderInput(prefixCls, {\n        addonAfter: addonAfter,\n        addonBefore: addonBefore\n      }),\n      handleReset: this.handleReset,\n      addonAfter: addonAfter,\n      addonBefore: addonBefore,\n      suffix: suffix,\n      prefix: prefix,\n      isFocused: isFocused\n    });\n\n    return _createVNode(ClearableLabeledInput, _objectSpread(_objectSpread({}, props), {}, {\n      \"ref\": this.saveClearableInput\n    }), null);\n  }\n});"]},"metadata":{},"sourceType":"module"}