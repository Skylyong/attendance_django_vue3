{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject, markRaw, reactive } from 'vue';\nimport CaretUpFilled from '@ant-design/icons-vue/CaretUpFilled';\nimport CaretDownFilled from '@ant-design/icons-vue/CaretDownFilled';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from '../_util/classNames';\nimport shallowEqual from '../_util/shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { getOptionProps } from '../_util/props-util';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport BaseMixin from '../_util/BaseMixin';\nimport { defaultConfigProvider } from '../config-provider';\nimport { tableProps } from './interface';\nimport Pagination from '../pagination';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport var defaultTableProps = initDefaultProps(tableProps, {\n  dataSource: [],\n  useFixedHeader: false,\n  // rowSelection: null,\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n});\nexport default defineComponent({\n  name: 'Table',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  props: defaultTableProps,\n  setup: function setup(props) {\n    var store = reactive({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return {\n      vcTable: null,\n      checkboxPropsCache: {},\n      store: store,\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props), '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    var getDefaultSortOrder = this.getDefaultSortOrder,\n        getDefaultFilters = this.getDefaultFilters,\n        getDefaultPagination = this.getDefaultPagination;\n    return _extends(_extends({}, getDefaultSortOrder(props.columns || [])), {\n      // 减少状态\n      sFilters: getDefaultFilters(props.columns),\n      sPagination: getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: markRaw(createComponents(this.components)),\n      filterDataCnt: 0\n    });\n  },\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends(_extends(_extends({}, defaultPagination), previousState.sPagination), val);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            sPagination: val !== false ? newPagination : emptyObject\n          };\n        });\n      },\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.checkboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n      deep: true\n    },\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.checkboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({\n        columns: val\n      }, val);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({\n          columns: val\n        }, val);\n\n        var newFilters = _extends({}, this.sFilters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged({\n          filters: this.sFilters\n        }, newFilters)) {\n          this.setState({\n            sFilters: newFilters\n          });\n        }\n      }\n    },\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({\n            sComponents: components\n          });\n        }\n      },\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n  methods: {\n    setTableRef: function setTableRef(table) {\n      this.vcTable = table;\n    },\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!this.checkboxPropsCache[key]) {\n        this.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n      }\n\n      return this.checkboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({\n        columns: this.columns\n      }, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _this$sPagination = this.sPagination,\n          current = _this$sPagination.current,\n          pageSize = _this$sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current;\n      var pageSize;\n      var sPagination = this.sPagination; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort(_toConsumableArray(data), sorterFn);\n      } // 筛选\n\n\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n      var custom = customRow ? customRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: this.store,\n        rowKey: this.getRecordKey(record, index)\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.$props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n      var table = this.vcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.vcTable.ref_bodyTable;\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      var filters = _extends(_extends({}, this.sFilters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns({\n        columns: props.columns\n      }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends(_extends({}, pagination), {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n\n        _this5.store.selectionDirty = false;\n\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends(_extends({}, _this5.$data), {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this6.getRecordKey(row, i);\n\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true; // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = this.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        sPagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends(_extends({}, pagination), {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, this.scrollToFirstRow);\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n\n      this.setState({\n        sPagination: nextPagination\n      }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _this$childrenColumnN = this.childrenColumnName,\n          childrenColumnName = _this$childrenColumnN === void 0 ? 'children' : _this$childrenColumnN;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this8.recursiveSort(_toConsumableArray(item[childrenColumnName]), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      if (this.expandIcon) {\n        return this.expandIcon;\n      }\n\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return _createVNode(LocaleReceiver, {\n            \"componentName\": \"Table\",\n            \"defaultLocale\": defaultLocale.Table,\n            \"children\": function children(locale) {\n              var _classNames;\n\n              return _createVNode(TransButton, {\n                \"class\": classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n                \"onClick\": function onClick(event) {\n                  onExpand(record, event);\n                },\n                \"aria-label\": expanded ? locale.collapse : locale.expand,\n                \"noStyle\": true\n              }, null);\n            }\n          }, null);\n        }\n\n        if (needIndentSpaced) {\n          return _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          }, null);\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination.class,\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = __rest(pagination, [\"class\", \"style\", \"onChange\", \"onShowSizeChange\"]); // eslint-disable-line\n\n\n      var paginationProps = _extends(_extends({\n        key: \"pagination-\".concat(paginationPosition),\n        class: classNames(cls, \"\".concat(prefixCls, \"-pagination\"))\n      }, restProps), {\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        style: style,\n        onChange: this.handlePageChange,\n        onShowSizeChange: this.handleShowSizeChange\n      });\n\n      return total > 0 && (position === paginationPosition || position === 'both') ? _createVNode(Pagination, paginationProps, null) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      return function (_ref3) {\n        var record = _ref3.record,\n            index = _ref3.index;\n\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n\n\n        var props = _this9.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n\n        var selectionBoxProps = _extends({\n          type: type,\n          store: _this9.store,\n          rowIndex: rowKey,\n          defaultSelection: _this9.getDefaultSelection(),\n          onChange: handleChange\n        }, props);\n\n        return _createVNode(\"span\", {\n          \"onClick\": stopPropagation\n        }, [_createVNode(SelectionBox, selectionBoxProps, null)]);\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref4) {\n      var _this10 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var rowSelection = this.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          class: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || _createVNode(SelectionCheckboxAll, {\n            \"store\": this.store,\n            \"locale\": locale,\n            \"data\": data,\n            \"getCheckboxPropsByItem\": this.getCheckboxPropsByItem,\n            \"getRecordKey\": this.getRecordKey,\n            \"disabled\": checkboxAllDisabled,\n            \"prefixCls\": prefixCls,\n            \"onSelect\": this.handleSelectRow,\n            \"selections\": rowSelection.selections,\n            \"hideDefaultSelections\": rowSelection.hideDefaultSelections,\n            \"getPopupContainer\": this.generatePopupContainerFunc(getPopupContainer),\n            \"propsSymbol\": Symbol()\n          }, null);\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref5) {\n      var _this11 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          columns = _ref5.columns,\n          locale = _ref5.locale,\n          getPopupContainer = _ref5.getPopupContainer;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var customHeaderCell = column.customHeaderCell;\n\n        var isSortColumn = _this11.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = _createVNode(FilterDropdown, {\n            \"locale\": locale,\n            \"column\": column,\n            \"selectedKeys\": colFilters,\n            \"confirmFilter\": _this11.handleFilter,\n            \"prefixCls\": \"\".concat(prefixCls, \"-filter\"),\n            \"dropdownPrefixCls\": dropdownPrefixCls || 'ant-dropdown',\n            \"getPopupContainer\": _this11.generatePopupContainerFunc(getPopupContainer),\n            \"key\": \"filter-dropdown\"\n          }, null);\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n\n          var ascend = sortDirections.indexOf('ascend') !== -1 && _createVNode(CaretUpFilled, {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            \"key\": \"caret-up\"\n          }, null);\n\n          var descend = sortDirections.indexOf('descend') !== -1 && _createVNode(CaretDownFilled, {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            \"key\": \"caret-down\"\n          }, null);\n\n          sortButton = _createVNode(\"div\", {\n            \"title\": locale.sortTitle,\n            \"class\": classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            \"key\": \"sorter\"\n          }, [ascend, descend]);\n\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this11.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\n          title: [_createVNode(\"span\", {\n            \"key\": \"title\",\n            \"class\": \"\".concat(prefixCls, \"-header-column\")\n          }, [_createVNode(\"div\", {\n            \"class\": sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, [_createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-column-title\")\n          }, [_this11.renderColumnTitle(column.title)]), _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter\")\n          }, [sortButton])])]), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _this$$data = this.$data,\n          filters = _this$$data.sFilters,\n          sortOrder = _this$$data.sSortOrder,\n          sortColumn = _this$$data.sSortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    },\n    renderTable: function renderTable(_ref6) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref6.prefixCls,\n          renderEmpty = _ref6.renderEmpty,\n          dropdownPrefixCls = _ref6.dropdownPrefixCls,\n          contextLocale = _ref6.contextLocale,\n          contextGetPopupContainer = _ref6.getPopupContainer,\n          transformCellText = _ref6.transformCellText;\n\n      var _a = _extends(_extends({}, getOptionProps(this)), this.$attrs),\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          getPopupContainer = _a.getPopupContainer,\n          style = _a.style,\n          restProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\", \"style\"]);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-\").concat(this.size), true), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-bordered\"), this.bordered), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames4));\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      var vcTableProps = _extends(_extends({\n        key: 'table',\n        expandIcon: this.renderExpandIcon(prefixCls)\n      }, restProps), {\n        customRow: function customRow(record, index) {\n          return _this12.onRow(prefixCls, record, index);\n        },\n        components: this.sComponents,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText,\n        transformCellText: transformCellText,\n        class: classString,\n        ref: this.setTableRef\n      });\n\n      return _createVNode(VcTable, vcTableProps, null);\n    }\n  },\n  render: function render() {\n    var _this13 = this;\n\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n    var data = this.getCurrentPageData();\n    var _this$configProvider = this.configProvider,\n        getContextPopupContainer = _this$configProvider.getPopupContainer,\n        tct = _this$configProvider.transformCellText;\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n\n    if (typeof loading === 'boolean') {\n      loading = {\n        spinning: loading\n      };\n    }\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n    var table = _createVNode(LocaleReceiver, {\n      \"componentName\": \"Table\",\n      \"defaultLocale\": defaultLocale.Table,\n      \"children\": function children(locale) {\n        return _this13.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer,\n          transformCellText: transformCellText\n        });\n      }\n    }, null); // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n\n\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n\n    var spinProps = _extends(_extends({}, loading), {\n      class: loading && loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n    });\n\n    var _this$$attrs = this.$attrs,\n        className = _this$$attrs.class,\n        style = _this$$attrs.style;\n    return _createVNode(\"div\", {\n      \"class\": classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n      \"style\": style\n    }, [_createVNode(Spin, spinProps, {\n      default: function _default() {\n        return [_this13.renderPagination(prefixCls, 'top'), table, _this13.renderPagination(prefixCls, 'bottom')];\n      }\n    })]);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/table/Table.js"],"names":["_defineProperty","_toConsumableArray","_typeof","_extends","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineComponent","inject","markRaw","reactive","CaretUpFilled","CaretDownFilled","VcTable","INTERNAL_COL_DEFINE","classNames","shallowEqual","FilterDropdown","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","getOptionProps","initDefaultProps","BaseMixin","defaultConfigProvider","tableProps","Pagination","Spin","LocaleReceiver","defaultLocale","warning","scrollTo","TransButton","noop","stopPropagation","getRowSelection","props","rowSelection","getColumnKey","column","index","key","dataIndex","isSameColumn","a","b","value","other","toString","Array","isArray","defaultPagination","onChange","onShowSizeChange","emptyObject","createComponents","components","arguments","undefined","bodyRow","body","row","isTheSameComponents","components1","components2","every","getFilteredValueColumns","state","columns","filteredValue","getFiltersFromColumns","filters","forEach","col","colKey","isFiltersChanged","keys","some","columnKey","defaultTableProps","dataSource","useFixedHeader","size","loading","bordered","indentSize","locale","rowKey","showHeader","sortDirections","childrenColumnName","name","mixins","inheritAttrs","setup","store","selectedRowKeys","selectionDirty","vcTable","checkboxPropsCache","configProvider","data","expandedRowRender","getDefaultSortOrder","getDefaultFilters","getDefaultPagination","sFilters","sPagination","$props","pivot","sComponents","filterDataCnt","watch","pagination","handler","val","setState","previousState","newPagination","current","pageSize","deep","oldVal","getCheckboxProps","filteredValueColumns","filtersFromColumns","newFilters","updated","sortColumn","sSortColumn","sortOrder","sSortOrder","getSortOrderColumns","sortState","getSortStateFromColumns","methods","setTableRef","table","getCheckboxPropsByItem","item","getRecordKey","getDefaultSelection","_this","getFlatData","filter","rowIndex","defaultChecked","map","record","defaultCurrent","defaultPageSize","hasPagination","definedFilters","defaultFilteredValueColumns","defaultFilteredValue","defaultFilters","reduce","soFar","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getMaxCurrent","total","_this$sPagination","Math","floor","recordKey","getSorterFn","_ref","$data","sorter","result","getCurrentPageData","getLocalData","Number","MAX_VALUE","slice","getFlatCurrentPageData","_this2","currentState","sorterFn","recursiveSort","findColumn","values","onFilter","v","onRow","prefixCls","customRow","custom","setSelectedRowKeys","selectionInfo","_this3","selectWay","checked","changeRowKeys","nativeEvent","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","generatePopupContainerFunc","getPopupContainer","scroll","tableNode","scrollToFirstRow","_this4","scrollToFirstRowOnChange","getContainer","ref_bodyTable","handleFilter","nextFilters","_this5","currentColumnKeys","c","children","push","newState","filtersToSetState","$emit","apply","concat","prepareParamsArguments","sSelectionDirty","handleSelect","_this6","target","defaultSelection","rows","realIndex","findIndex","shiftKey","direction","sign","dist","abs","step","_loop","checkboxProps","disabled","includes","j","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","_this7","changeableRowKeys","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","_key","handleShowSizeChange","nextPagination","toggleSortOrder","newSortOrder","methodIndex","isSortColumn","currentColumn","order","field","extra","currentDataSource","myKey","_this8","_this$childrenColumnN","sort","renderExpandIcon","expandIcon","_ref2","expandable","expanded","needIndentSpaced","onExpand","Table","_classNames","onClick","event","collapse","expand","renderPagination","paginationPosition","position","cls","class","style","restProps","paginationProps","renderSelectionBox","type","_this9","_ref3","handleChange","selectionBoxProps","renderRowSelection","_ref4","_this10","selectionColumnClass","selections","selectionColumn","customRender","className","fixed","width","columnWidth","title","columnTitle","checkboxAllDisabled","Symbol","unshift","renderColumnsDropdown","_ref5","_this11","dropdownPrefixCls","_classNames3","filterDropdown","sortButton","customHeaderCell","colFilters","isAscend","isDescend","ascend","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_this$$data","Function","renderTable","_ref6","_classNames4","_this12","renderEmpty","contextLocale","contextGetPopupContainer","transformCellText","_a","$attrs","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","columnsWithRowSelection","newColumn","expandIconColumnIndex","vcTableProps","ref","render","_this13","customizePrefixCls","customizeDropdownPrefixCls","customizeTransformCellText","_this$configProvider","getContextPopupContainer","tct","spinning","getPrefixCls","paginationPatchClass","spinProps","_this$$attrs","default","_default"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject, markRaw, reactive } from 'vue';\nimport CaretUpFilled from '@ant-design/icons-vue/CaretUpFilled';\nimport CaretDownFilled from '@ant-design/icons-vue/CaretDownFilled';\nimport VcTable, { INTERNAL_COL_DEFINE } from '../vc-table';\nimport classNames from '../_util/classNames';\nimport shallowEqual from '../_util/shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter } from './util';\nimport { getOptionProps } from '../_util/props-util';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport BaseMixin from '../_util/BaseMixin';\nimport { defaultConfigProvider } from '../config-provider';\nimport { tableProps } from './interface';\nimport Pagination from '../pagination';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport warning from '../_util/warning';\nimport scrollTo from '../_util/scrollTo';\nimport TransButton from '../_util/transButton';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\n\nfunction getColumnKey(column, index) {\n  return column.key || column.dataIndex || index;\n}\n\nfunction isSameColumn(a, b) {\n  if (a && b && a.key && a.key === b.key) {\n    return true;\n  }\n\n  return a === b || shallowEqual(a, b, function (value, other) {\n    // https://github.com/ant-design/ant-design/issues/12737\n    if (typeof value === 'function' && typeof other === 'function') {\n      return value === other || value.toString() === other.toString();\n    } // https://github.com/ant-design/ant-design/issues/19398\n\n\n    if (Array.isArray(value) && Array.isArray(other)) {\n      return value === other || shallowEqual(value, other);\n    }\n  });\n}\n\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\n\nvar emptyObject = {};\n\nvar createComponents = function createComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var bodyRow = components && components.body && components.body.row;\n  return _extends(_extends({}, components), {\n    body: _extends(_extends({}, components.body), {\n      row: createBodyRow(bodyRow)\n    })\n  });\n};\n\nfunction isTheSameComponents() {\n  var components1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var components2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return components1 === components2 || ['table', 'header', 'body'].every(function (key) {\n    return shallowEqual(components1[key], components2[key]);\n  });\n}\n\nfunction getFilteredValueColumns(state, columns) {\n  return flatFilter(columns || (state || {}).columns || [], function (column) {\n    return typeof column.filteredValue !== 'undefined';\n  });\n}\n\nfunction getFiltersFromColumns(state, columns) {\n  var filters = {};\n  getFilteredValueColumns(state, columns).forEach(function (col) {\n    var colKey = getColumnKey(col);\n    filters[colKey] = col.filteredValue;\n  });\n  return filters;\n}\n\nfunction isFiltersChanged(state, filters) {\n  if (Object.keys(filters).length !== Object.keys(state.filters).length) {\n    return true;\n  }\n\n  return Object.keys(filters).some(function (columnKey) {\n    return filters[columnKey] !== state.filters[columnKey];\n  });\n}\n\nexport var defaultTableProps = initDefaultProps(tableProps, {\n  dataSource: [],\n  useFixedHeader: false,\n  // rowSelection: null,\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend'],\n  childrenColumnName: 'children'\n});\nexport default defineComponent({\n  name: 'Table',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  Column: Column,\n  ColumnGroup: ColumnGroup,\n  props: defaultTableProps,\n  setup: function setup(props) {\n    var store = reactive({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return {\n      vcTable: null,\n      checkboxPropsCache: {},\n      store: store,\n      configProvider: inject('configProvider', defaultConfigProvider)\n    };\n  },\n  data: function data() {\n    var props = getOptionProps(this);\n    warning(!props.expandedRowRender || !('scroll' in props), '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    var getDefaultSortOrder = this.getDefaultSortOrder,\n        getDefaultFilters = this.getDefaultFilters,\n        getDefaultPagination = this.getDefaultPagination;\n    return _extends(_extends({}, getDefaultSortOrder(props.columns || [])), {\n      // 减少状态\n      sFilters: getDefaultFilters(props.columns),\n      sPagination: getDefaultPagination(this.$props),\n      pivot: undefined,\n      sComponents: markRaw(createComponents(this.components)),\n      filterDataCnt: 0\n    });\n  },\n  watch: {\n    pagination: {\n      handler: function handler(val) {\n        this.setState(function (previousState) {\n          var newPagination = _extends(_extends(_extends({}, defaultPagination), previousState.sPagination), val);\n\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            sPagination: val !== false ? newPagination : emptyObject\n          };\n        });\n      },\n      deep: true\n    },\n    rowSelection: {\n      handler: function handler(val, oldVal) {\n        if (val && 'selectedRowKeys' in val) {\n          this.store.selectedRowKeys = val.selectedRowKeys || [];\n          var rowSelection = this.rowSelection;\n\n          if (rowSelection && val.getCheckboxProps !== rowSelection.getCheckboxProps) {\n            this.checkboxPropsCache = {};\n          }\n        } else if (oldVal && !val) {\n          this.store.selectedRowKeys = [];\n        }\n      },\n      deep: true\n    },\n    dataSource: function dataSource() {\n      this.store.selectionDirty = false;\n      this.checkboxPropsCache = {};\n    },\n    columns: function columns(val) {\n      var filteredValueColumns = getFilteredValueColumns({\n        columns: val\n      }, val);\n\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = getFiltersFromColumns({\n          columns: val\n        }, val);\n\n        var newFilters = _extends({}, this.sFilters);\n\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n\n        if (isFiltersChanged({\n          filters: this.sFilters\n        }, newFilters)) {\n          this.setState({\n            sFilters: newFilters\n          });\n        }\n      }\n    },\n    components: {\n      handler: function handler(val, oldVal) {\n        if (!isTheSameComponents(val, oldVal)) {\n          var components = createComponents(val);\n          this.setState({\n            sComponents: components\n          });\n        }\n      },\n      deep: true\n    }\n  },\n  updated: function updated() {\n    var columns = this.columns,\n        sortColumn = this.sSortColumn,\n        sortOrder = this.sSortOrder;\n\n    if (this.getSortOrderColumns(columns).length > 0) {\n      var sortState = this.getSortStateFromColumns(columns);\n\n      if (!isSameColumn(sortState.sSortColumn, sortColumn) || sortState.sSortOrder !== sortOrder) {\n        this.setState(sortState);\n      }\n    }\n  },\n  methods: {\n    setTableRef: function setTableRef(table) {\n      this.vcTable = table;\n    },\n    getCheckboxPropsByItem: function getCheckboxPropsByItem(item, index) {\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n\n      var key = this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!this.checkboxPropsCache[key]) {\n        this.checkboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n      }\n\n      return this.checkboxPropsCache[key];\n    },\n    getDefaultSelection: function getDefaultSelection() {\n      var _this = this;\n\n      var rowSelection = getRowSelection(this.$props);\n\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this.getRecordKey(record, rowIndex);\n      });\n    },\n    getDefaultPagination: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n\n      var pageSize;\n\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n\n      return this.hasPagination(props) ? _extends(_extends(_extends({}, defaultPagination), pagination), {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    },\n    getSortOrderColumns: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    },\n    getDefaultFilters: function getDefaultFilters(columns) {\n      var definedFilters = getFiltersFromColumns({\n        columns: this.columns\n      }, columns);\n      var defaultFilteredValueColumns = flatFilter(columns || [], function (column) {\n        return typeof column.defaultFilteredValue !== 'undefined';\n      });\n      var defaultFilters = defaultFilteredValueColumns.reduce(function (soFar, col) {\n        var colKey = getColumnKey(col);\n        soFar[colKey] = col.defaultFilteredValue;\n        return soFar;\n      }, {});\n      return _extends(_extends({}, defaultFilters), definedFilters);\n    },\n    getDefaultSortOrder: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sSortColumn: defaultSortedColumn,\n          sSortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n\n      return definedSortState;\n    },\n    getSortStateFromColumns: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n\n      if (sortedColumn) {\n        return {\n          sSortColumn: sortedColumn,\n          sSortOrder: sortedColumn.sortOrder\n        };\n      }\n\n      return {\n        sSortColumn: null,\n        sSortOrder: null\n      };\n    },\n    getMaxCurrent: function getMaxCurrent(total) {\n      var _this$sPagination = this.sPagination,\n          current = _this$sPagination.current,\n          pageSize = _this$sPagination.pageSize;\n\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n\n      return current;\n    },\n    getRecordKey: function getRecordKey(record, index) {\n      var rowKey = this.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ');\n      return recordKey === undefined ? index : recordKey;\n    },\n    getSorterFn: function getSorterFn(state) {\n      var _ref = state || this.$data,\n          sortOrder = _ref.sSortOrder,\n          sortColumn = _ref.sSortColumn;\n\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n\n        return 0;\n      };\n    },\n    getCurrentPageData: function getCurrentPageData() {\n      var data = this.getLocalData();\n      this.filterDataCnt = data.length;\n      var current;\n      var pageSize;\n      var sPagination = this.sPagination; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = sPagination.pageSize;\n        current = this.getMaxCurrent(sPagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return data;\n    },\n    getFlatData: function getFlatData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getLocalData(null, false), childrenColumnName);\n    },\n    getFlatCurrentPageData: function getFlatCurrentPageData() {\n      var childrenColumnName = this.$props.childrenColumnName;\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    },\n    getLocalData: function getLocalData(state) {\n      var _this2 = this;\n\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.$data;\n      var filters = currentState.sFilters;\n      var dataSource = this.$props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n\n      if (sorterFn) {\n        // 使用新数组，避免改变原数组导致无限循环更新\n        // https://github.com/vueComponent/ant-design-vue/issues/2270\n        data = this.recursiveSort(_toConsumableArray(data), sorterFn);\n      } // 筛选\n\n\n      if (filter && filters) {\n        Object.keys(filters).forEach(function (columnKey) {\n          var col = _this2.findColumn(columnKey);\n\n          if (!col) {\n            return;\n          }\n\n          var values = filters[columnKey] || [];\n\n          if (values.length === 0) {\n            return;\n          }\n\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n\n      return data;\n    },\n    onRow: function onRow(prefixCls, record, index) {\n      var customRow = this.customRow;\n      var custom = customRow ? customRow(record, index) : {};\n      return _extends(_extends({}, custom), {\n        prefixCls: prefixCls,\n        store: this.store,\n        rowKey: this.getRecordKey(record, index)\n      });\n    },\n    setSelectedRowKeys: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n\n      var selectWay = selectionInfo.selectWay,\n          record = selectionInfo.record,\n          checked = selectionInfo.checked,\n          changeRowKeys = selectionInfo.changeRowKeys,\n          nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.$props);\n\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.selectedRowKeys = selectedRowKeys;\n      }\n\n      var data = this.getFlatData();\n\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    },\n    generatePopupContainerFunc: function generatePopupContainerFunc(getPopupContainer) {\n      var scroll = this.$props.scroll;\n      var table = this.vcTable;\n\n      if (getPopupContainer) {\n        return getPopupContainer;\n      } // Use undefined to let rc component use default logic.\n\n\n      return scroll && table ? function () {\n        return table.tableNode;\n      } : undefined;\n    },\n    scrollToFirstRow: function scrollToFirstRow() {\n      var _this4 = this;\n\n      var scroll = this.$props.scroll;\n\n      if (scroll && scroll.scrollToFirstRowOnChange !== false) {\n        scrollTo(0, {\n          getContainer: function getContainer() {\n            return _this4.vcTable.ref_bodyTable;\n          }\n        });\n      }\n    },\n    isSameColumn: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    },\n    handleFilter: function handleFilter(column, nextFilters) {\n      var _this5 = this;\n\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      var filters = _extends(_extends({}, this.sFilters), _defineProperty({}, getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n\n      var currentColumnKeys = [];\n      treeMap(this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n\n      var newState = {\n        sPagination: pagination,\n        sFilters: {}\n      };\n\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n\n      getFilteredValueColumns({\n        columns: props.columns\n      }).forEach(function (col) {\n        var columnKey = getColumnKey(col);\n\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.sFilters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends(_extends({}, pagination), {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, function () {\n        _this5.scrollToFirstRow();\n\n        _this5.store.selectionDirty = false;\n\n        _this5.$emit.apply(_this5, ['change'].concat(_toConsumableArray(_this5.prepareParamsArguments(_extends(_extends({}, _this5.$data), {\n          sSelectionDirty: false,\n          sFilters: filters,\n          sPagination: pagination\n        })))));\n      });\n    },\n    handleSelect: function handleSelect(record, rowIndex, e) {\n      var _this6 = this;\n\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var key = this.getRecordKey(record, rowIndex);\n      var pivot = this.$data.pivot;\n      var rows = this.getFlatCurrentPageData();\n      var realIndex = rowIndex;\n\n      if (this.$props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this6.getRecordKey(row, rowIndex) === key;\n        });\n      }\n\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n\n          var rowKey = _this6.getRecordKey(row, i);\n\n          var checkboxProps = _this6.getCheckboxPropsByItem(row, i);\n\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n\n        while (step <= dist) {\n          _loop();\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n\n        this.setState({\n          pivot: realIndex\n        });\n        this.store.selectionDirty = true;\n        this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: undefined,\n          nativeEvent: nativeEvent\n        });\n      }\n    },\n    handleRadioSelect: function handleRadioSelect(record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      this.store.selectionDirty = true;\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: undefined,\n        nativeEvent: nativeEvent\n      });\n    },\n    handleSelectRow: function handleSelectRow(selectionKey, index, onSelectFunc) {\n      var _this7 = this;\n\n      var data = this.getFlatCurrentPageData();\n      var defaultSelection = this.store.selectionDirty ? [] : this.getDefaultSelection();\n      var selectedRowKeys = this.store.selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this7.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this7.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.store.selectionDirty = true; // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = this.rowSelection;\n      var customSelectionStartIndex = 2;\n\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n\n      this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    },\n    handlePageChange: function handlePageChange(current) {\n      var props = this.$props;\n\n      var pagination = _extends({}, this.sPagination);\n\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        sPagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.sPagination = _extends(_extends({}, pagination), {\n          current: this.sPagination.current\n        });\n      }\n\n      this.setState(newState, this.scrollToFirstRow);\n      this.store.selectionDirty = false;\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), {\n        sSelectionDirty: false,\n        sPagination: pagination\n      })))));\n    },\n    handleShowSizeChange: function handleShowSizeChange(current, pageSize) {\n      var pagination = this.sPagination;\n      pagination.onShowSizeChange(current, pageSize);\n\n      var nextPagination = _extends(_extends({}, pagination), {\n        pageSize: pageSize,\n        current: current\n      });\n\n      this.setState({\n        sPagination: nextPagination\n      }, this.scrollToFirstRow);\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), {\n        sPagination: nextPagination\n      })))));\n    },\n    toggleSortOrder: function toggleSortOrder(column) {\n      var sortDirections = column.sortDirections || this.sortDirections;\n      var sortOrder = this.sSortOrder,\n          sortColumn = this.sSortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n\n      var newState = {\n        sSortOrder: newSortOrder,\n        sSortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState, this.scrollToFirstRow);\n      }\n\n      this.$emit.apply(this, ['change'].concat(_toConsumableArray(this.prepareParamsArguments(_extends(_extends({}, this.$data), newState), column))));\n    },\n    hasPagination: function hasPagination(props) {\n      return (props || this.$props).pagination !== false;\n    },\n    isSortColumn: function isSortColumn(column) {\n      var sortColumn = this.sSortColumn;\n\n      if (!column || !sortColumn) {\n        return false;\n      }\n\n      return getColumnKey(sortColumn) === getColumnKey(column);\n    },\n    // Get pagination, filters, sorter\n    prepareParamsArguments: function prepareParamsArguments(state, column) {\n      var pagination = _extends({}, state.sPagination); // remove useless handle function in Table.onChange\n\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.sFilters;\n      var sorter = {};\n      var currentColumn = column;\n\n      if (state.sSortColumn && state.sSortOrder) {\n        currentColumn = state.sSortColumn;\n        sorter.column = state.sSortColumn;\n        sorter.order = state.sSortOrder;\n      }\n\n      if (currentColumn) {\n        sorter.field = currentColumn.dataIndex;\n        sorter.columnKey = getColumnKey(currentColumn);\n      }\n\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    },\n    findColumn: function findColumn(myKey) {\n      var column;\n      treeMap(this.columns, function (c) {\n        if (getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    },\n    recursiveSort: function recursiveSort(data, sorterFn) {\n      var _this8 = this;\n\n      var _this$childrenColumnN = this.childrenColumnName,\n          childrenColumnName = _this$childrenColumnN === void 0 ? 'children' : _this$childrenColumnN;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends(_extends({}, item), _defineProperty({}, childrenColumnName, _this8.recursiveSort(_toConsumableArray(item[childrenColumnName]), sorterFn))) : item;\n      });\n    },\n    renderExpandIcon: function renderExpandIcon(prefixCls) {\n      if (this.expandIcon) {\n        return this.expandIcon;\n      }\n\n      return function (_ref2) {\n        var expandable = _ref2.expandable,\n            expanded = _ref2.expanded,\n            needIndentSpaced = _ref2.needIndentSpaced,\n            record = _ref2.record,\n            onExpand = _ref2.onExpand;\n\n        if (expandable) {\n          return _createVNode(LocaleReceiver, {\n            \"componentName\": \"Table\",\n            \"defaultLocale\": defaultLocale.Table,\n            \"children\": function children(locale) {\n              var _classNames;\n\n              return _createVNode(TransButton, {\n                \"class\": classNames(\"\".concat(prefixCls, \"-row-expand-icon\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-collapsed\"), !expanded), _defineProperty(_classNames, \"\".concat(prefixCls, \"-row-expanded\"), expanded), _classNames)),\n                \"onClick\": function onClick(event) {\n                  onExpand(record, event);\n                },\n                \"aria-label\": expanded ? locale.collapse : locale.expand,\n                \"noStyle\": true\n              }, null);\n            }\n          }, null);\n        }\n\n        if (needIndentSpaced) {\n          return _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-row-expand-icon \").concat(prefixCls, \"-row-spaced\")\n          }, null);\n        }\n\n        return null;\n      };\n    },\n    renderPagination: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n\n      var size = 'default';\n      var pagination = this.sPagination;\n\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.size === 'middle' || this.size === 'small') {\n        size = 'small';\n      }\n\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.filterDataCnt;\n\n      var cls = pagination.class,\n          style = pagination.style,\n          onChange = pagination.onChange,\n          onShowSizeChange = pagination.onShowSizeChange,\n          restProps = __rest(pagination, [\"class\", \"style\", \"onChange\", \"onShowSizeChange\"]); // eslint-disable-line\n\n\n      var paginationProps = _extends(_extends({\n        key: \"pagination-\".concat(paginationPosition),\n        class: classNames(cls, \"\".concat(prefixCls, \"-pagination\"))\n      }, restProps), {\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        style: style,\n        onChange: this.handlePageChange,\n        onShowSizeChange: this.handleShowSizeChange\n      });\n\n      return total > 0 && (position === paginationPosition || position === 'both') ? _createVNode(Pagination, paginationProps, null) : null;\n    },\n    renderSelectionBox: function renderSelectionBox(type) {\n      var _this9 = this;\n\n      return function (_ref3) {\n        var record = _ref3.record,\n            index = _ref3.index;\n\n        var rowKey = _this9.getRecordKey(record, index); // 从 1 开始\n\n\n        var props = _this9.getCheckboxPropsByItem(record, index);\n\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this9.handleRadioSelect(record, index, e) : _this9.handleSelect(record, index, e);\n        };\n\n        var selectionBoxProps = _extends({\n          type: type,\n          store: _this9.store,\n          rowIndex: rowKey,\n          defaultSelection: _this9.getDefaultSelection(),\n          onChange: handleChange\n        }, props);\n\n        return _createVNode(\"span\", {\n          \"onClick\": stopPropagation\n        }, [_createVNode(SelectionBox, selectionBoxProps, null)]);\n      };\n    },\n    renderRowSelection: function renderRowSelection(_ref4) {\n      var _this10 = this;\n\n      var prefixCls = _ref4.prefixCls,\n          locale = _ref4.locale,\n          getPopupContainer = _ref4.getPopupContainer;\n      var rowSelection = this.rowSelection;\n      var columns = this.columns.concat();\n\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData().filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this10.getCheckboxPropsByItem(item, index).disabled;\n          }\n\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n\n        var selectionColumn = _defineProperty({\n          key: 'selection-column',\n          customRender: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth,\n          title: rowSelection.columnTitle\n        }, INTERNAL_COL_DEFINE, {\n          class: \"\".concat(prefixCls, \"-selection-col\")\n        });\n\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this10.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || _createVNode(SelectionCheckboxAll, {\n            \"store\": this.store,\n            \"locale\": locale,\n            \"data\": data,\n            \"getCheckboxPropsByItem\": this.getCheckboxPropsByItem,\n            \"getRecordKey\": this.getRecordKey,\n            \"disabled\": checkboxAllDisabled,\n            \"prefixCls\": prefixCls,\n            \"onSelect\": this.handleSelectRow,\n            \"selections\": rowSelection.selections,\n            \"hideDefaultSelections\": rowSelection.hideDefaultSelections,\n            \"getPopupContainer\": this.generatePopupContainerFunc(getPopupContainer),\n            \"propsSymbol\": Symbol()\n          }, null);\n        }\n\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n\n      return columns;\n    },\n    renderColumnsDropdown: function renderColumnsDropdown(_ref5) {\n      var _this11 = this;\n\n      var prefixCls = _ref5.prefixCls,\n          dropdownPrefixCls = _ref5.dropdownPrefixCls,\n          columns = _ref5.columns,\n          locale = _ref5.locale,\n          getPopupContainer = _ref5.getPopupContainer;\n      var sortOrder = this.sSortOrder,\n          filters = this.sFilters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n\n        var key = getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var customHeaderCell = column.customHeaderCell;\n\n        var isSortColumn = _this11.isSortColumn(column);\n\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = _createVNode(FilterDropdown, {\n            \"locale\": locale,\n            \"column\": column,\n            \"selectedKeys\": colFilters,\n            \"confirmFilter\": _this11.handleFilter,\n            \"prefixCls\": \"\".concat(prefixCls, \"-filter\"),\n            \"dropdownPrefixCls\": dropdownPrefixCls || 'ant-dropdown',\n            \"getPopupContainer\": _this11.generatePopupContainerFunc(getPopupContainer),\n            \"key\": \"filter-dropdown\"\n          }, null);\n        }\n\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this11.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n\n          var ascend = sortDirections.indexOf('ascend') !== -1 && _createVNode(CaretUpFilled, {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            \"key\": \"caret-up\"\n          }, null);\n\n          var descend = sortDirections.indexOf('descend') !== -1 && _createVNode(CaretDownFilled, {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            \"key\": \"caret-down\"\n          }, null);\n\n          sortButton = _createVNode(\"div\", {\n            \"title\": locale.sortTitle,\n            \"class\": classNames(\"\".concat(prefixCls, \"-column-sorter-inner\"), ascend && descend && \"\".concat(prefixCls, \"-column-sorter-inner-full\")),\n            \"key\": \"sorter\"\n          }, [ascend, descend]);\n\n          customHeaderCell = function customHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.customHeaderCell) {\n              colProps = _extends({}, column.customHeaderCell(col));\n            } // Add sorter logic\n\n\n            var onHeaderCellClick = colProps.onClick;\n\n            colProps.onClick = function () {\n              _this11.toggleSortOrder(column);\n\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n\n            return colProps;\n          };\n        }\n\n        return _extends(_extends({}, column), {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\n          title: [_createVNode(\"span\", {\n            \"key\": \"title\",\n            \"class\": \"\".concat(prefixCls, \"-header-column\")\n          }, [_createVNode(\"div\", {\n            \"class\": sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, [_createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-column-title\")\n          }, [_this11.renderColumnTitle(column.title)]), _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-column-sorter\")\n          }, [sortButton])])]), filterDropdown],\n          customHeaderCell: customHeaderCell\n        });\n      });\n    },\n    renderColumnTitle: function renderColumnTitle(title) {\n      var _this$$data = this.$data,\n          filters = _this$$data.sFilters,\n          sortOrder = _this$$data.sSortOrder,\n          sortColumn = _this$$data.sSortColumn; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder,\n          sortColumn: sortColumn\n        });\n      }\n\n      return title;\n    },\n    renderTable: function renderTable(_ref6) {\n      var _classNames4,\n          _this12 = this;\n\n      var prefixCls = _ref6.prefixCls,\n          renderEmpty = _ref6.renderEmpty,\n          dropdownPrefixCls = _ref6.dropdownPrefixCls,\n          contextLocale = _ref6.contextLocale,\n          contextGetPopupContainer = _ref6.getPopupContainer,\n          transformCellText = _ref6.transformCellText;\n\n      var _a = _extends(_extends({}, getOptionProps(this)), this.$attrs),\n          showHeader = _a.showHeader,\n          locale = _a.locale,\n          getPopupContainer = _a.getPopupContainer,\n          style = _a.style,\n          restProps = __rest(_a, [\"showHeader\", \"locale\", \"getPopupContainer\", \"style\"]);\n\n      var data = this.getCurrentPageData();\n      var expandIconAsCell = this.expandedRowRender && this.expandIconAsCell !== false; // use props.getPopupContainer first\n\n      var realGetPopupContainer = getPopupContainer || contextGetPopupContainer; // Merge too locales\n\n      var mergedLocale = _extends(_extends({}, contextLocale), locale);\n\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n\n      var classString = classNames((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-\").concat(this.size), true), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-bordered\"), this.bordered), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames4));\n      var columnsWithRowSelection = this.renderRowSelection({\n        prefixCls: prefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      });\n      var columns = this.renderColumnsDropdown({\n        columns: columnsWithRowSelection,\n        prefixCls: prefixCls,\n        dropdownPrefixCls: dropdownPrefixCls,\n        locale: mergedLocale,\n        getPopupContainer: realGetPopupContainer\n      }).map(function (column, i) {\n        var newColumn = _extends({}, column);\n\n        newColumn.key = getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n\n      var vcTableProps = _extends(_extends({\n        key: 'table',\n        expandIcon: this.renderExpandIcon(prefixCls)\n      }, restProps), {\n        customRow: function customRow(record, index) {\n          return _this12.onRow(prefixCls, record, index);\n        },\n        components: this.sComponents,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText,\n        transformCellText: transformCellText,\n        class: classString,\n        ref: this.setTableRef\n      });\n\n      return _createVNode(VcTable, vcTableProps, null);\n    }\n  },\n  render: function render() {\n    var _this13 = this;\n\n    var customizePrefixCls = this.prefixCls,\n        customizeDropdownPrefixCls = this.dropdownPrefixCls,\n        customizeTransformCellText = this.transformCellText;\n    var data = this.getCurrentPageData();\n    var _this$configProvider = this.configProvider,\n        getContextPopupContainer = _this$configProvider.getPopupContainer,\n        tct = _this$configProvider.transformCellText;\n    var getPopupContainer = this.getPopupContainer || getContextPopupContainer;\n    var transformCellText = customizeTransformCellText || tct;\n    var loading = this.loading;\n\n    if (typeof loading === 'boolean') {\n      loading = {\n        spinning: loading\n      };\n    }\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var renderEmpty = this.configProvider.renderEmpty;\n    var prefixCls = getPrefixCls('table', customizePrefixCls);\n    var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n    var table = _createVNode(LocaleReceiver, {\n      \"componentName\": \"Table\",\n      \"defaultLocale\": defaultLocale.Table,\n      \"children\": function children(locale) {\n        return _this13.renderTable({\n          prefixCls: prefixCls,\n          renderEmpty: renderEmpty,\n          dropdownPrefixCls: dropdownPrefixCls,\n          contextLocale: locale,\n          getPopupContainer: getPopupContainer,\n          transformCellText: transformCellText\n        });\n      }\n    }, null); // if there is no pagination or no data,\n    // the height of spin should decrease by half of pagination\n\n\n    var paginationPatchClass = this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n\n    var spinProps = _extends(_extends({}, loading), {\n      class: loading && loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n    });\n\n    var _this$$attrs = this.$attrs,\n        className = _this$$attrs.class,\n        style = _this$$attrs.style;\n    return _createVNode(\"div\", {\n      \"class\": classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n      \"style\": style\n    }, [_createVNode(Spin, spinProps, {\n      default: function _default() {\n        return [_this13.renderPagination(prefixCls, 'top'), table, _this13.renderPagination(prefixCls, 'bottom')];\n      }\n    })]);\n  }\n});"]},"metadata":{},"sourceType":"module"}