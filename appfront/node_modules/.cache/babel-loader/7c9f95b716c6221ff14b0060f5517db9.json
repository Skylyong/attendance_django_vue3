{"ast":null,"code":"var staticHGKeyRE = require('./staticHGKeyRE');\n\nvar helperGetHGSKeys = require('./helperGetHGSKeys');\n\nvar hasOwnProp = require('./hasOwnProp');\n/**\r\n * 检查键、路径是否是该对象的属性\r\n *\r\n * @param {Object/Array} data 对象\r\n * @param {String/Function} property 键、路径\r\n * @return {Boolean}\r\n */\n\n\nfunction has(obj, property) {\n  if (obj) {\n    if (hasOwnProp(obj, property)) {\n      return true;\n    } else {\n      var prop, arrIndex, objProp, matchs, rest, isHas;\n      var props = helperGetHGSKeys(property);\n      var index = 0;\n      var len = props.length;\n\n      for (rest = obj; index < len; index++) {\n        isHas = false;\n        prop = props[index];\n        matchs = prop ? prop.match(staticHGKeyRE) : '';\n\n        if (matchs) {\n          arrIndex = matchs[1];\n          objProp = matchs[2];\n\n          if (arrIndex) {\n            if (rest[arrIndex]) {\n              if (hasOwnProp(rest[arrIndex], objProp)) {\n                isHas = true;\n                rest = rest[arrIndex][objProp];\n              }\n            }\n          } else {\n            if (hasOwnProp(rest, objProp)) {\n              isHas = true;\n              rest = rest[objProp];\n            }\n          }\n        } else {\n          if (hasOwnProp(rest, prop)) {\n            isHas = true;\n            rest = rest[prop];\n          }\n        }\n\n        if (isHas) {\n          if (index === len - 1) {\n            return true;\n          }\n        } else {\n          break;\n        }\n      }\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = has;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/has.js"],"names":["staticHGKeyRE","require","helperGetHGSKeys","hasOwnProp","has","obj","property","prop","arrIndex","objProp","matchs","rest","isHas","props","index","len","length","match","module","exports"],"mappings":"AAAA,IAAIA,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AAEA,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,oBAAD,CAA9B;;AAEA,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAD,CAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASG,GAAT,CAAcC,GAAd,EAAmBC,QAAnB,EAA6B;AAC3B,MAAID,GAAJ,EAAS;AACP,QAAIF,UAAU,CAACE,GAAD,EAAMC,QAAN,CAAd,EAA+B;AAC7B,aAAO,IAAP;AACD,KAFD,MAEO;AACL,UAAIC,IAAJ,EAAUC,QAAV,EAAoBC,OAApB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,KAA3C;AACA,UAAIC,KAAK,GAAGX,gBAAgB,CAACI,QAAD,CAA5B;AACA,UAAIQ,KAAK,GAAG,CAAZ;AACA,UAAIC,GAAG,GAAGF,KAAK,CAACG,MAAhB;;AACA,WAAKL,IAAI,GAAGN,GAAZ,EAAiBS,KAAK,GAAGC,GAAzB,EAA8BD,KAAK,EAAnC,EAAuC;AACrCF,QAAAA,KAAK,GAAG,KAAR;AACAL,QAAAA,IAAI,GAAGM,KAAK,CAACC,KAAD,CAAZ;AACAJ,QAAAA,MAAM,GAAGH,IAAI,GAAGA,IAAI,CAACU,KAAL,CAAWjB,aAAX,CAAH,GAA+B,EAA5C;;AACA,YAAIU,MAAJ,EAAY;AACVF,UAAAA,QAAQ,GAAGE,MAAM,CAAC,CAAD,CAAjB;AACAD,UAAAA,OAAO,GAAGC,MAAM,CAAC,CAAD,CAAhB;;AACA,cAAIF,QAAJ,EAAc;AACZ,gBAAIG,IAAI,CAACH,QAAD,CAAR,EAAoB;AAClB,kBAAIL,UAAU,CAACQ,IAAI,CAACH,QAAD,CAAL,EAAiBC,OAAjB,CAAd,EAAyC;AACvCG,gBAAAA,KAAK,GAAG,IAAR;AACAD,gBAAAA,IAAI,GAAGA,IAAI,CAACH,QAAD,CAAJ,CAAeC,OAAf,CAAP;AACD;AACF;AACF,WAPD,MAOO;AACL,gBAAIN,UAAU,CAACQ,IAAD,EAAOF,OAAP,CAAd,EAA+B;AAC7BG,cAAAA,KAAK,GAAG,IAAR;AACAD,cAAAA,IAAI,GAAGA,IAAI,CAACF,OAAD,CAAX;AACD;AACF;AACF,SAhBD,MAgBO;AACL,cAAIN,UAAU,CAACQ,IAAD,EAAOJ,IAAP,CAAd,EAA4B;AAC1BK,YAAAA,KAAK,GAAG,IAAR;AACAD,YAAAA,IAAI,GAAGA,IAAI,CAACJ,IAAD,CAAX;AACD;AACF;;AACD,YAAIK,KAAJ,EAAW;AACT,cAAIE,KAAK,KAAKC,GAAG,GAAG,CAApB,EAAuB;AACrB,mBAAO,IAAP;AACD;AACF,SAJD,MAIO;AACL;AACD;AACF;AACF;AACF;;AACD,SAAO,KAAP;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiBf,GAAjB","sourcesContent":["var staticHGKeyRE = require('./staticHGKeyRE')\r\n\r\nvar helperGetHGSKeys = require('./helperGetHGSKeys')\r\n\r\nvar hasOwnProp = require('./hasOwnProp')\r\n\r\n/**\r\n * 检查键、路径是否是该对象的属性\r\n *\r\n * @param {Object/Array} data 对象\r\n * @param {String/Function} property 键、路径\r\n * @return {Boolean}\r\n */\r\nfunction has (obj, property) {\r\n  if (obj) {\r\n    if (hasOwnProp(obj, property)) {\r\n      return true\r\n    } else {\r\n      var prop, arrIndex, objProp, matchs, rest, isHas\r\n      var props = helperGetHGSKeys(property)\r\n      var index = 0\r\n      var len = props.length\r\n      for (rest = obj; index < len; index++) {\r\n        isHas = false\r\n        prop = props[index]\r\n        matchs = prop ? prop.match(staticHGKeyRE) : ''\r\n        if (matchs) {\r\n          arrIndex = matchs[1]\r\n          objProp = matchs[2]\r\n          if (arrIndex) {\r\n            if (rest[arrIndex]) {\r\n              if (hasOwnProp(rest[arrIndex], objProp)) {\r\n                isHas = true\r\n                rest = rest[arrIndex][objProp]\r\n              }\r\n            }\r\n          } else {\r\n            if (hasOwnProp(rest, objProp)) {\r\n              isHas = true\r\n              rest = rest[objProp]\r\n            }\r\n          }\r\n        } else {\r\n          if (hasOwnProp(rest, prop)) {\r\n            isHas = true\r\n            rest = rest[prop]\r\n          }\r\n        }\r\n        if (isHas) {\r\n          if (index === len - 1) {\r\n            return true\r\n          }\r\n        } else {\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nmodule.exports = has\r\n"]},"metadata":{},"sourceType":"script"}