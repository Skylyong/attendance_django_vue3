{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, provide } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport warning from '../_util/warning';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName, noop } from './utils';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: PropTypes.func.def(noop),\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: PropTypes.looseBool,\n    destroyPopupOnHide: PropTypes.looseBool.def(false),\n    mask: PropTypes.looseBool.def(false),\n    maskClosable: PropTypes.looseBool.def(true),\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: PropTypes.looseBool,\n    defaultPopupVisible: PropTypes.looseBool.def(false),\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string,\n    stretch: PropTypes.string,\n    alignPoint: PropTypes.looseBool // Maybe we can support user pass position in the future\n\n  },\n  setup: function setup() {\n    return {\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      savePopupRef: inject('savePopupRef', noop),\n      dialogContext: inject('dialogContext', null)\n    };\n  },\n  data: function data() {\n    var _this = this;\n\n    var props = this.$props;\n    var popupVisible;\n\n    if (hasProp(this, 'popupVisible')) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    this._component = null;\n    this.focusTime = null;\n    this.clickOutsideHandler = null;\n    this.contextmenuOutsideHandler1 = null;\n    this.contextmenuOutsideHandler2 = null;\n    this.touchOutsideHandler = null;\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument();\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument();\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument();\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _this$vcTriggerContex = this.vcTriggerContext,\n          vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = findDOMNode(this);\n\n      if (!contains(root, target) && !this.hasPopupMouseDown) {\n        this.close();\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      if (this._component && this._component.getPopupDomNode) {\n        return this._component.getPopupDomNode();\n      }\n\n      return null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    savePopup: function savePopup(node) {\n      this._component = node;\n      this.savePopupRef(node);\n    },\n    getComponent: function getComponent() {\n      var self = this;\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = self.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = self.onPopupMouseleave;\n      }\n\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = self.handleGetPopupClassFromAlign,\n          getRootDomNode = self.getRootDomNode,\n          getContainer = self.getContainer,\n          $attrs = self.$attrs;\n      var _self$$props = self.$props,\n          prefixCls = _self$$props.prefixCls,\n          destroyPopupOnHide = _self$$props.destroyPopupOnHide,\n          popupClassName = _self$$props.popupClassName,\n          action = _self$$props.action,\n          popupAnimation = _self$$props.popupAnimation,\n          popupTransitionName = _self$$props.popupTransitionName,\n          popupStyle = _self$$props.popupStyle,\n          mask = _self$$props.mask,\n          maskAnimation = _self$$props.maskAnimation,\n          maskTransitionName = _self$$props.maskTransitionName,\n          zIndex = _self$$props.zIndex,\n          stretch = _self$$props.stretch,\n          alignPoint = _self$$props.alignPoint;\n      var _this$$data = this.$data,\n          sPopupVisible = _this$$data.sPopupVisible,\n          point = _this$$data.point;\n      var align = this.getPopupAlign();\n\n      var popupProps = _extends(_extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        action: action,\n        align: align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        popupClassName: popupClassName,\n        popupStyle: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {\n        ref: this.savePopup\n      });\n\n      return _createVNode(Popup, popupProps, {\n        default: function _default() {\n          return [_getComponent(self, 'popup')];\n        }\n      });\n    },\n    getContainer: function getContainer() {\n      var props = this.$props,\n          dialogContext = this.dialogContext;\n      var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(this), dialogContext) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      this.popupContainer = popupContainer;\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible,\n          onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this5 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this5.setPopupVisible(visible, point);\n\n          _this5.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getEvents(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props = this.$props,\n          action = _this$$props.action,\n          showAction = _this$$props.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props2 = this.$props,\n          action = _this$$props2.action,\n          showAction = _this$$props2.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props3 = this.$props,\n          action = _this$$props3.action,\n          hideAction = _this$$props3.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props4 = this.$props,\n          action = _this$$props4.action,\n          showAction = _this$$props4.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props5 = this.$props,\n          action = _this$$props5.action,\n          hideAction = _this$$props5.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props6 = this.$props,\n          action = _this$$props6.action,\n          showAction = _this$$props6.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props7 = this.$props,\n          action = _this$$props7.action,\n          hideAction = _this$$props7.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible && this._component && this._component.alignInstance) {\n        this._component.alignInstance.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      var event = this.$props[type] || this.$attrs[type];\n\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this6 = this;\n\n    var sPopupVisible = this.sPopupVisible,\n        $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var _this$$props8 = this.$props,\n        forceRender = _this$$props8.forceRender,\n        alignPoint = _this$$props8.alignPoint;\n\n    if (children.length > 1) {\n      warning(false, 'Trigger children just support only one default', true);\n    }\n\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this6.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n\n    var trigger = cloneElement(child, newChildProps);\n    var portal; // prevent unmounting after it's rendered\n\n    if (sPopupVisible || this._component || forceRender) {\n      portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"children\": this.getComponent(),\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, null);\n    }\n\n    return [portal, trigger];\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-trigger/Trigger.js"],"names":["_extends","createVNode","_createVNode","defineComponent","inject","provide","PropTypes","contains","hasProp","getComponent","_getComponent","getEvents","filterEmpty","getSlot","findDOMNode","requestAnimationTimeout","cancelAnimationTimeout","addEventListener","warning","Popup","getAlignFromPlacement","getAlignPopupClassName","noop","BaseMixin","Portal","classNames","cloneElement","supportsPassive","returnEmptyString","returnDocument","window","document","ALL_HANDLERS","name","mixins","inheritAttrs","props","action","oneOfType","string","arrayOf","def","showAction","any","hideAction","getPopupClassNameFromAlign","onPopupVisibleChange","func","afterPopupVisibleChange","popup","popupStyle","object","prefixCls","popupClassName","popupPlacement","builtinPlacements","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","getDocument","forceRender","looseBool","destroyPopupOnHide","mask","maskClosable","popupAlign","popupVisible","defaultPopupVisible","maskTransitionName","maskAnimation","stretch","alignPoint","setup","vcTriggerContext","savePopupRef","dialogContext","data","_this","$props","forEach","h","concat","e","fireEvents","_component","focusTime","clickOutsideHandler","contextmenuOutsideHandler1","contextmenuOutsideHandler2","touchOutsideHandler","prevPopupVisible","sPopupVisible","point","watch","val","undefined","created","deactivated","setPopupVisible","mounted","_this2","$nextTick","updatedCal","updated","_this3","beforeUnmount","clearDelayTimer","clearOutsideHandler","clearTimeout","mouseDownTimeout","methods","state","$data","currentDocument","isClickToHide","isContextmenuToShow","onDocumentClick","passive","onContextmenuClose","onMouseenter","delaySetPopupVisible","onMouseMove","setPoint","onMouseleave","onPopupMouseenter","onPopupMouseleave","relatedTarget","setTimeout","getPopupDomNode","onFocus","isFocusToShow","Date","now","onMousedown","preClickTime","onTouchstart","preTouchTime","onBlur","target","activeElement","isBlurToHide","onContextmenu","preventDefault","close","onClick","event","preTime","Math","min","abs","isClickToShow","domEvent","nextVisible","onPopupMouseDown","_this4","_this$vcTriggerContex","hasPopupMouseDown","apply","arguments","root","getRootDomNode","handleGetPopupClassFromAlign","align","className","push","join","getPopupAlign","savePopup","node","self","mouseProps","isMouseEnterToShow","isMouseLeaveToHide","getContainer","$attrs","_self$$props","_this$$data","popupProps","visible","animation","getClassNameFromAlign","transitionName","onAlign","onPopupAlign","ref","default","_default","popupContainer","createElement","style","position","top","left","width","mountNode","body","appendChild","setState","pageX","pageY","handlePortalUpdate","delayS","_this5","delay","delayTimer","remove","createTwoChains","fn","events","childOriginEvents","_this$$props","indexOf","_this$$props2","_this$$props3","_this$$props4","_this$$props5","_this$$props6","_this$$props7","forcePopupAlign","alignInstance","forceAlign","type","render","_this6","children","_this$$props8","length","child","newChildProps","key","onMousemove","childrenClassName","class","trigger","portal"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, inject, provide } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport warning from '../_util/warning';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName, noop } from './utils';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: PropTypes.func.def(noop),\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: PropTypes.looseBool,\n    destroyPopupOnHide: PropTypes.looseBool.def(false),\n    mask: PropTypes.looseBool.def(false),\n    maskClosable: PropTypes.looseBool.def(true),\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: PropTypes.looseBool,\n    defaultPopupVisible: PropTypes.looseBool.def(false),\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string,\n    stretch: PropTypes.string,\n    alignPoint: PropTypes.looseBool // Maybe we can support user pass position in the future\n\n  },\n  setup: function setup() {\n    return {\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      savePopupRef: inject('savePopupRef', noop),\n      dialogContext: inject('dialogContext', null)\n    };\n  },\n  data: function data() {\n    var _this = this;\n\n    var props = this.$props;\n    var popupVisible;\n\n    if (hasProp(this, 'popupVisible')) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    this._component = null;\n    this.focusTime = null;\n    this.clickOutsideHandler = null;\n    this.contextmenuOutsideHandler1 = null;\n    this.contextmenuOutsideHandler2 = null;\n    this.touchOutsideHandler = null;\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument();\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument();\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument();\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _this$vcTriggerContex = this.vcTriggerContext,\n          vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = findDOMNode(this);\n\n      if (!contains(root, target) && !this.hasPopupMouseDown) {\n        this.close();\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      if (this._component && this._component.getPopupDomNode) {\n        return this._component.getPopupDomNode();\n      }\n\n      return null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    savePopup: function savePopup(node) {\n      this._component = node;\n      this.savePopupRef(node);\n    },\n    getComponent: function getComponent() {\n      var self = this;\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = self.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = self.onPopupMouseleave;\n      }\n\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = self.handleGetPopupClassFromAlign,\n          getRootDomNode = self.getRootDomNode,\n          getContainer = self.getContainer,\n          $attrs = self.$attrs;\n      var _self$$props = self.$props,\n          prefixCls = _self$$props.prefixCls,\n          destroyPopupOnHide = _self$$props.destroyPopupOnHide,\n          popupClassName = _self$$props.popupClassName,\n          action = _self$$props.action,\n          popupAnimation = _self$$props.popupAnimation,\n          popupTransitionName = _self$$props.popupTransitionName,\n          popupStyle = _self$$props.popupStyle,\n          mask = _self$$props.mask,\n          maskAnimation = _self$$props.maskAnimation,\n          maskTransitionName = _self$$props.maskTransitionName,\n          zIndex = _self$$props.zIndex,\n          stretch = _self$$props.stretch,\n          alignPoint = _self$$props.alignPoint;\n      var _this$$data = this.$data,\n          sPopupVisible = _this$$data.sPopupVisible,\n          point = _this$$data.point;\n      var align = this.getPopupAlign();\n\n      var popupProps = _extends(_extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        action: action,\n        align: align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        popupClassName: popupClassName,\n        popupStyle: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {\n        ref: this.savePopup\n      });\n\n      return _createVNode(Popup, popupProps, {\n        default: function _default() {\n          return [_getComponent(self, 'popup')];\n        }\n      });\n    },\n    getContainer: function getContainer() {\n      var props = this.$props,\n          dialogContext = this.dialogContext;\n      var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(this), dialogContext) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      this.popupContainer = popupContainer;\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible,\n          onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this5 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this5.setPopupVisible(visible, point);\n\n          _this5.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getEvents(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props = this.$props,\n          action = _this$$props.action,\n          showAction = _this$$props.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props2 = this.$props,\n          action = _this$$props2.action,\n          showAction = _this$$props2.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props3 = this.$props,\n          action = _this$$props3.action,\n          hideAction = _this$$props3.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props4 = this.$props,\n          action = _this$$props4.action,\n          showAction = _this$$props4.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props5 = this.$props,\n          action = _this$$props5.action,\n          hideAction = _this$$props5.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props6 = this.$props,\n          action = _this$$props6.action,\n          showAction = _this$$props6.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props7 = this.$props,\n          action = _this$$props7.action,\n          hideAction = _this$$props7.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible && this._component && this._component.alignInstance) {\n        this._component.alignInstance.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      var event = this.$props[type] || this.$attrs[type];\n\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this6 = this;\n\n    var sPopupVisible = this.sPopupVisible,\n        $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var _this$$props8 = this.$props,\n        forceRender = _this$$props8.forceRender,\n        alignPoint = _this$$props8.alignPoint;\n\n    if (children.length > 1) {\n      warning(false, 'Trigger children just support only one default', true);\n    }\n\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this6.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n\n    var trigger = cloneElement(child, newChildProps);\n    var portal; // prevent unmounting after it's rendered\n\n    if (sPopupVisible || this._component || forceRender) {\n      portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"children\": this.getComponent(),\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, null);\n    }\n\n    return [portal, trigger];\n  }\n});"]},"metadata":{},"sourceType":"module"}