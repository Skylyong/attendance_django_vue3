{"ast":null,"code":"import XEUtils from 'xe-utils';\nimport { warnLog } from '../../tools/log';\nvar storeMap = {};\nexport var interceptor = {\n  mixin: function (options) {\n    XEUtils.each(options, function (callback, type) {\n      return interceptor.add(type, callback);\n    });\n    return interceptor;\n  },\n  get: function (type) {\n    return storeMap[type] || [];\n  },\n  add: function (type, callback) {\n    // 检测类型\n    if (process.env.NODE_ENV === 'development') {\n      var eventTypes = ['created', 'mounted', 'activated', 'beforeUnmount', 'unmounted', 'event.clearActived', 'event.clearFilter', 'event.clearAreas', 'event.showMenu', 'event.keydown', 'event.export', 'event.import'];\n\n      if (eventTypes.indexOf(type) === -1) {\n        warnLog('vxe.error.errProp', [\"Interceptor.\" + type, eventTypes.join('|')]);\n      }\n    }\n\n    if (callback) {\n      var eList = storeMap[type];\n\n      if (!eList) {\n        eList = storeMap[type] = [];\n      } // 检测重复\n\n\n      if (process.env.NODE_ENV === 'development') {\n        if (eList.indexOf(callback) > -1) {\n          warnLog('vxe.error.coverProp', ['Interceptor', type]);\n        }\n      }\n\n      eList.push(callback);\n    }\n\n    return interceptor;\n  },\n  delete: function (type, callback) {\n    var eList = storeMap[type];\n\n    if (eList) {\n      if (callback) {\n        XEUtils.remove(eList, function (fn) {\n          return fn === callback;\n        });\n      } else {\n        delete storeMap[type];\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vxe-table/es/v-x-e-table/src/interceptor.js"],"names":["XEUtils","warnLog","storeMap","interceptor","mixin","options","each","callback","type","add","get","process","env","NODE_ENV","eventTypes","indexOf","join","eList","push","delete","remove","fn"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,UAApB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,IAAIC,QAAQ,GAAG,EAAf;AACA,OAAO,IAAIC,WAAW,GAAG;AACrBC,EAAAA,KAAK,EAAE,UAAUC,OAAV,EAAmB;AACtBL,IAAAA,OAAO,CAACM,IAAR,CAAaD,OAAb,EAAsB,UAAUE,QAAV,EAAoBC,IAApB,EAA0B;AAAE,aAAOL,WAAW,CAACM,GAAZ,CAAgBD,IAAhB,EAAsBD,QAAtB,CAAP;AAAyC,KAA3F;AACA,WAAOJ,WAAP;AACH,GAJoB;AAKrBO,EAAAA,GAAG,EAAE,UAAUF,IAAV,EAAgB;AACjB,WAAON,QAAQ,CAACM,IAAD,CAAR,IAAkB,EAAzB;AACH,GAPoB;AAQrBC,EAAAA,GAAG,EAAE,UAAUD,IAAV,EAAgBD,QAAhB,EAA0B;AAC3B;AACA,QAAII,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxC,UAAIC,UAAU,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,WAAvB,EAAoC,eAApC,EAAqD,WAArD,EAAkE,oBAAlE,EAAwF,mBAAxF,EAA6G,kBAA7G,EAAiI,gBAAjI,EAAmJ,eAAnJ,EAAoK,cAApK,EAAoL,cAApL,CAAjB;;AACA,UAAIA,UAAU,CAACC,OAAX,CAAmBP,IAAnB,MAA6B,CAAC,CAAlC,EAAqC;AACjCP,QAAAA,OAAO,CAAC,mBAAD,EAAsB,CAAC,iBAAiBO,IAAlB,EAAwBM,UAAU,CAACE,IAAX,CAAgB,GAAhB,CAAxB,CAAtB,CAAP;AACH;AACJ;;AACD,QAAIT,QAAJ,EAAc;AACV,UAAIU,KAAK,GAAGf,QAAQ,CAACM,IAAD,CAApB;;AACA,UAAI,CAACS,KAAL,EAAY;AACRA,QAAAA,KAAK,GAAGf,QAAQ,CAACM,IAAD,CAAR,GAAiB,EAAzB;AACH,OAJS,CAKV;;;AACA,UAAIG,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxC,YAAII,KAAK,CAACF,OAAN,CAAcR,QAAd,IAA0B,CAAC,CAA/B,EAAkC;AAC9BN,UAAAA,OAAO,CAAC,qBAAD,EAAwB,CAAC,aAAD,EAAgBO,IAAhB,CAAxB,CAAP;AACH;AACJ;;AACDS,MAAAA,KAAK,CAACC,IAAN,CAAWX,QAAX;AACH;;AACD,WAAOJ,WAAP;AACH,GA9BoB;AA+BrBgB,EAAAA,MAAM,EAAE,UAAUX,IAAV,EAAgBD,QAAhB,EAA0B;AAC9B,QAAIU,KAAK,GAAGf,QAAQ,CAACM,IAAD,CAApB;;AACA,QAAIS,KAAJ,EAAW;AACP,UAAIV,QAAJ,EAAc;AACVP,QAAAA,OAAO,CAACoB,MAAR,CAAeH,KAAf,EAAsB,UAAUI,EAAV,EAAc;AAAE,iBAAOA,EAAE,KAAKd,QAAd;AAAyB,SAA/D;AACH,OAFD,MAGK;AACD,eAAOL,QAAQ,CAACM,IAAD,CAAf;AACH;AACJ;AACJ;AAzCoB,CAAlB","sourcesContent":["import XEUtils from 'xe-utils';\nimport { warnLog } from '../../tools/log';\nvar storeMap = {};\nexport var interceptor = {\n    mixin: function (options) {\n        XEUtils.each(options, function (callback, type) { return interceptor.add(type, callback); });\n        return interceptor;\n    },\n    get: function (type) {\n        return storeMap[type] || [];\n    },\n    add: function (type, callback) {\n        // 检测类型\n        if (process.env.NODE_ENV === 'development') {\n            var eventTypes = ['created', 'mounted', 'activated', 'beforeUnmount', 'unmounted', 'event.clearActived', 'event.clearFilter', 'event.clearAreas', 'event.showMenu', 'event.keydown', 'event.export', 'event.import'];\n            if (eventTypes.indexOf(type) === -1) {\n                warnLog('vxe.error.errProp', [\"Interceptor.\" + type, eventTypes.join('|')]);\n            }\n        }\n        if (callback) {\n            var eList = storeMap[type];\n            if (!eList) {\n                eList = storeMap[type] = [];\n            }\n            // 检测重复\n            if (process.env.NODE_ENV === 'development') {\n                if (eList.indexOf(callback) > -1) {\n                    warnLog('vxe.error.coverProp', ['Interceptor', type]);\n                }\n            }\n            eList.push(callback);\n        }\n        return interceptor;\n    },\n    delete: function (type, callback) {\n        var eList = storeMap[type];\n        if (eList) {\n            if (callback) {\n                XEUtils.remove(eList, function (fn) { return fn === callback; });\n            }\n            else {\n                delete storeMap[type];\n            }\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"module"}