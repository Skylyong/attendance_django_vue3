{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, createSlots as _createSlots, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7da06adc\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"editable-row-operations\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"onClick\"];\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Cancel\", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n\n  const _component_a_select = _resolveComponent(\"a-select\");\n\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n\n  const _component_a_table = _resolveComponent(\"a-table\");\n\n  return _openBlock(), _createBlock(_component_a_table, {\n    columns: _ctx.columns,\n    \"data-source\": _ctx.dataSource,\n    bordered: \"\"\n  }, _createSlots({\n    operation: _withCtx(({\n      record\n    }) => [_createElementVNode(\"div\", _hoisted_1, [_ctx.editableData[record.key] ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [_createElementVNode(\"a\", {\n      onClick: $event => _ctx.save(record.key)\n    }, \"Save\", 8\n    /* PROPS */\n    , _hoisted_3), _createVNode(_component_a_popconfirm, {\n      title: \"Sure to cancel?\",\n      onConfirm: $event => _ctx.cancel(record.key)\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"onConfirm\"])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, [_createElementVNode(\"a\", {\n      onClick: $event => _ctx.edit(record.key)\n    }, \"Edit\", 8\n    /* PROPS */\n    , _hoisted_6)]))])]),\n    _: 2\n    /* DYNAMIC */\n\n  }, [_renderList(['name', 'age', 'address'], col => {\n    return {\n      name: col,\n      fn: _withCtx(({\n        text,\n        record\n      }) => [_createElementVNode(\"div\", null, [_ctx.editableData[record.key] ? (_openBlock(), _createBlock(_component_a_input, {\n        key: 0,\n        value: _ctx.editableData[record.key][col],\n        \"onUpdate:value\": $event => _ctx.editableData[record.key][col] = $event,\n        style: {\n          \"margin\": \"-5px 0\"\n        }\n      }, null, 8\n      /* PROPS */\n      , [\"value\", \"onUpdate:value\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [(_ctx.columns = _ctx.key) ? (_openBlock(), _createBlock(_component_a_select, {\n        key: 0,\n        value: _ctx.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _ctx.value = $event),\n        \"label-in-value\": \"\",\n        style: {\n          \"width\": \"120px\"\n        },\n        options: _ctx.options,\n        onChange: _ctx.handleChange\n      }, null, 8\n      /* PROPS */\n      , [\"value\", \"options\", \"onChange\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(text), 1\n      /* TEXT */\n      )], 64\n      /* STABLE_FRAGMENT */\n      ))])])\n    };\n  })]), 1032\n  /* PROPS, DYNAMIC_SLOTS */\n  , [\"columns\", \"data-source\"]);\n}","map":{"version":3,"mappings":";;;;;AAgCWA,OAAK,EAAC;;;;;;;gEAULC,oBAAa,GAAb,EAAa,IAAb,EAAG,QAAH,EAAS;AAAA;AAAT;;;;;;;;;;;;;;;uBAzCVC,aAiDUC,kBAjDV,EAiDU;AAjDAC,WAAO,EAAEC,YAiDT;AAjDmB,mBAAaA,eAiDhC;AAjD4CC,YAAQ,EAAR;AAiD5C,GAjDV;AA8BaC,aAAS,WAClB,CAgBM;AAjBgBC;AAiBhB,KAhBN,KAD4B,CAC5BP,oBAgBM,KAhBN,cAgBM,CAfQI,kBAAaG,MAAM,CAACC,GAApB,mBAAZC,oBAWO,MAXP,EAWOC,UAXP,EAWO,CAJLV,oBAAqC,GAArC,EAAqC;AAAjCW,aAAK,YAAEP,UAAKG,MAAM,CAACC,GAAZ;AAA0B,KAArC,EAA6B,MAA7B,EAAiC;AAAA;AAAjC,MAAiCI,UAAjC,CAIK,EAHLC,aAEeC,uBAFf,EAEe;AAFDC,WAAK,EAAC,iBAEL;AAFwBC,eAAO,YAAEZ,YAAOG,MAAM,CAACC,GAAd;AAEjC,KAFf;wBACE,MAAa,CAAbS,UAAa;;;;KADf;;AAAA,oBAGK,CAXP,oBAYAR,oBAEO,MAFP,EAEOS,UAFP,EAEO,CADLlB,oBAAqC,GAArC,EAAqC;AAAjCW,aAAK,YAAEP,UAAKG,MAAM,CAACC,GAAZ;AAA0B,KAArC,EAA6B,MAA7B,EAAiC;AAAA;AAAjC,MAAiCW,UAAjC,CACK,CAFP,EAGI,CAhBN,CAD4B,CAAV;;;;kBA7BI,4BAAPC,GAAiC,IAA9B;;YAAiCA;mBACnD,CA0BM;AA3BsDC,YA2BtD;AA3B4Dd;AA2B5D,OA1BN,KADwE,CACxEP,oBA0BM,KA1BN,EA0BM,IA1BN,EA0BM,CAxBII,kBAAaG,MAAM,CAACC,GAApB,mBADRP,aAIEqB,kBAJF,EAIE;cAAA;AAFQC,aAAK,EAAEnB,kBAAaG,MAAM,CAACC,GAApB,EAAyBY,GAAzB,CAEf;oCAFehB,kBAAaG,MAAM,CAACC,GAApB,EAAyBY,GAAzB,IAA4BI,MAE3C;AADAC,aAAsB,EAAtB;AAAA;AAAA;AACA,OAJF;;AAAA,uDAWAhB,oBAaWiB,SAbX,EAaW;AAAAlB;AAAA,OAbX,EAaW,EAXEJ,eAASA,2BAA1BH,aAOS0B,mBAPT,EAOS;cAAA;AANDJ,aAAK,EAAEnB,UAMN;8DANMA,aAAKoB,OAMX;AALT,4BAKS;AAJTC,aAAoB,EAApB;AAAA;AAAA,SAIS;AAHRG,eAAO,EAAExB,YAGD;AAFRyB,gBAAM,EAAEzB;AAEA,OAPT;;AAAA,8EAWe,mBAJN,MAGH0B,iBAAGT,IAAH,GAAO;AAAA;OACE,CAbX;;AAAA,QAcI,CA1BN,CADwE;;MAD5E;;AAAA","names":["class","_createElementVNode","_createBlock","_component_a_table","columns","_ctx","bordered","operation","record","key","_createElementBlock","_hoisted_2","onClick","_hoisted_3","_createVNode","_component_a_popconfirm","title","onConfirm","_hoisted_4","_hoisted_5","_hoisted_6","col","text","_component_a_input","value","$event","style","_Fragment","_component_a_select","options","onChange","_toDisplayString"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\n    <template v-for=\"col in ['name', 'age', 'address']\" #[col]=\"{ text, record }\" :key=\"col\">\n      <div>\n        <a-input\n          v-if=\"editableData[record.key]\"\n          v-model:value=\"editableData[record.key][col]\"\n          style=\"margin: -5px 0\"\n        />\n\n\n\n\n\n\n        <template v-else>\n\n    <a-select v-if= \"columns= key\"\n    v-model:value=\"value\"\n    label-in-value\n    style=\"width: 120px\"\n    :options=\"options\"\n    @change=\"handleChange\"\n  >\n  </a-select>\n\n\n          {{ text }}\n        </template>\n      </div>\n    </template>\n    <template #operation=\"{ record }\">\n      <div class=\"editable-row-operations\">\n        <span v-if=\"editableData[record.key]\">\n\n\n\n\n\n\n          <a @click=\"save(record.key)\">Save</a>\n          <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\n            <a>Cancel</a>\n          </a-popconfirm>\n        </span>\n        <span v-else>\n          <a @click=\"edit(record.key)\">Edit</a>\n        </span>\n      </div>\n    </template>\n  </a-table>\n</template>\n<script>\nimport { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n    width: '25%',\n    slots: {\n      customRender: 'name',\n    },\n  },\n  {\n    title: 'age',\n    dataIndex: 'age',\n    width: '15%',\n    slots: {\n      customRender: 'age',\n    },\n  },\n  {\n    title: 'address',\n    dataIndex: 'address',\n    width: '40%',\n    slots: {\n      customRender: 'address',\n    },\n  },\n  {\n    title: 'operation',\n    dataIndex: 'operation',\n    slots: {\n      customRender: 'operation',\n    },\n  },\n];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel,\n    };\n  },\n});\n</script>\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}