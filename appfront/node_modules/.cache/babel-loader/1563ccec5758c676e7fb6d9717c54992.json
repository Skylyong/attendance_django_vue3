{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport classnames from '../_util/classNames';\nimport { findDOMNode } from '../_util/props-util';\n\nfunction noop() {}\n\nvar scrollTo = function scrollTo(element, to, duration) {\n  // jump to target if duration zero\n  if (duration <= 0) {\n    requestAnimationFrame(function () {\n      element.scrollTop = to;\n    });\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  requestAnimationFrame(function () {\n    element.scrollTop += perTick;\n    if (element.scrollTop === to) return;\n    scrollTo(element, to, duration - 10);\n  });\n};\n\nvar Select = {\n  name: 'Select',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    prefixCls: PropTypes.string,\n    options: PropTypes.array,\n    selectedIndex: PropTypes.number,\n    type: PropTypes.string // onSelect: PropTypes.func,\n    // onMouseEnter: PropTypes.func,\n\n  },\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // jump to selected option\n      _this.scrollToSelected(0);\n    });\n  },\n  watch: {\n    selectedIndex: function selectedIndex() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // smooth scroll to selected option\n        _this2.scrollToSelected(120);\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect(value) {\n      var type = this.type;\n\n      this.__emit('select', type, value);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getOptions: function getOptions() {\n      var _this3 = this;\n\n      var options = this.options,\n          selectedIndex = this.selectedIndex,\n          prefixCls = this.prefixCls;\n      return options.map(function (item, index) {\n        var _classnames;\n\n        var cls = classnames((_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-select-option-selected\"), selectedIndex === index), _defineProperty(_classnames, \"\".concat(prefixCls, \"-select-option-disabled\"), item.disabled), _classnames));\n        var onClick = item.disabled ? noop : function () {\n          _this3.onSelect(item.value);\n        };\n\n        var onKeyDown = function onKeyDown(e) {\n          if (e.keyCode === 13) onClick();else if (e.keyCode === 27) _this3.onEsc();\n        };\n\n        return _createVNode(\"li\", {\n          \"role\": \"button\",\n          \"onClick\": onClick,\n          \"class\": cls,\n          \"key\": index,\n          \"disabled\": item.disabled,\n          \"tabindex\": \"0\",\n          \"onKeydown\": onKeyDown\n        }, [item.value]);\n      });\n    },\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.setState({\n        active: true\n      });\n\n      this.__emit('mouseenter', e);\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      this.setState({\n        active: false\n      });\n    },\n    scrollToSelected: function scrollToSelected(duration) {\n      // move to selected item\n      var select = findDOMNode(this);\n      var list = this.$refs.list;\n\n      if (!list) {\n        return;\n      }\n\n      var index = this.selectedIndex;\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      var topOption = list.children[index];\n      var to = topOption.offsetTop;\n      scrollTo(select, to, duration);\n    }\n  },\n  render: function render() {\n    var _cls;\n\n    var prefixCls = this.prefixCls,\n        options = this.options,\n        active = this.active;\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    var cls = (_cls = {}, _defineProperty(_cls, \"\".concat(prefixCls, \"-select\"), 1), _defineProperty(_cls, \"\".concat(prefixCls, \"-select-active\"), active), _cls);\n    return _createVNode(\"div\", {\n      \"class\": cls,\n      \"onMouseenter\": this.handleMouseEnter,\n      \"onMouseleave\": this.handleMouseLeave\n    }, [_createVNode(\"ul\", {\n      \"ref\": \"list\"\n    }, [this.getOptions()])]);\n  }\n};\nexport default Select;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-time-picker/Select.js"],"names":["_defineProperty","createVNode","_createVNode","PropTypes","BaseMixin","classnames","findDOMNode","noop","scrollTo","element","to","duration","requestAnimationFrame","scrollTop","difference","perTick","Select","name","mixins","inheritAttrs","props","prefixCls","string","options","array","selectedIndex","number","type","data","active","mounted","_this","$nextTick","scrollToSelected","watch","_this2","methods","onSelect","value","__emit","onEsc","e","getOptions","_this3","map","item","index","_classnames","cls","concat","disabled","onClick","onKeyDown","keyCode","handleMouseEnter","setState","handleMouseLeave","select","list","$refs","topOption","children","offsetTop","render","_cls","length"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport classnames from '../_util/classNames';\nimport { findDOMNode } from '../_util/props-util';\n\nfunction noop() {}\n\nvar scrollTo = function scrollTo(element, to, duration) {\n  // jump to target if duration zero\n  if (duration <= 0) {\n    requestAnimationFrame(function () {\n      element.scrollTop = to;\n    });\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  requestAnimationFrame(function () {\n    element.scrollTop += perTick;\n    if (element.scrollTop === to) return;\n    scrollTo(element, to, duration - 10);\n  });\n};\n\nvar Select = {\n  name: 'Select',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    prefixCls: PropTypes.string,\n    options: PropTypes.array,\n    selectedIndex: PropTypes.number,\n    type: PropTypes.string // onSelect: PropTypes.func,\n    // onMouseEnter: PropTypes.func,\n\n  },\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // jump to selected option\n      _this.scrollToSelected(0);\n    });\n  },\n  watch: {\n    selectedIndex: function selectedIndex() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        // smooth scroll to selected option\n        _this2.scrollToSelected(120);\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect(value) {\n      var type = this.type;\n\n      this.__emit('select', type, value);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getOptions: function getOptions() {\n      var _this3 = this;\n\n      var options = this.options,\n          selectedIndex = this.selectedIndex,\n          prefixCls = this.prefixCls;\n      return options.map(function (item, index) {\n        var _classnames;\n\n        var cls = classnames((_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-select-option-selected\"), selectedIndex === index), _defineProperty(_classnames, \"\".concat(prefixCls, \"-select-option-disabled\"), item.disabled), _classnames));\n        var onClick = item.disabled ? noop : function () {\n          _this3.onSelect(item.value);\n        };\n\n        var onKeyDown = function onKeyDown(e) {\n          if (e.keyCode === 13) onClick();else if (e.keyCode === 27) _this3.onEsc();\n        };\n\n        return _createVNode(\"li\", {\n          \"role\": \"button\",\n          \"onClick\": onClick,\n          \"class\": cls,\n          \"key\": index,\n          \"disabled\": item.disabled,\n          \"tabindex\": \"0\",\n          \"onKeydown\": onKeyDown\n        }, [item.value]);\n      });\n    },\n    handleMouseEnter: function handleMouseEnter(e) {\n      this.setState({\n        active: true\n      });\n\n      this.__emit('mouseenter', e);\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      this.setState({\n        active: false\n      });\n    },\n    scrollToSelected: function scrollToSelected(duration) {\n      // move to selected item\n      var select = findDOMNode(this);\n      var list = this.$refs.list;\n\n      if (!list) {\n        return;\n      }\n\n      var index = this.selectedIndex;\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      var topOption = list.children[index];\n      var to = topOption.offsetTop;\n      scrollTo(select, to, duration);\n    }\n  },\n  render: function render() {\n    var _cls;\n\n    var prefixCls = this.prefixCls,\n        options = this.options,\n        active = this.active;\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    var cls = (_cls = {}, _defineProperty(_cls, \"\".concat(prefixCls, \"-select\"), 1), _defineProperty(_cls, \"\".concat(prefixCls, \"-select-active\"), active), _cls);\n    return _createVNode(\"div\", {\n      \"class\": cls,\n      \"onMouseenter\": this.handleMouseEnter,\n      \"onMouseleave\": this.handleMouseLeave\n    }, [_createVNode(\"ul\", {\n      \"ref\": \"list\"\n    }, [this.getOptions()])]);\n  }\n};\nexport default Select;"]},"metadata":{},"sourceType":"module"}