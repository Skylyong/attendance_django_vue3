{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps } from '../../_util/props-util';\nimport addEventListener from '../../vc-util/Dom/addEventListener';\nexport default defineComponent({\n  name: 'Handle',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    prefixCls: PropTypes.string,\n    vertical: PropTypes.looseBool,\n    offset: PropTypes.number,\n    disabled: PropTypes.looseBool,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.number,\n    tabindex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    reverse: PropTypes.looseBool // handleFocus: PropTypes.func.def(noop),\n    // handleBlur: PropTypes.func.def(noop),\n\n  },\n  data: function data() {\n    return {\n      clickFocused: false\n    };\n  },\n  mounted: function mounted() {\n    // mouseup won't trigger if mouse moved out of handle\n    // so we listen on document here.\n    this.onMouseUpListener = addEventListener(document, 'mouseup', this.handleMouseUp);\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.onMouseUpListener) {\n      this.onMouseUpListener.remove();\n    }\n  },\n  methods: {\n    setHandleRef: function setHandleRef(node) {\n      this.handle = node;\n    },\n    setClickFocus: function setClickFocus(focused) {\n      this.setState({\n        clickFocused: focused\n      });\n    },\n    handleMouseUp: function handleMouseUp() {\n      if (document.activeElement === this.handle) {\n        this.setClickFocus(true);\n      }\n    },\n    handleBlur: function handleBlur(e) {\n      this.setClickFocus(false);\n\n      this.__emit('blur', e);\n    },\n    handleKeyDown: function handleKeyDown() {\n      this.setClickFocus(false);\n    },\n    clickFocus: function clickFocus() {\n      this.setClickFocus(true);\n      this.focus();\n    },\n    focus: function focus() {\n      this.handle.focus();\n    },\n    blur: function blur() {\n      this.handle.blur();\n    },\n    // when click can not focus in vue, use mousedown trigger focus\n    handleMousedown: function handleMousedown(e) {\n      this.focus();\n\n      this.__emit('mousedown', e);\n    }\n  },\n  render: function render() {\n    var _ref, _ref2;\n\n    var _getOptionProps = getOptionProps(this),\n        prefixCls = _getOptionProps.prefixCls,\n        vertical = _getOptionProps.vertical,\n        reverse = _getOptionProps.reverse,\n        offset = _getOptionProps.offset,\n        disabled = _getOptionProps.disabled,\n        min = _getOptionProps.min,\n        max = _getOptionProps.max,\n        value = _getOptionProps.value,\n        tabindex = _getOptionProps.tabindex;\n\n    var className = classNames(this.$attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-handle-click-focused\"), this.clickFocused));\n    var positionStyle = vertical ? (_ref = {}, _defineProperty(_ref, reverse ? 'top' : 'bottom', \"\".concat(offset, \"%\")), _defineProperty(_ref, reverse ? 'bottom' : 'top', 'auto'), _defineProperty(_ref, \"transform\", \"translateY(+50%)\"), _ref) : (_ref2 = {}, _defineProperty(_ref2, reverse ? 'right' : 'left', \"\".concat(offset, \"%\")), _defineProperty(_ref2, reverse ? 'left' : 'right', 'auto'), _defineProperty(_ref2, \"transform\", \"translateX(\".concat(reverse ? '+' : '-', \"50%)\")), _ref2);\n    var ariaProps = {\n      'aria-valuemin': min,\n      'aria-valuemax': max,\n      'aria-valuenow': value,\n      'aria-disabled': !!disabled\n    };\n\n    var elStyle = _extends(_extends({}, this.$attrs.style), positionStyle);\n\n    var _tabIndex = tabindex || 0;\n\n    if (disabled || tabindex === null) {\n      _tabIndex = null;\n    }\n\n    var handleProps = _extends(_extends(_extends(_extends({}, this.$attrs), {\n      role: 'slider',\n      tabindex: _tabIndex\n    }), ariaProps), {\n      class: className,\n      onBlur: this.handleBlur,\n      onKeydown: this.handleKeyDown,\n      onMousedown: this.handleMousedown,\n      ref: this.setHandleRef,\n      style: elStyle\n    });\n\n    return _createVNode(\"div\", handleProps, null);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-slider/src/Handle.js"],"names":["_extends","_defineProperty","createVNode","_createVNode","defineComponent","classNames","PropTypes","BaseMixin","getOptionProps","addEventListener","name","mixins","inheritAttrs","props","prefixCls","string","vertical","looseBool","offset","number","disabled","min","max","value","tabindex","oneOfType","reverse","data","clickFocused","mounted","onMouseUpListener","document","handleMouseUp","beforeUnmount","remove","methods","setHandleRef","node","handle","setClickFocus","focused","setState","activeElement","handleBlur","e","__emit","handleKeyDown","clickFocus","focus","blur","handleMousedown","render","_ref","_ref2","_getOptionProps","className","$attrs","class","concat","positionStyle","ariaProps","elStyle","style","_tabIndex","handleProps","role","onBlur","onKeydown","onMousedown","ref"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps } from '../../_util/props-util';\nimport addEventListener from '../../vc-util/Dom/addEventListener';\nexport default defineComponent({\n  name: 'Handle',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    prefixCls: PropTypes.string,\n    vertical: PropTypes.looseBool,\n    offset: PropTypes.number,\n    disabled: PropTypes.looseBool,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.number,\n    tabindex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    reverse: PropTypes.looseBool // handleFocus: PropTypes.func.def(noop),\n    // handleBlur: PropTypes.func.def(noop),\n\n  },\n  data: function data() {\n    return {\n      clickFocused: false\n    };\n  },\n  mounted: function mounted() {\n    // mouseup won't trigger if mouse moved out of handle\n    // so we listen on document here.\n    this.onMouseUpListener = addEventListener(document, 'mouseup', this.handleMouseUp);\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.onMouseUpListener) {\n      this.onMouseUpListener.remove();\n    }\n  },\n  methods: {\n    setHandleRef: function setHandleRef(node) {\n      this.handle = node;\n    },\n    setClickFocus: function setClickFocus(focused) {\n      this.setState({\n        clickFocused: focused\n      });\n    },\n    handleMouseUp: function handleMouseUp() {\n      if (document.activeElement === this.handle) {\n        this.setClickFocus(true);\n      }\n    },\n    handleBlur: function handleBlur(e) {\n      this.setClickFocus(false);\n\n      this.__emit('blur', e);\n    },\n    handleKeyDown: function handleKeyDown() {\n      this.setClickFocus(false);\n    },\n    clickFocus: function clickFocus() {\n      this.setClickFocus(true);\n      this.focus();\n    },\n    focus: function focus() {\n      this.handle.focus();\n    },\n    blur: function blur() {\n      this.handle.blur();\n    },\n    // when click can not focus in vue, use mousedown trigger focus\n    handleMousedown: function handleMousedown(e) {\n      this.focus();\n\n      this.__emit('mousedown', e);\n    }\n  },\n  render: function render() {\n    var _ref, _ref2;\n\n    var _getOptionProps = getOptionProps(this),\n        prefixCls = _getOptionProps.prefixCls,\n        vertical = _getOptionProps.vertical,\n        reverse = _getOptionProps.reverse,\n        offset = _getOptionProps.offset,\n        disabled = _getOptionProps.disabled,\n        min = _getOptionProps.min,\n        max = _getOptionProps.max,\n        value = _getOptionProps.value,\n        tabindex = _getOptionProps.tabindex;\n\n    var className = classNames(this.$attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-handle-click-focused\"), this.clickFocused));\n    var positionStyle = vertical ? (_ref = {}, _defineProperty(_ref, reverse ? 'top' : 'bottom', \"\".concat(offset, \"%\")), _defineProperty(_ref, reverse ? 'bottom' : 'top', 'auto'), _defineProperty(_ref, \"transform\", \"translateY(+50%)\"), _ref) : (_ref2 = {}, _defineProperty(_ref2, reverse ? 'right' : 'left', \"\".concat(offset, \"%\")), _defineProperty(_ref2, reverse ? 'left' : 'right', 'auto'), _defineProperty(_ref2, \"transform\", \"translateX(\".concat(reverse ? '+' : '-', \"50%)\")), _ref2);\n    var ariaProps = {\n      'aria-valuemin': min,\n      'aria-valuemax': max,\n      'aria-valuenow': value,\n      'aria-disabled': !!disabled\n    };\n\n    var elStyle = _extends(_extends({}, this.$attrs.style), positionStyle);\n\n    var _tabIndex = tabindex || 0;\n\n    if (disabled || tabindex === null) {\n      _tabIndex = null;\n    }\n\n    var handleProps = _extends(_extends(_extends(_extends({}, this.$attrs), {\n      role: 'slider',\n      tabindex: _tabIndex\n    }), ariaProps), {\n      class: className,\n      onBlur: this.handleBlur,\n      onKeydown: this.handleKeyDown,\n      onMousedown: this.handleMousedown,\n      ref: this.setHandleRef,\n      style: elStyle\n    });\n\n    return _createVNode(\"div\", handleProps, null);\n  }\n});"]},"metadata":{},"sourceType":"module"}