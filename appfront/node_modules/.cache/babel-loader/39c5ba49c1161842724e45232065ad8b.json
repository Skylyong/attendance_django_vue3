{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { hasProp } from '../../_util/props-util';\nimport Track from './common/Track';\nimport createSlider from './common/createSlider';\nimport * as utils from './utils';\nimport { defineComponent } from 'vue';\nvar Slider = defineComponent({\n  name: 'Slider',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    defaultValue: PropTypes.number,\n    value: PropTypes.number,\n    disabled: PropTypes.looseBool,\n    autofocus: PropTypes.looseBool,\n    tabindex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    reverse: PropTypes.looseBool,\n    min: PropTypes.number,\n    max: PropTypes.number\n  },\n  data: function data() {\n    var defaultValue = this.defaultValue !== undefined ? this.defaultValue : this.min;\n    var value = this.value !== undefined ? this.value : defaultValue;\n    return {\n      sValue: this.trimAlignValue(value),\n      dragging: false\n    };\n  },\n  watch: {\n    value: {\n      handler: function handler(val) {\n        this.setChangeValue(val);\n      },\n      deep: true\n    },\n    min: function min() {\n      var sValue = this.sValue;\n      this.setChangeValue(sValue);\n    },\n    max: function max() {\n      var sValue = this.sValue;\n      this.setChangeValue(sValue);\n    }\n  },\n  methods: {\n    setChangeValue: function setChangeValue(value) {\n      var newValue = value !== undefined ? value : this.sValue;\n      var nextValue = this.trimAlignValue(newValue, this.$props);\n      if (nextValue === this.sValue) return;\n      this.setState({\n        sValue: nextValue\n      });\n\n      if (utils.isValueOutOfRange(newValue, this.$props)) {\n        this.__emit('change', nextValue);\n      }\n    },\n    onChange: function onChange(state) {\n      var isNotControlled = !hasProp(this, 'value');\n      var nextState = state.sValue > this.max ? _extends(_extends({}, state), {\n        sValue: this.max\n      }) : state;\n\n      if (isNotControlled) {\n        this.setState(nextState);\n      }\n\n      var changedValue = nextState.sValue;\n\n      this.__emit('change', changedValue);\n    },\n    onStart: function onStart(position) {\n      this.setState({\n        dragging: true\n      });\n      var sValue = this.sValue;\n\n      this.__emit('beforeChange', sValue);\n\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      if (value === sValue) return;\n      this.prevMovedHandleIndex = 0;\n      this.onChange({\n        sValue: value\n      });\n    },\n    onEnd: function onEnd(force) {\n      var dragging = this.dragging;\n      this.removeDocumentEvents();\n\n      if (dragging || force) {\n        this.__emit('afterChange', this.sValue);\n      }\n\n      this.setState({\n        dragging: false\n      });\n    },\n    onMove: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var sValue = this.sValue;\n      var value = this.calcValueByPos(position);\n      if (value === sValue) return;\n      this.onChange({\n        sValue: value\n      });\n    },\n    onKeyboard: function onKeyboard(e) {\n      var _this$$props = this.$props,\n          reverse = _this$$props.reverse,\n          vertical = _this$$props.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var sValue = this.sValue;\n        var mutatedValue = valueMutator(sValue, this.$props);\n        var value = this.trimAlignValue(mutatedValue);\n        if (value === sValue) return;\n        this.onChange({\n          sValue: value\n        });\n\n        this.__emit('afterChange', value);\n\n        this.onEnd();\n      }\n    },\n    getLowerBound: function getLowerBound() {\n      return this.min;\n    },\n    getUpperBound: function getUpperBound() {\n      return this.sValue;\n    },\n    trimAlignValue: function trimAlignValue(v) {\n      var nextProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (v === null) {\n        return null;\n      }\n\n      var mergedProps = _extends(_extends({}, this.$props), nextProps);\n\n      var val = utils.ensureValueInRange(v, mergedProps);\n      return utils.ensureValuePrecision(val, mergedProps);\n    },\n    getTrack: function getTrack(_ref) {\n      var prefixCls = _ref.prefixCls,\n          reverse = _ref.reverse,\n          vertical = _ref.vertical,\n          included = _ref.included,\n          offset = _ref.offset,\n          minimumTrackStyle = _ref.minimumTrackStyle,\n          _trackStyle = _ref._trackStyle;\n      return _createVNode(Track, {\n        \"class\": \"\".concat(prefixCls, \"-track\"),\n        \"vertical\": vertical,\n        \"included\": included,\n        \"offset\": 0,\n        \"reverse\": reverse,\n        \"length\": offset,\n        \"style\": _extends(_extends({}, minimumTrackStyle), _trackStyle)\n      }, null);\n    },\n    renderSlider: function renderSlider() {\n      var _this = this;\n\n      var prefixCls = this.prefixCls,\n          vertical = this.vertical,\n          included = this.included,\n          disabled = this.disabled,\n          minimumTrackStyle = this.minimumTrackStyle,\n          trackStyle = this.trackStyle,\n          handleStyle = this.handleStyle,\n          tabindex = this.tabindex,\n          min = this.min,\n          max = this.max,\n          reverse = this.reverse,\n          handle = this.handle,\n          defaultHandle = this.defaultHandle;\n      var handleGenerator = handle || defaultHandle;\n      var sValue = this.sValue,\n          dragging = this.dragging;\n      var offset = this.calcOffset(sValue);\n      var handles = handleGenerator({\n        class: \"\".concat(prefixCls, \"-handle\"),\n        prefixCls: prefixCls,\n        vertical: vertical,\n        offset: offset,\n        value: sValue,\n        dragging: dragging,\n        disabled: disabled,\n        min: min,\n        max: max,\n        reverse: reverse,\n        index: 0,\n        tabindex: tabindex,\n        style: handleStyle[0] || handleStyle,\n        ref: function ref(h) {\n          return _this.saveHandle(0, h);\n        },\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      });\n\n      var _trackStyle = trackStyle[0] || trackStyle;\n\n      return {\n        tracks: this.getTrack({\n          prefixCls: prefixCls,\n          reverse: reverse,\n          vertical: vertical,\n          included: included,\n          offset: offset,\n          minimumTrackStyle: minimumTrackStyle,\n          _trackStyle: _trackStyle\n        }),\n        handles: handles\n      };\n    }\n  }\n});\nexport default createSlider(Slider);","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-slider/src/Slider.js"],"names":["_extends","createVNode","_createVNode","PropTypes","BaseMixin","hasProp","Track","createSlider","utils","defineComponent","Slider","name","mixins","inheritAttrs","props","defaultValue","number","value","disabled","looseBool","autofocus","tabindex","oneOfType","string","reverse","min","max","data","undefined","sValue","trimAlignValue","dragging","watch","handler","val","setChangeValue","deep","methods","newValue","nextValue","$props","setState","isValueOutOfRange","__emit","onChange","state","isNotControlled","nextState","changedValue","onStart","position","calcValueByPos","startValue","startPosition","prevMovedHandleIndex","onEnd","force","removeDocumentEvents","onMove","e","pauseEvent","onKeyboard","_this$$props","vertical","valueMutator","getKeyboardValueMutator","mutatedValue","getLowerBound","getUpperBound","v","nextProps","arguments","length","mergedProps","ensureValueInRange","ensureValuePrecision","getTrack","_ref","prefixCls","included","offset","minimumTrackStyle","_trackStyle","concat","renderSlider","_this","trackStyle","handleStyle","handle","defaultHandle","handleGenerator","calcOffset","handles","class","index","style","ref","h","saveHandle","onFocus","onBlur","tracks"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { hasProp } from '../../_util/props-util';\nimport Track from './common/Track';\nimport createSlider from './common/createSlider';\nimport * as utils from './utils';\nimport { defineComponent } from 'vue';\nvar Slider = defineComponent({\n  name: 'Slider',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    defaultValue: PropTypes.number,\n    value: PropTypes.number,\n    disabled: PropTypes.looseBool,\n    autofocus: PropTypes.looseBool,\n    tabindex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    reverse: PropTypes.looseBool,\n    min: PropTypes.number,\n    max: PropTypes.number\n  },\n  data: function data() {\n    var defaultValue = this.defaultValue !== undefined ? this.defaultValue : this.min;\n    var value = this.value !== undefined ? this.value : defaultValue;\n    return {\n      sValue: this.trimAlignValue(value),\n      dragging: false\n    };\n  },\n  watch: {\n    value: {\n      handler: function handler(val) {\n        this.setChangeValue(val);\n      },\n      deep: true\n    },\n    min: function min() {\n      var sValue = this.sValue;\n      this.setChangeValue(sValue);\n    },\n    max: function max() {\n      var sValue = this.sValue;\n      this.setChangeValue(sValue);\n    }\n  },\n  methods: {\n    setChangeValue: function setChangeValue(value) {\n      var newValue = value !== undefined ? value : this.sValue;\n      var nextValue = this.trimAlignValue(newValue, this.$props);\n      if (nextValue === this.sValue) return;\n      this.setState({\n        sValue: nextValue\n      });\n\n      if (utils.isValueOutOfRange(newValue, this.$props)) {\n        this.__emit('change', nextValue);\n      }\n    },\n    onChange: function onChange(state) {\n      var isNotControlled = !hasProp(this, 'value');\n      var nextState = state.sValue > this.max ? _extends(_extends({}, state), {\n        sValue: this.max\n      }) : state;\n\n      if (isNotControlled) {\n        this.setState(nextState);\n      }\n\n      var changedValue = nextState.sValue;\n\n      this.__emit('change', changedValue);\n    },\n    onStart: function onStart(position) {\n      this.setState({\n        dragging: true\n      });\n      var sValue = this.sValue;\n\n      this.__emit('beforeChange', sValue);\n\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      if (value === sValue) return;\n      this.prevMovedHandleIndex = 0;\n      this.onChange({\n        sValue: value\n      });\n    },\n    onEnd: function onEnd(force) {\n      var dragging = this.dragging;\n      this.removeDocumentEvents();\n\n      if (dragging || force) {\n        this.__emit('afterChange', this.sValue);\n      }\n\n      this.setState({\n        dragging: false\n      });\n    },\n    onMove: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var sValue = this.sValue;\n      var value = this.calcValueByPos(position);\n      if (value === sValue) return;\n      this.onChange({\n        sValue: value\n      });\n    },\n    onKeyboard: function onKeyboard(e) {\n      var _this$$props = this.$props,\n          reverse = _this$$props.reverse,\n          vertical = _this$$props.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var sValue = this.sValue;\n        var mutatedValue = valueMutator(sValue, this.$props);\n        var value = this.trimAlignValue(mutatedValue);\n        if (value === sValue) return;\n        this.onChange({\n          sValue: value\n        });\n\n        this.__emit('afterChange', value);\n\n        this.onEnd();\n      }\n    },\n    getLowerBound: function getLowerBound() {\n      return this.min;\n    },\n    getUpperBound: function getUpperBound() {\n      return this.sValue;\n    },\n    trimAlignValue: function trimAlignValue(v) {\n      var nextProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (v === null) {\n        return null;\n      }\n\n      var mergedProps = _extends(_extends({}, this.$props), nextProps);\n\n      var val = utils.ensureValueInRange(v, mergedProps);\n      return utils.ensureValuePrecision(val, mergedProps);\n    },\n    getTrack: function getTrack(_ref) {\n      var prefixCls = _ref.prefixCls,\n          reverse = _ref.reverse,\n          vertical = _ref.vertical,\n          included = _ref.included,\n          offset = _ref.offset,\n          minimumTrackStyle = _ref.minimumTrackStyle,\n          _trackStyle = _ref._trackStyle;\n      return _createVNode(Track, {\n        \"class\": \"\".concat(prefixCls, \"-track\"),\n        \"vertical\": vertical,\n        \"included\": included,\n        \"offset\": 0,\n        \"reverse\": reverse,\n        \"length\": offset,\n        \"style\": _extends(_extends({}, minimumTrackStyle), _trackStyle)\n      }, null);\n    },\n    renderSlider: function renderSlider() {\n      var _this = this;\n\n      var prefixCls = this.prefixCls,\n          vertical = this.vertical,\n          included = this.included,\n          disabled = this.disabled,\n          minimumTrackStyle = this.minimumTrackStyle,\n          trackStyle = this.trackStyle,\n          handleStyle = this.handleStyle,\n          tabindex = this.tabindex,\n          min = this.min,\n          max = this.max,\n          reverse = this.reverse,\n          handle = this.handle,\n          defaultHandle = this.defaultHandle;\n      var handleGenerator = handle || defaultHandle;\n      var sValue = this.sValue,\n          dragging = this.dragging;\n      var offset = this.calcOffset(sValue);\n      var handles = handleGenerator({\n        class: \"\".concat(prefixCls, \"-handle\"),\n        prefixCls: prefixCls,\n        vertical: vertical,\n        offset: offset,\n        value: sValue,\n        dragging: dragging,\n        disabled: disabled,\n        min: min,\n        max: max,\n        reverse: reverse,\n        index: 0,\n        tabindex: tabindex,\n        style: handleStyle[0] || handleStyle,\n        ref: function ref(h) {\n          return _this.saveHandle(0, h);\n        },\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      });\n\n      var _trackStyle = trackStyle[0] || trackStyle;\n\n      return {\n        tracks: this.getTrack({\n          prefixCls: prefixCls,\n          reverse: reverse,\n          vertical: vertical,\n          included: included,\n          offset: offset,\n          minimumTrackStyle: minimumTrackStyle,\n          _trackStyle: _trackStyle\n        }),\n        handles: handles\n      };\n    }\n  }\n});\nexport default createSlider(Slider);"]},"metadata":{},"sourceType":"module"}