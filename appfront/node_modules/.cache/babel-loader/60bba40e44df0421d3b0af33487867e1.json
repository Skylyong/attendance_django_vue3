{"ast":null,"code":"var staticHGKeyRE = require('./staticHGKeyRE');\n\nvar helperGetHGSKeys = require('./helperGetHGSKeys');\n\nvar hasOwnProp = require('./hasOwnProp');\n\nvar isUndefined = require('./isUndefined');\n\nvar eqNull = require('./eqNull');\n/**\r\n * 获取对象的属性的值，如果值为 undefined，则返回默认值\r\n * @param {Object/Array} obj 对象\r\n * @param {String/Function} property 键、路径\r\n * @param {Object} defaultValue 默认值\r\n * @return {Object}\r\n */\n\n\nfunction get(obj, property, defaultValue) {\n  if (eqNull(obj)) {\n    return defaultValue;\n  }\n\n  var result = getValueByPath(obj, property);\n  return isUndefined(result) ? defaultValue : result;\n}\n\nfunction getDeepProps(obj, key) {\n  var matchs = key ? key.match(staticHGKeyRE) : '';\n  return matchs ? matchs[1] ? obj[matchs[1]] ? obj[matchs[1]][matchs[2]] : undefined : obj[matchs[2]] : obj[key];\n}\n\nfunction getValueByPath(obj, property) {\n  if (obj) {\n    var rest, props, len;\n    var index = 0;\n\n    if (obj[property] || hasOwnProp(obj, property)) {\n      return obj[property];\n    } else {\n      props = helperGetHGSKeys(property);\n      len = props.length;\n\n      if (len) {\n        for (rest = obj; index < len; index++) {\n          rest = getDeepProps(rest, props[index]);\n\n          if (eqNull(rest)) {\n            if (index === len - 1) {\n              return rest;\n            }\n\n            return;\n          }\n        }\n      }\n\n      return rest;\n    }\n  }\n}\n\nmodule.exports = get;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/get.js"],"names":["staticHGKeyRE","require","helperGetHGSKeys","hasOwnProp","isUndefined","eqNull","get","obj","property","defaultValue","result","getValueByPath","getDeepProps","key","matchs","match","undefined","rest","props","len","index","length","module","exports"],"mappings":"AAAA,IAAIA,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA3B;;AAEA,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,oBAAD,CAA9B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAD,CAAxB;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,eAAD,CAAzB;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,UAAD,CAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASK,GAAT,CAAcC,GAAd,EAAmBC,QAAnB,EAA6BC,YAA7B,EAA2C;AACzC,MAAIJ,MAAM,CAACE,GAAD,CAAV,EAAiB;AACf,WAAOE,YAAP;AACD;;AACD,MAAIC,MAAM,GAAGC,cAAc,CAACJ,GAAD,EAAMC,QAAN,CAA3B;AACA,SAAOJ,WAAW,CAACM,MAAD,CAAX,GAAsBD,YAAtB,GAAqCC,MAA5C;AACD;;AAED,SAASE,YAAT,CAAuBL,GAAvB,EAA4BM,GAA5B,EAAiC;AAC/B,MAAIC,MAAM,GAAGD,GAAG,GAAGA,GAAG,CAACE,KAAJ,CAAUf,aAAV,CAAH,GAA8B,EAA9C;AACA,SAAOc,MAAM,GAAIA,MAAM,CAAC,CAAD,CAAN,GAAaP,GAAG,CAACO,MAAM,CAAC,CAAD,CAAP,CAAH,GAAiBP,GAAG,CAACO,MAAM,CAAC,CAAD,CAAP,CAAH,CAAeA,MAAM,CAAC,CAAD,CAArB,CAAjB,GAA6CE,SAA1D,GAAuET,GAAG,CAACO,MAAM,CAAC,CAAD,CAAP,CAA9E,GAA6FP,GAAG,CAACM,GAAD,CAA7G;AACD;;AAED,SAASF,cAAT,CAAyBJ,GAAzB,EAA8BC,QAA9B,EAAwC;AACtC,MAAID,GAAJ,EAAS;AACP,QAAIU,IAAJ,EAAUC,KAAV,EAAiBC,GAAjB;AACA,QAAIC,KAAK,GAAG,CAAZ;;AACA,QAAIb,GAAG,CAACC,QAAD,CAAH,IAAiBL,UAAU,CAACI,GAAD,EAAMC,QAAN,CAA/B,EAAgD;AAC9C,aAAOD,GAAG,CAACC,QAAD,CAAV;AACD,KAFD,MAEO;AACLU,MAAAA,KAAK,GAAGhB,gBAAgB,CAACM,QAAD,CAAxB;AACAW,MAAAA,GAAG,GAAGD,KAAK,CAACG,MAAZ;;AACA,UAAIF,GAAJ,EAAS;AACP,aAAKF,IAAI,GAAGV,GAAZ,EAAiBa,KAAK,GAAGD,GAAzB,EAA8BC,KAAK,EAAnC,EAAuC;AACrCH,UAAAA,IAAI,GAAGL,YAAY,CAACK,IAAD,EAAOC,KAAK,CAACE,KAAD,CAAZ,CAAnB;;AACA,cAAIf,MAAM,CAACY,IAAD,CAAV,EAAkB;AAChB,gBAAIG,KAAK,KAAKD,GAAG,GAAG,CAApB,EAAuB;AACrB,qBAAOF,IAAP;AACD;;AACD;AACD;AACF;AACF;;AACD,aAAOA,IAAP;AACD;AACF;AACF;;AAEDK,MAAM,CAACC,OAAP,GAAiBjB,GAAjB","sourcesContent":["var staticHGKeyRE = require('./staticHGKeyRE')\r\n\r\nvar helperGetHGSKeys = require('./helperGetHGSKeys')\r\nvar hasOwnProp = require('./hasOwnProp')\r\nvar isUndefined = require('./isUndefined')\r\nvar eqNull = require('./eqNull')\r\n\r\n/**\r\n * 获取对象的属性的值，如果值为 undefined，则返回默认值\r\n * @param {Object/Array} obj 对象\r\n * @param {String/Function} property 键、路径\r\n * @param {Object} defaultValue 默认值\r\n * @return {Object}\r\n */\r\nfunction get (obj, property, defaultValue) {\r\n  if (eqNull(obj)) {\r\n    return defaultValue\r\n  }\r\n  var result = getValueByPath(obj, property)\r\n  return isUndefined(result) ? defaultValue : result\r\n}\r\n\r\nfunction getDeepProps (obj, key) {\r\n  var matchs = key ? key.match(staticHGKeyRE) : ''\r\n  return matchs ? (matchs[1] ? (obj[matchs[1]] ? obj[matchs[1]][matchs[2]] : undefined) : obj[matchs[2]]) : obj[key]\r\n}\r\n\r\nfunction getValueByPath (obj, property) {\r\n  if (obj) {\r\n    var rest, props, len\r\n    var index = 0\r\n    if (obj[property] || hasOwnProp(obj, property)) {\r\n      return obj[property]\r\n    } else {\r\n      props = helperGetHGSKeys(property)\r\n      len = props.length\r\n      if (len) {\r\n        for (rest = obj; index < len; index++) {\r\n          rest = getDeepProps(rest, props[index])\r\n          if (eqNull(rest)) {\r\n            if (index === len - 1) {\r\n              return rest\r\n            }\r\n            return\r\n          }\r\n        }\r\n      }\r\n      return rest\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = get\r\n"]},"metadata":{},"sourceType":"script"}