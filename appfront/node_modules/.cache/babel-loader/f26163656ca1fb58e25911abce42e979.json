{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { createNamespace } from \"../utils\";\nimport { SWIPE_KEY } from \"../swipe/Swipe\";\nimport { useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\nconst [name, bem] = createNamespace(\"swipe-item\");\nvar stdin_default = defineComponent({\n  name,\n\n  setup(props, {\n    slots\n  }) {\n    let rendered;\n    const state = reactive({\n      offset: 0,\n      inited: false,\n      mounted: false\n    });\n    const {\n      parent,\n      index\n    } = useParent(SWIPE_KEY);\n\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <SwipeItem> must be a child component of <Swipe>.\");\n      }\n\n      return;\n    }\n\n    const style = computed(() => {\n      const style2 = {};\n      const {\n        vertical\n      } = parent.props;\n\n      if (parent.size.value) {\n        style2[vertical ? \"height\" : \"width\"] = `${parent.size.value}px`;\n      }\n\n      if (state.offset) {\n        style2.transform = `translate${vertical ? \"Y\" : \"X\"}(${state.offset}px)`;\n      }\n\n      return style2;\n    });\n    const shouldRender = computed(() => {\n      const {\n        loop,\n        lazyRender\n      } = parent.props;\n\n      if (!lazyRender || rendered) {\n        return true;\n      }\n\n      if (!state.mounted) {\n        return false;\n      }\n\n      const active = parent.activeIndicator.value;\n      const maxActive = parent.count.value - 1;\n      const prevActive = active === 0 && loop ? maxActive : active - 1;\n      const nextActive = active === maxActive && loop ? 0 : active + 1;\n      rendered = index.value === active || index.value === prevActive || index.value === nextActive;\n      return rendered;\n    });\n\n    const setOffset = offset => {\n      state.offset = offset;\n    };\n\n    onMounted(() => {\n      nextTick(() => {\n        state.mounted = true;\n      });\n    });\n    useExpose({\n      setOffset\n    });\n    return () => {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"class\": bem(),\n        \"style\": style.value\n      }, [shouldRender.value ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null]);\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/swipe-item/SwipeItem.js"],"names":["createVNode","_createVNode","computed","nextTick","reactive","onMounted","defineComponent","createNamespace","SWIPE_KEY","useParent","useExpose","name","bem","stdin_default","setup","props","slots","rendered","state","offset","inited","mounted","parent","index","process","env","NODE_ENV","console","error","style","style2","vertical","size","value","transform","shouldRender","loop","lazyRender","active","activeIndicator","maxActive","count","prevActive","nextActive","setOffset","_a","default","call"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { computed, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { createNamespace } from \"../utils\";\nimport { SWIPE_KEY } from \"../swipe/Swipe\";\nimport { useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\nconst [name, bem] = createNamespace(\"swipe-item\");\nvar stdin_default = defineComponent({\n  name,\n  setup(props, {\n    slots\n  }) {\n    let rendered;\n    const state = reactive({\n      offset: 0,\n      inited: false,\n      mounted: false\n    });\n    const {\n      parent,\n      index\n    } = useParent(SWIPE_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <SwipeItem> must be a child component of <Swipe>.\");\n      }\n      return;\n    }\n    const style = computed(() => {\n      const style2 = {};\n      const {\n        vertical\n      } = parent.props;\n      if (parent.size.value) {\n        style2[vertical ? \"height\" : \"width\"] = `${parent.size.value}px`;\n      }\n      if (state.offset) {\n        style2.transform = `translate${vertical ? \"Y\" : \"X\"}(${state.offset}px)`;\n      }\n      return style2;\n    });\n    const shouldRender = computed(() => {\n      const {\n        loop,\n        lazyRender\n      } = parent.props;\n      if (!lazyRender || rendered) {\n        return true;\n      }\n      if (!state.mounted) {\n        return false;\n      }\n      const active = parent.activeIndicator.value;\n      const maxActive = parent.count.value - 1;\n      const prevActive = active === 0 && loop ? maxActive : active - 1;\n      const nextActive = active === maxActive && loop ? 0 : active + 1;\n      rendered = index.value === active || index.value === prevActive || index.value === nextActive;\n      return rendered;\n    });\n    const setOffset = (offset) => {\n      state.offset = offset;\n    };\n    onMounted(() => {\n      nextTick(() => {\n        state.mounted = true;\n      });\n    });\n    useExpose({\n      setOffset\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem(),\n        \"style\": style.value\n      }, [shouldRender.value ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}