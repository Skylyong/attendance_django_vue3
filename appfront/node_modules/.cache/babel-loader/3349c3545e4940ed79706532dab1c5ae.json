{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject } from 'vue';\nimport classNames from '../_util/classNames';\nimport isMobile from '../_util/isMobile';\nimport Input from './Input';\nimport LoadingOutlined from '@ant-design/icons-vue/LoadingOutlined';\nimport SearchOutlined from '@ant-design/icons-vue/SearchOutlined';\nimport inputProps from './inputProps';\nimport Button from '../button';\nimport { cloneElement } from '../_util/vnode';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getComponent } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport isPlainObject from 'lodash-es/isPlainObject';\nexport default defineComponent({\n  name: 'AInputSearch',\n  inheritAttrs: false,\n  props: _extends(_extends({}, inputProps), {\n    // 不能设置默认值 https://github.com/vueComponent/ant-design-vue/issues/1916\n    enterButton: PropTypes.VNodeChild,\n    onSearch: PropTypes.func\n  }),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      input: null\n    };\n  },\n  methods: {\n    saveInput: function saveInput(node) {\n      this.input = node;\n    },\n    handleChange: function handleChange(e) {\n      this.$emit('update:value', e.target.value);\n\n      if (e && e.target && e.type === 'click') {\n        this.$emit('search', e.target.value, e);\n      }\n\n      this.$emit('change', e);\n    },\n    handleSearch: function handleSearch(e) {\n      if (this.loading || this.disabled) {\n        return;\n      }\n\n      this.$emit('search', this.input.stateValue, e);\n\n      if (!isMobile.tablet) {\n        this.input.focus();\n      }\n    },\n    focus: function focus() {\n      this.input.focus();\n    },\n    blur: function blur() {\n      this.input.blur();\n    },\n    renderLoading: function renderLoading(prefixCls) {\n      var size = this.$props.size;\n      var enterButton = getComponent(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (enterButton) {\n        return _createVNode(Button, {\n          \"class\": \"\".concat(prefixCls, \"-button\"),\n          \"type\": \"primary\",\n          \"size\": size,\n          \"key\": \"enterButton\"\n        }, {\n          default: function _default() {\n            return [_createVNode(LoadingOutlined, null, null)];\n          }\n        });\n      }\n\n      return _createVNode(LoadingOutlined, {\n        \"class\": \"\".concat(prefixCls, \"-icon\"),\n        \"key\": \"loadingIcon\"\n      }, null);\n    },\n    renderSuffix: function renderSuffix(prefixCls) {\n      var loading = this.loading;\n      var suffix = getComponent(this, 'suffix');\n      var enterButton = getComponent(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (loading && !enterButton) {\n        return [suffix, this.renderLoading(prefixCls)];\n      }\n\n      if (enterButton) return suffix;\n\n      var icon = _createVNode(SearchOutlined, {\n        \"class\": \"\".concat(prefixCls, \"-icon\"),\n        \"key\": \"searchIcon\",\n        \"onClick\": this.handleSearch\n      }, null);\n\n      if (suffix) {\n        // let cloneSuffix = suffix;\n        // if (isValidElement(cloneSuffix) && !cloneSuffix.key) {\n        //   cloneSuffix = cloneElement(cloneSuffix, {\n        //     key: 'originSuffix',\n        //   });\n        // }\n        return [suffix, icon];\n      }\n\n      return icon;\n    },\n    renderAddonAfter: function renderAddonAfter(prefixCls) {\n      var size = this.size,\n          disabled = this.disabled,\n          loading = this.loading;\n      var btnClassName = \"\".concat(prefixCls, \"-button\");\n      var enterButton = getComponent(this, 'enterButton');\n      enterButton = enterButton || enterButton === '';\n      var addonAfter = getComponent(this, 'addonAfter');\n\n      if (loading && enterButton) {\n        return [this.renderLoading(prefixCls), addonAfter];\n      }\n\n      if (!enterButton) return addonAfter;\n      var enterButtonAsElement = Array.isArray(enterButton) ? enterButton[0] : enterButton;\n      var button;\n\n      var isAntdButton = enterButtonAsElement.type && isPlainObject(enterButtonAsElement.type) && enterButtonAsElement.type.__ANT_BUTTON;\n\n      if (enterButtonAsElement.tagName === 'button' || isAntdButton) {\n        button = cloneElement(enterButtonAsElement, _extends(_extends({\n          key: 'enterButton',\n          class: isAntdButton ? btnClassName : ''\n        }, isAntdButton ? {\n          size: size\n        } : {}), {\n          onClick: this.handleSearch\n        }));\n      } else {\n        button = _createVNode(Button, {\n          \"class\": btnClassName,\n          \"type\": \"primary\",\n          \"size\": size,\n          \"disabled\": disabled,\n          \"key\": \"enterButton\",\n          \"onClick\": this.handleSearch\n        }, {\n          default: function _default() {\n            return [enterButton === true || enterButton === '' ? _createVNode(SearchOutlined, null, null) : enterButton];\n          }\n        });\n      }\n\n      if (addonAfter) {\n        return [button, addonAfter];\n      }\n\n      return button;\n    }\n  },\n  render: function render() {\n    var _a = _extends(_extends({}, getOptionProps(this)), this.$attrs),\n        customizePrefixCls = _a.prefixCls,\n        customizeInputPrefixCls = _a.inputPrefixCls,\n        size = _a.size,\n        className = _a.class,\n        restProps = __rest(_a, [\"prefixCls\", \"inputPrefixCls\", \"size\", \"class\"]);\n\n    delete restProps.onSearch;\n    delete restProps.loading;\n    delete restProps.enterButton;\n    delete restProps.addonBefore;\n    delete restProps['onUpdate:value'];\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input-search', customizePrefixCls);\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n    var enterButton = getComponent(this, 'enterButton');\n    var addonBefore = getComponent(this, 'addonBefore');\n    enterButton = enterButton || enterButton === '';\n    var inputClassName;\n\n    if (enterButton) {\n      var _classNames;\n\n      inputClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-enter-button\"), !!enterButton), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), !!size), _classNames));\n    } else {\n      inputClassName = classNames(prefixCls, className);\n    }\n\n    var inputProps = _extends(_extends({}, restProps), {\n      prefixCls: inputPrefixCls,\n      size: size,\n      suffix: this.renderSuffix(prefixCls),\n      prefix: getComponent(this, 'prefix'),\n      addonAfter: this.renderAddonAfter(prefixCls),\n      addonBefore: addonBefore,\n      class: inputClassName,\n      onPressEnter: this.handleSearch,\n      onChange: this.handleChange\n    });\n\n    return _createVNode(Input, _objectSpread(_objectSpread({}, inputProps), {}, {\n      \"ref\": this.saveInput\n    }), null);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/input/Search.js"],"names":["_objectSpread","_defineProperty","_extends","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineComponent","inject","classNames","isMobile","Input","LoadingOutlined","SearchOutlined","inputProps","Button","cloneElement","PropTypes","getOptionProps","getComponent","defaultConfigProvider","isPlainObject","name","inheritAttrs","props","enterButton","VNodeChild","onSearch","func","setup","configProvider","input","methods","saveInput","node","handleChange","$emit","target","value","type","handleSearch","loading","disabled","stateValue","tablet","focus","blur","renderLoading","prefixCls","size","$props","concat","default","_default","renderSuffix","suffix","icon","renderAddonAfter","btnClassName","addonAfter","enterButtonAsElement","Array","isArray","button","isAntdButton","__ANT_BUTTON","tagName","key","class","onClick","render","_a","$attrs","customizePrefixCls","customizeInputPrefixCls","inputPrefixCls","className","restProps","addonBefore","getPrefixCls","inputClassName","_classNames","prefix","onPressEnter","onChange"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject } from 'vue';\nimport classNames from '../_util/classNames';\nimport isMobile from '../_util/isMobile';\nimport Input from './Input';\nimport LoadingOutlined from '@ant-design/icons-vue/LoadingOutlined';\nimport SearchOutlined from '@ant-design/icons-vue/SearchOutlined';\nimport inputProps from './inputProps';\nimport Button from '../button';\nimport { cloneElement } from '../_util/vnode';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getComponent } from '../_util/props-util';\nimport { defaultConfigProvider } from '../config-provider';\nimport isPlainObject from 'lodash-es/isPlainObject';\nexport default defineComponent({\n  name: 'AInputSearch',\n  inheritAttrs: false,\n  props: _extends(_extends({}, inputProps), {\n    // 不能设置默认值 https://github.com/vueComponent/ant-design-vue/issues/1916\n    enterButton: PropTypes.VNodeChild,\n    onSearch: PropTypes.func\n  }),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      input: null\n    };\n  },\n  methods: {\n    saveInput: function saveInput(node) {\n      this.input = node;\n    },\n    handleChange: function handleChange(e) {\n      this.$emit('update:value', e.target.value);\n\n      if (e && e.target && e.type === 'click') {\n        this.$emit('search', e.target.value, e);\n      }\n\n      this.$emit('change', e);\n    },\n    handleSearch: function handleSearch(e) {\n      if (this.loading || this.disabled) {\n        return;\n      }\n\n      this.$emit('search', this.input.stateValue, e);\n\n      if (!isMobile.tablet) {\n        this.input.focus();\n      }\n    },\n    focus: function focus() {\n      this.input.focus();\n    },\n    blur: function blur() {\n      this.input.blur();\n    },\n    renderLoading: function renderLoading(prefixCls) {\n      var size = this.$props.size;\n      var enterButton = getComponent(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (enterButton) {\n        return _createVNode(Button, {\n          \"class\": \"\".concat(prefixCls, \"-button\"),\n          \"type\": \"primary\",\n          \"size\": size,\n          \"key\": \"enterButton\"\n        }, {\n          default: function _default() {\n            return [_createVNode(LoadingOutlined, null, null)];\n          }\n        });\n      }\n\n      return _createVNode(LoadingOutlined, {\n        \"class\": \"\".concat(prefixCls, \"-icon\"),\n        \"key\": \"loadingIcon\"\n      }, null);\n    },\n    renderSuffix: function renderSuffix(prefixCls) {\n      var loading = this.loading;\n      var suffix = getComponent(this, 'suffix');\n      var enterButton = getComponent(this, 'enterButton'); // 兼容 <a-input-search enterButton />， 因enterButton类型为 any，此类写法 enterButton 为空字符串\n\n      enterButton = enterButton || enterButton === '';\n\n      if (loading && !enterButton) {\n        return [suffix, this.renderLoading(prefixCls)];\n      }\n\n      if (enterButton) return suffix;\n\n      var icon = _createVNode(SearchOutlined, {\n        \"class\": \"\".concat(prefixCls, \"-icon\"),\n        \"key\": \"searchIcon\",\n        \"onClick\": this.handleSearch\n      }, null);\n\n      if (suffix) {\n        // let cloneSuffix = suffix;\n        // if (isValidElement(cloneSuffix) && !cloneSuffix.key) {\n        //   cloneSuffix = cloneElement(cloneSuffix, {\n        //     key: 'originSuffix',\n        //   });\n        // }\n        return [suffix, icon];\n      }\n\n      return icon;\n    },\n    renderAddonAfter: function renderAddonAfter(prefixCls) {\n      var size = this.size,\n          disabled = this.disabled,\n          loading = this.loading;\n      var btnClassName = \"\".concat(prefixCls, \"-button\");\n      var enterButton = getComponent(this, 'enterButton');\n      enterButton = enterButton || enterButton === '';\n      var addonAfter = getComponent(this, 'addonAfter');\n\n      if (loading && enterButton) {\n        return [this.renderLoading(prefixCls), addonAfter];\n      }\n\n      if (!enterButton) return addonAfter;\n      var enterButtonAsElement = Array.isArray(enterButton) ? enterButton[0] : enterButton;\n      var button;\n\n      var isAntdButton = enterButtonAsElement.type && isPlainObject(enterButtonAsElement.type) && enterButtonAsElement.type.__ANT_BUTTON;\n\n      if (enterButtonAsElement.tagName === 'button' || isAntdButton) {\n        button = cloneElement(enterButtonAsElement, _extends(_extends({\n          key: 'enterButton',\n          class: isAntdButton ? btnClassName : ''\n        }, isAntdButton ? {\n          size: size\n        } : {}), {\n          onClick: this.handleSearch\n        }));\n      } else {\n        button = _createVNode(Button, {\n          \"class\": btnClassName,\n          \"type\": \"primary\",\n          \"size\": size,\n          \"disabled\": disabled,\n          \"key\": \"enterButton\",\n          \"onClick\": this.handleSearch\n        }, {\n          default: function _default() {\n            return [enterButton === true || enterButton === '' ? _createVNode(SearchOutlined, null, null) : enterButton];\n          }\n        });\n      }\n\n      if (addonAfter) {\n        return [button, addonAfter];\n      }\n\n      return button;\n    }\n  },\n  render: function render() {\n    var _a = _extends(_extends({}, getOptionProps(this)), this.$attrs),\n        customizePrefixCls = _a.prefixCls,\n        customizeInputPrefixCls = _a.inputPrefixCls,\n        size = _a.size,\n        className = _a.class,\n        restProps = __rest(_a, [\"prefixCls\", \"inputPrefixCls\", \"size\", \"class\"]);\n\n    delete restProps.onSearch;\n    delete restProps.loading;\n    delete restProps.enterButton;\n    delete restProps.addonBefore;\n    delete restProps['onUpdate:value'];\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input-search', customizePrefixCls);\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n    var enterButton = getComponent(this, 'enterButton');\n    var addonBefore = getComponent(this, 'addonBefore');\n    enterButton = enterButton || enterButton === '';\n    var inputClassName;\n\n    if (enterButton) {\n      var _classNames;\n\n      inputClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-enter-button\"), !!enterButton), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), !!size), _classNames));\n    } else {\n      inputClassName = classNames(prefixCls, className);\n    }\n\n    var inputProps = _extends(_extends({}, restProps), {\n      prefixCls: inputPrefixCls,\n      size: size,\n      suffix: this.renderSuffix(prefixCls),\n      prefix: getComponent(this, 'prefix'),\n      addonAfter: this.renderAddonAfter(prefixCls),\n      addonBefore: addonBefore,\n      class: inputClassName,\n      onPressEnter: this.handleSearch,\n      onChange: this.handleChange\n    });\n\n    return _createVNode(Input, _objectSpread(_objectSpread({}, inputProps), {}, {\n      \"ref\": this.saveInput\n    }), null);\n  }\n});"]},"metadata":{},"sourceType":"module"}