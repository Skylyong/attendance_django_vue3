{"ast":null,"code":"import { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [{\n  title: 'name',\n  dataIndex: 'name',\n  width: '25%',\n  slots: {\n    customRender: 'name'\n  }\n}, {\n  title: 'age',\n  dataIndex: 'age',\n  width: '15%',\n  slots: {\n    customRender: 'age'\n  }\n}, {\n  title: 'address',\n  dataIndex: 'address',\n  width: '40%',\n  slots: {\n    customRender: 'address'\n  }\n}, {\n  title: 'operation',\n  dataIndex: 'operation',\n  slots: {\n    customRender: 'operation'\n  }\n}];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel\n    };\n  }\n\n});","map":{"version":3,"mappings":"AAiDA,SAASA,SAAT,QAA0B,WAA1B;AACA,SAASC,eAAT,EAA0BC,QAA1B,EAAoCC,GAApC,QAA+C,KAA/C;AACA,MAAMC,OAAM,GAAI,CACd;AACEC,OAAK,EAAE,MADT;AAEEC,WAAS,EAAE,MAFb;AAGEC,OAAK,EAAE,KAHT;AAIEC,OAAK,EAAE;AACLC,gBAAY,EAAE;AADT;AAJT,CADc,EASd;AACEJ,OAAK,EAAE,KADT;AAEEC,WAAS,EAAE,KAFb;AAGEC,OAAK,EAAE,KAHT;AAIEC,OAAK,EAAE;AACLC,gBAAY,EAAE;AADT;AAJT,CATc,EAiBd;AACEJ,OAAK,EAAE,SADT;AAEEC,WAAS,EAAE,SAFb;AAGEC,OAAK,EAAE,KAHT;AAIEC,OAAK,EAAE;AACLC,gBAAY,EAAE;AADT;AAJT,CAjBc,EAyBd;AACEJ,OAAK,EAAE,WADT;AAEEC,WAAS,EAAE,WAFb;AAGEE,OAAK,EAAE;AACLC,gBAAY,EAAE;AADT;AAHT,CAzBc,CAAhB;AAiCA,MAAMC,IAAG,GAAI,EAAb;;AAEA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5BD,MAAI,CAACE,IAAL,CAAU;AACRC,OAAG,EAAEF,CAAC,CAACG,QAAF,EADG;AAERC,QAAI,EAAG,WAAUJ,CAAE,EAFX;AAGRK,OAAG,EAAE,EAHG;AAIRC,WAAO,EAAG,mBAAkBN,CAAE;AAJtB,GAAV;AAMF;;AAEA,eAAeV,eAAe,CAAC;AAC7BiB,OAAK,GAAG;AACN,UAAMC,UAAS,GAAIhB,GAAG,CAACO,IAAD,CAAtB;AACA,UAAMU,YAAW,GAAIlB,QAAQ,CAAC,EAAD,CAA7B;;AAEA,UAAMmB,IAAG,GAAIR,GAAE,IAAK;AAClBO,kBAAY,CAACP,GAAD,CAAZ,GAAoBb,SAAS,CAACmB,UAAU,CAACG,KAAX,CAAiBC,MAAjB,CAAwBC,IAAG,IAAKX,GAAE,KAAMW,IAAI,CAACX,GAA7C,EAAkD,CAAlD,CAAD,CAA7B;AACD,KAFD;;AAIA,UAAMY,IAAG,GAAIZ,GAAE,IAAK;AAClBa,YAAM,CAACC,MAAP,CAAcR,UAAU,CAACG,KAAX,CAAiBC,MAAjB,CAAwBC,IAAG,IAAKX,GAAE,KAAMW,IAAI,CAACX,GAA7C,EAAkD,CAAlD,CAAd,EAAoEO,YAAY,CAACP,GAAD,CAAhF;AACA,aAAOO,YAAY,CAACP,GAAD,CAAnB;AACD,KAHD;;AAKA,UAAMe,MAAK,GAAIf,GAAE,IAAK;AACpB,aAAOO,YAAY,CAACP,GAAD,CAAnB;AACD,KAFD;;AAIA,WAAO;AACLM,gBADK;AAELf,aAFK;AAGLyB,gBAAU,EAAE,EAHP;AAILT,kBAJK;AAKLC,UALK;AAMLI,UANK;AAOLG;AAPK,KAAP;AASD;;AA3B4B,CAAD,CAA9B","names":["cloneDeep","defineComponent","reactive","ref","columns","title","dataIndex","width","slots","customRender","data","i","push","key","toString","name","age","address","setup","dataSource","editableData","edit","value","filter","item","save","Object","assign","cancel","editingKey"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\n    <template v-for=\"col in ['name', 'age', 'address']\" #[col]=\"{ text, record }\" :key=\"col\">\n      <div>\n        <a-input\n          v-if=\"editableData[record.key]\"\n          v-model:value=\"editableData[record.key][col]\"\n          style=\"margin: -5px 0\"\n        />\n\n\n\n\n\n\n        <template v-else>\n          {{ text }}\n        </template>\n      </div>\n    </template>\n    <template #operation=\"{ record }\">\n      <div class=\"editable-row-operations\">\n        <span v-if=\"editableData[record.key]\">\n\n\n    <a-select v-if=\"columns='address'\"\n    v-model:value=\"value\"\n    label-in-value\n    style=\"width: 120px\"\n    :options=\"options\"\n    @change=\"handleChange\"\n  >\n  </a-select>\n\n\n\n          <a @click=\"save(record.key)\">Save</a>\n          <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\n            <a>Cancel</a>\n          </a-popconfirm>\n        </span>\n        <span v-else>\n          <a @click=\"edit(record.key)\">Edit</a>\n        </span>\n      </div>\n    </template>\n  </a-table>\n</template>\n<script>\nimport { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n    width: '25%',\n    slots: {\n      customRender: 'name',\n    },\n  },\n  {\n    title: 'age',\n    dataIndex: 'age',\n    width: '15%',\n    slots: {\n      customRender: 'age',\n    },\n  },\n  {\n    title: 'address',\n    dataIndex: 'address',\n    width: '40%',\n    slots: {\n      customRender: 'address',\n    },\n  },\n  {\n    title: 'operation',\n    dataIndex: 'operation',\n    slots: {\n      customRender: 'operation',\n    },\n  },\n];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel,\n    };\n  },\n});\n</script>\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}