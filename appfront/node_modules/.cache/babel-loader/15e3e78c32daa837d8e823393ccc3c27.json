{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes, { withUndefined } from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport debounce from 'lodash-es/debounce';\nimport isFlexSupported from '../_util/isFlexSupported';\nimport { getSlot, getPropsData } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Steps',\n  mixins: [BaseMixin],\n  props: {\n    type: PropTypes.string.def('default'),\n    prefixCls: PropTypes.string.def('rc-steps'),\n    iconPrefix: PropTypes.string.def('rc'),\n    direction: PropTypes.string.def('horizontal'),\n    labelPlacement: PropTypes.string.def('horizontal'),\n    status: PropTypes.string.def('process'),\n    size: PropTypes.string.def(''),\n    progressDot: withUndefined(PropTypes.oneOfType([PropTypes.looseBool, PropTypes.func])),\n    initial: PropTypes.number.def(0),\n    current: PropTypes.number.def(0),\n    icons: PropTypes.shape({\n      finish: PropTypes.any,\n      error: PropTypes.any\n    }).loose,\n    canClick: PropTypes.looseBool\n  },\n  data: function data() {\n    this.calcStepOffsetWidth = debounce(this.calcStepOffsetWidth, 150);\n    return {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.calcStepOffsetWidth();\n\n      if (!isFlexSupported()) {\n        _this.setState({\n          flexSupported: false\n        });\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.calcStepOffsetWidth();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  },\n  methods: {\n    onStepClick: function onStepClick(next) {\n      var current = this.$props.current;\n\n      if (current !== next) {\n        this.__emit('change', next);\n      }\n    },\n    calcStepOffsetWidth: function calcStepOffsetWidth() {\n      var _this3 = this;\n\n      if (isFlexSupported()) {\n        return;\n      }\n\n      var lastStepOffsetWidth = this.$data.lastStepOffsetWidth; // Just for IE9\n\n      var domNode = this.$refs.vcStepsRef;\n\n      if (domNode.children.length > 0) {\n        if (this.calcTimeout) {\n          clearTimeout(this.calcTimeout);\n        }\n\n        this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var offsetWidth = (domNode.lastChild.offsetWidth || 0) + 1; // Reduce shake bug\n\n          if (lastStepOffsetWidth === offsetWidth || Math.abs(lastStepOffsetWidth - offsetWidth) <= 3) {\n            return;\n          }\n\n          _this3.setState({\n            lastStepOffsetWidth: offsetWidth\n          });\n        });\n      }\n    }\n  },\n  render: function render() {\n    var _classString,\n        _this4 = this;\n\n    var prefixCls = this.prefixCls,\n        direction = this.direction,\n        type = this.type,\n        labelPlacement = this.labelPlacement,\n        iconPrefix = this.iconPrefix,\n        status = this.status,\n        size = this.size,\n        current = this.current,\n        progressDot = this.progressDot,\n        initial = this.initial,\n        icons = this.icons,\n        canClick = this.canClick;\n    var isNav = type === 'navigation';\n    var lastStepOffsetWidth = this.lastStepOffsetWidth,\n        flexSupported = this.flexSupported;\n    var filteredChildren = getSlot(this);\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = progressDot ? 'vertical' : labelPlacement;\n    var classString = (_classString = {}, _defineProperty(_classString, prefixCls, true), _defineProperty(_classString, \"\".concat(prefixCls, \"-\").concat(direction), true), _defineProperty(_classString, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classString, \"\".concat(prefixCls, \"-label-\").concat(adjustedlabelPlacement), direction === 'horizontal'), _defineProperty(_classString, \"\".concat(prefixCls, \"-dot\"), !!progressDot), _defineProperty(_classString, \"\".concat(prefixCls, \"-navigation\"), isNav), _defineProperty(_classString, \"\".concat(prefixCls, \"-flex-not-supported\"), !flexSupported), _classString);\n    var stepsProps = {\n      class: classString,\n      ref: 'vcStepsRef'\n    };\n    return _createVNode(\"div\", stepsProps, [filteredChildren.map(function (child, index) {\n      var childProps = getPropsData(child);\n      var stepNumber = initial + index;\n\n      var stepProps = _extends({\n        stepNumber: \"\".concat(stepNumber + 1),\n        stepIndex: stepNumber,\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix,\n        progressDot: progressDot,\n        icons: icons\n      }, childProps);\n\n      if (canClick) {\n        stepProps.onStepClick = _this4.onStepClick;\n      }\n\n      if (!flexSupported && direction !== 'vertical') {\n        if (isNav) {\n          stepProps.itemWidth = \"\".concat(100 / (lastIndex + 1), \"%\");\n          stepProps.adjustMarginRight = 0;\n        } else if (index !== lastIndex) {\n          stepProps.itemWidth = \"\".concat(100 / lastIndex, \"%\");\n          stepProps.adjustMarginRight = \"\".concat(-Math.round(lastStepOffsetWidth / lastIndex + 1), \"px\");\n        }\n      } // fix tail color\n\n\n      if (status === 'error' && index === current - 1) {\n        stepProps.class = \"\".concat(prefixCls, \"-next-error\");\n      }\n\n      if (!childProps.status) {\n        if (stepNumber === current) {\n          stepProps.status = status;\n        } else if (stepNumber < current) {\n          stepProps.status = 'finish';\n        } else {\n          stepProps.status = 'wait';\n        }\n      }\n\n      stepProps.active = stepNumber === current;\n      return cloneElement(child, stepProps);\n    })]);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-steps/Steps.js"],"names":["_extends","_defineProperty","createVNode","_createVNode","PropTypes","withUndefined","BaseMixin","debounce","isFlexSupported","getSlot","getPropsData","cloneElement","defineComponent","name","mixins","props","type","string","def","prefixCls","iconPrefix","direction","labelPlacement","status","size","progressDot","oneOfType","looseBool","func","initial","number","current","icons","shape","finish","any","error","loose","canClick","data","calcStepOffsetWidth","flexSupported","lastStepOffsetWidth","mounted","_this","$nextTick","setState","updated","_this2","beforeUnmount","calcTimeout","clearTimeout","cancel","methods","onStepClick","next","$props","__emit","_this3","$data","domNode","$refs","vcStepsRef","children","length","setTimeout","offsetWidth","lastChild","Math","abs","render","_classString","_this4","isNav","filteredChildren","lastIndex","adjustedlabelPlacement","classString","concat","stepsProps","class","ref","map","child","index","childProps","stepNumber","stepProps","stepIndex","itemWidth","adjustMarginRight","round","active"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport PropTypes, { withUndefined } from '../_util/vue-types';\nimport BaseMixin from '../_util/BaseMixin';\nimport debounce from 'lodash-es/debounce';\nimport isFlexSupported from '../_util/isFlexSupported';\nimport { getSlot, getPropsData } from '../_util/props-util';\nimport { cloneElement } from '../_util/vnode';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Steps',\n  mixins: [BaseMixin],\n  props: {\n    type: PropTypes.string.def('default'),\n    prefixCls: PropTypes.string.def('rc-steps'),\n    iconPrefix: PropTypes.string.def('rc'),\n    direction: PropTypes.string.def('horizontal'),\n    labelPlacement: PropTypes.string.def('horizontal'),\n    status: PropTypes.string.def('process'),\n    size: PropTypes.string.def(''),\n    progressDot: withUndefined(PropTypes.oneOfType([PropTypes.looseBool, PropTypes.func])),\n    initial: PropTypes.number.def(0),\n    current: PropTypes.number.def(0),\n    icons: PropTypes.shape({\n      finish: PropTypes.any,\n      error: PropTypes.any\n    }).loose,\n    canClick: PropTypes.looseBool\n  },\n  data: function data() {\n    this.calcStepOffsetWidth = debounce(this.calcStepOffsetWidth, 150);\n    return {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.calcStepOffsetWidth();\n\n      if (!isFlexSupported()) {\n        _this.setState({\n          flexSupported: false\n        });\n      }\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.calcStepOffsetWidth();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  },\n  methods: {\n    onStepClick: function onStepClick(next) {\n      var current = this.$props.current;\n\n      if (current !== next) {\n        this.__emit('change', next);\n      }\n    },\n    calcStepOffsetWidth: function calcStepOffsetWidth() {\n      var _this3 = this;\n\n      if (isFlexSupported()) {\n        return;\n      }\n\n      var lastStepOffsetWidth = this.$data.lastStepOffsetWidth; // Just for IE9\n\n      var domNode = this.$refs.vcStepsRef;\n\n      if (domNode.children.length > 0) {\n        if (this.calcTimeout) {\n          clearTimeout(this.calcTimeout);\n        }\n\n        this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var offsetWidth = (domNode.lastChild.offsetWidth || 0) + 1; // Reduce shake bug\n\n          if (lastStepOffsetWidth === offsetWidth || Math.abs(lastStepOffsetWidth - offsetWidth) <= 3) {\n            return;\n          }\n\n          _this3.setState({\n            lastStepOffsetWidth: offsetWidth\n          });\n        });\n      }\n    }\n  },\n  render: function render() {\n    var _classString,\n        _this4 = this;\n\n    var prefixCls = this.prefixCls,\n        direction = this.direction,\n        type = this.type,\n        labelPlacement = this.labelPlacement,\n        iconPrefix = this.iconPrefix,\n        status = this.status,\n        size = this.size,\n        current = this.current,\n        progressDot = this.progressDot,\n        initial = this.initial,\n        icons = this.icons,\n        canClick = this.canClick;\n    var isNav = type === 'navigation';\n    var lastStepOffsetWidth = this.lastStepOffsetWidth,\n        flexSupported = this.flexSupported;\n    var filteredChildren = getSlot(this);\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = progressDot ? 'vertical' : labelPlacement;\n    var classString = (_classString = {}, _defineProperty(_classString, prefixCls, true), _defineProperty(_classString, \"\".concat(prefixCls, \"-\").concat(direction), true), _defineProperty(_classString, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classString, \"\".concat(prefixCls, \"-label-\").concat(adjustedlabelPlacement), direction === 'horizontal'), _defineProperty(_classString, \"\".concat(prefixCls, \"-dot\"), !!progressDot), _defineProperty(_classString, \"\".concat(prefixCls, \"-navigation\"), isNav), _defineProperty(_classString, \"\".concat(prefixCls, \"-flex-not-supported\"), !flexSupported), _classString);\n    var stepsProps = {\n      class: classString,\n      ref: 'vcStepsRef'\n    };\n    return _createVNode(\"div\", stepsProps, [filteredChildren.map(function (child, index) {\n      var childProps = getPropsData(child);\n      var stepNumber = initial + index;\n\n      var stepProps = _extends({\n        stepNumber: \"\".concat(stepNumber + 1),\n        stepIndex: stepNumber,\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix,\n        progressDot: progressDot,\n        icons: icons\n      }, childProps);\n\n      if (canClick) {\n        stepProps.onStepClick = _this4.onStepClick;\n      }\n\n      if (!flexSupported && direction !== 'vertical') {\n        if (isNav) {\n          stepProps.itemWidth = \"\".concat(100 / (lastIndex + 1), \"%\");\n          stepProps.adjustMarginRight = 0;\n        } else if (index !== lastIndex) {\n          stepProps.itemWidth = \"\".concat(100 / lastIndex, \"%\");\n          stepProps.adjustMarginRight = \"\".concat(-Math.round(lastStepOffsetWidth / lastIndex + 1), \"px\");\n        }\n      } // fix tail color\n\n\n      if (status === 'error' && index === current - 1) {\n        stepProps.class = \"\".concat(prefixCls, \"-next-error\");\n      }\n\n      if (!childProps.status) {\n        if (stepNumber === current) {\n          stepProps.status = status;\n        } else if (stepNumber < current) {\n          stepProps.status = 'finish';\n        } else {\n          stepProps.status = 'wait';\n        }\n      }\n\n      stepProps.active = stepNumber === current;\n      return cloneElement(child, stepProps);\n    })]);\n  }\n});"]},"metadata":{},"sourceType":"module"}