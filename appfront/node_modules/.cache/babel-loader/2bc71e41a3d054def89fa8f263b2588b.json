{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { inject } from 'vue';\nimport PropTypes, { withUndefined } from '../../_util/vue-types';\nimport { measureScrollbar } from './utils';\nimport BaseTable from './BaseTable';\nimport classNames from '../../_util/classNames';\nexport default {\n  name: 'HeadTable',\n  inheritAttrs: false,\n  props: {\n    fixed: withUndefined(PropTypes.oneOfType([PropTypes.string, PropTypes.looseBool])),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    handleBodyScrollLeft: PropTypes.func.isRequired,\n    expander: PropTypes.object.isRequired\n  },\n  setup: function setup() {\n    return {\n      table: inject('table', {})\n    };\n  },\n  render: function render() {\n    var columns = this.columns,\n        fixed = this.fixed,\n        tableClassName = this.tableClassName,\n        handleBodyScrollLeft = this.handleBodyScrollLeft,\n        expander = this.expander,\n        table = this.table;\n    var prefixCls = table.prefixCls,\n        scroll = table.scroll,\n        showHeader = table.showHeader,\n        saveRef = table.saveRef;\n    var useFixedHeader = table.useFixedHeader;\n    var headStyle = {};\n    var scrollbarWidth = measureScrollbar({\n      direction: 'vertical'\n    });\n\n    if (scroll.y) {\n      useFixedHeader = true; // https://github.com/ant-design/ant-design/issues/17051\n\n      var scrollbarWidthOfHeader = measureScrollbar({\n        direction: 'horizontal',\n        prefixCls: prefixCls\n      }); // Add negative margin bottom for scroll bar overflow bug\n\n      if (scrollbarWidthOfHeader > 0 && !fixed) {\n        headStyle.marginBottom = \"-\".concat(scrollbarWidthOfHeader, \"px\");\n        headStyle.paddingBottom = '0px'; // https://github.com/ant-design/ant-design/pull/19986\n\n        headStyle.minWidth = \"\".concat(scrollbarWidth, \"px\"); // https://github.com/ant-design/ant-design/issues/17051\n\n        headStyle.overflowX = 'scroll';\n        headStyle.overflowY = scrollbarWidth === 0 ? 'hidden' : 'scroll';\n      }\n    }\n\n    if (!useFixedHeader || !showHeader) {\n      return null;\n    }\n\n    return _createVNode(\"div\", {\n      \"key\": \"headTable\",\n      \"ref\": fixed ? function () {} : saveRef('headTable'),\n      \"class\": classNames(\"\".concat(prefixCls, \"-header\"), _defineProperty({}, \"\".concat(prefixCls, \"-hide-scrollbar\"), scrollbarWidth > 0)),\n      \"style\": headStyle,\n      \"onScroll\": handleBodyScrollLeft\n    }, [_createVNode(BaseTable, {\n      \"tableClassName\": tableClassName,\n      \"hasHead\": true,\n      \"hasBody\": false,\n      \"fixed\": fixed,\n      \"columns\": columns,\n      \"expander\": expander\n    }, null)]);\n  }\n};","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-table/src/HeadTable.js"],"names":["_defineProperty","createVNode","_createVNode","inject","PropTypes","withUndefined","measureScrollbar","BaseTable","classNames","name","inheritAttrs","props","fixed","oneOfType","string","looseBool","columns","array","isRequired","tableClassName","handleBodyScrollLeft","func","expander","object","setup","table","render","prefixCls","scroll","showHeader","saveRef","useFixedHeader","headStyle","scrollbarWidth","direction","y","scrollbarWidthOfHeader","marginBottom","concat","paddingBottom","minWidth","overflowX","overflowY"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,SAASC,WAAW,IAAIC,YAAxB,QAA4C,KAA5C;AACA,SAASC,MAAT,QAAuB,KAAvB;AACA,OAAOC,SAAP,IAAoBC,aAApB,QAAyC,uBAAzC;AACA,SAASC,gBAAT,QAAiC,SAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,eAAe;AACbC,EAAAA,IAAI,EAAE,WADO;AAEbC,EAAAA,YAAY,EAAE,KAFD;AAGbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAEP,aAAa,CAACD,SAAS,CAACS,SAAV,CAAoB,CAACT,SAAS,CAACU,MAAX,EAAmBV,SAAS,CAACW,SAA7B,CAApB,CAAD,CADf;AAELC,IAAAA,OAAO,EAAEZ,SAAS,CAACa,KAAV,CAAgBC,UAFpB;AAGLC,IAAAA,cAAc,EAAEf,SAAS,CAACU,MAAV,CAAiBI,UAH5B;AAILE,IAAAA,oBAAoB,EAAEhB,SAAS,CAACiB,IAAV,CAAeH,UAJhC;AAKLI,IAAAA,QAAQ,EAAElB,SAAS,CAACmB,MAAV,CAAiBL;AALtB,GAHM;AAUbM,EAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,WAAO;AACLC,MAAAA,KAAK,EAAEtB,MAAM,CAAC,OAAD,EAAU,EAAV;AADR,KAAP;AAGD,GAdY;AAebuB,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIV,OAAO,GAAG,KAAKA,OAAnB;AAAA,QACIJ,KAAK,GAAG,KAAKA,KADjB;AAAA,QAEIO,cAAc,GAAG,KAAKA,cAF1B;AAAA,QAGIC,oBAAoB,GAAG,KAAKA,oBAHhC;AAAA,QAIIE,QAAQ,GAAG,KAAKA,QAJpB;AAAA,QAKIG,KAAK,GAAG,KAAKA,KALjB;AAMA,QAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;AAAA,QACIC,MAAM,GAAGH,KAAK,CAACG,MADnB;AAAA,QAEIC,UAAU,GAAGJ,KAAK,CAACI,UAFvB;AAAA,QAGIC,OAAO,GAAGL,KAAK,CAACK,OAHpB;AAIA,QAAIC,cAAc,GAAGN,KAAK,CAACM,cAA3B;AACA,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,cAAc,GAAG3B,gBAAgB,CAAC;AACpC4B,MAAAA,SAAS,EAAE;AADyB,KAAD,CAArC;;AAIA,QAAIN,MAAM,CAACO,CAAX,EAAc;AACZJ,MAAAA,cAAc,GAAG,IAAjB,CADY,CACW;;AAEvB,UAAIK,sBAAsB,GAAG9B,gBAAgB,CAAC;AAC5C4B,QAAAA,SAAS,EAAE,YADiC;AAE5CP,QAAAA,SAAS,EAAEA;AAFiC,OAAD,CAA7C,CAHY,CAMR;;AAEJ,UAAIS,sBAAsB,GAAG,CAAzB,IAA8B,CAACxB,KAAnC,EAA0C;AACxCoB,QAAAA,SAAS,CAACK,YAAV,GAAyB,IAAIC,MAAJ,CAAWF,sBAAX,EAAmC,IAAnC,CAAzB;AACAJ,QAAAA,SAAS,CAACO,aAAV,GAA0B,KAA1B,CAFwC,CAEP;;AAEjCP,QAAAA,SAAS,CAACQ,QAAV,GAAqB,GAAGF,MAAH,CAAUL,cAAV,EAA0B,IAA1B,CAArB,CAJwC,CAIc;;AAEtDD,QAAAA,SAAS,CAACS,SAAV,GAAsB,QAAtB;AACAT,QAAAA,SAAS,CAACU,SAAV,GAAsBT,cAAc,KAAK,CAAnB,GAAuB,QAAvB,GAAkC,QAAxD;AACD;AACF;;AAED,QAAI,CAACF,cAAD,IAAmB,CAACF,UAAxB,EAAoC;AAClC,aAAO,IAAP;AACD;;AAED,WAAO3B,YAAY,CAAC,KAAD,EAAQ;AACzB,aAAO,WADkB;AAEzB,aAAOU,KAAK,GAAG,YAAY,CAAE,CAAjB,GAAoBkB,OAAO,CAAC,WAAD,CAFd;AAGzB,eAAStB,UAAU,CAAC,GAAG8B,MAAH,CAAUX,SAAV,EAAqB,SAArB,CAAD,EAAkC3B,eAAe,CAAC,EAAD,EAAK,GAAGsC,MAAH,CAAUX,SAAV,EAAqB,iBAArB,CAAL,EAA8CM,cAAc,GAAG,CAA/D,CAAjD,CAHM;AAIzB,eAASD,SAJgB;AAKzB,kBAAYZ;AALa,KAAR,EAMhB,CAAClB,YAAY,CAACK,SAAD,EAAY;AAC1B,wBAAkBY,cADQ;AAE1B,iBAAW,IAFe;AAG1B,iBAAW,KAHe;AAI1B,eAASP,KAJiB;AAK1B,iBAAWI,OALe;AAM1B,kBAAYM;AANc,KAAZ,EAOb,IAPa,CAAb,CANgB,CAAnB;AAcD;AArEY,CAAf","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { inject } from 'vue';\nimport PropTypes, { withUndefined } from '../../_util/vue-types';\nimport { measureScrollbar } from './utils';\nimport BaseTable from './BaseTable';\nimport classNames from '../../_util/classNames';\nexport default {\n  name: 'HeadTable',\n  inheritAttrs: false,\n  props: {\n    fixed: withUndefined(PropTypes.oneOfType([PropTypes.string, PropTypes.looseBool])),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    handleBodyScrollLeft: PropTypes.func.isRequired,\n    expander: PropTypes.object.isRequired\n  },\n  setup: function setup() {\n    return {\n      table: inject('table', {})\n    };\n  },\n  render: function render() {\n    var columns = this.columns,\n        fixed = this.fixed,\n        tableClassName = this.tableClassName,\n        handleBodyScrollLeft = this.handleBodyScrollLeft,\n        expander = this.expander,\n        table = this.table;\n    var prefixCls = table.prefixCls,\n        scroll = table.scroll,\n        showHeader = table.showHeader,\n        saveRef = table.saveRef;\n    var useFixedHeader = table.useFixedHeader;\n    var headStyle = {};\n    var scrollbarWidth = measureScrollbar({\n      direction: 'vertical'\n    });\n\n    if (scroll.y) {\n      useFixedHeader = true; // https://github.com/ant-design/ant-design/issues/17051\n\n      var scrollbarWidthOfHeader = measureScrollbar({\n        direction: 'horizontal',\n        prefixCls: prefixCls\n      }); // Add negative margin bottom for scroll bar overflow bug\n\n      if (scrollbarWidthOfHeader > 0 && !fixed) {\n        headStyle.marginBottom = \"-\".concat(scrollbarWidthOfHeader, \"px\");\n        headStyle.paddingBottom = '0px'; // https://github.com/ant-design/ant-design/pull/19986\n\n        headStyle.minWidth = \"\".concat(scrollbarWidth, \"px\"); // https://github.com/ant-design/ant-design/issues/17051\n\n        headStyle.overflowX = 'scroll';\n        headStyle.overflowY = scrollbarWidth === 0 ? 'hidden' : 'scroll';\n      }\n    }\n\n    if (!useFixedHeader || !showHeader) {\n      return null;\n    }\n\n    return _createVNode(\"div\", {\n      \"key\": \"headTable\",\n      \"ref\": fixed ? function () {} : saveRef('headTable'),\n      \"class\": classNames(\"\".concat(prefixCls, \"-header\"), _defineProperty({}, \"\".concat(prefixCls, \"-hide-scrollbar\"), scrollbarWidth > 0)),\n      \"style\": headStyle,\n      \"onScroll\": handleBodyScrollLeft\n    }, [_createVNode(BaseTable, {\n      \"tableClassName\": tableClassName,\n      \"hasHead\": true,\n      \"hasBody\": false,\n      \"fixed\": fixed,\n      \"columns\": columns,\n      \"expander\": expander\n    }, null)]);\n  }\n};"]},"metadata":{},"sourceType":"module"}