{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { getComponent, getSlot } from '../_util/props-util';\nimport PropTypes from '../_util/vue-types';\nimport Trigger from '../vc-trigger';\nimport Menus from './Menus';\nimport KeyCode from '../_util/KeyCode';\nimport arrayTreeFilter from 'array-tree-filter';\nimport shallowEqualArrays from 'shallow-equal/arrays';\nimport { hasProp, getEvents } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { cloneElement } from '../_util/vnode';\nimport { defineComponent } from 'vue';\nimport isEqual from 'lodash-es/isEqual';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  }\n};\nexport default defineComponent({\n  name: 'Cascader',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  // model: {\n  //   prop: 'value',\n  //   event: 'change',\n  // },\n  props: {\n    value: PropTypes.array,\n    defaultValue: PropTypes.array,\n    options: PropTypes.array,\n    // onChange: PropTypes.func,\n    // onPopupVisibleChange: PropTypes.func,\n    popupVisible: PropTypes.looseBool,\n    disabled: PropTypes.looseBool.def(false),\n    transitionName: PropTypes.string.def(''),\n    popupClassName: PropTypes.string.def(''),\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupPlacement: PropTypes.string.def('bottomLeft'),\n    prefixCls: PropTypes.string.def('rc-cascader'),\n    dropdownMenuColumnStyle: PropTypes.object,\n    builtinPlacements: PropTypes.object.def(BUILT_IN_PLACEMENTS),\n    loadData: PropTypes.func,\n    changeOnSelect: PropTypes.looseBool,\n    // onKeyDown: PropTypes.func,\n    expandTrigger: PropTypes.string.def('click'),\n    fieldNames: PropTypes.object.def(function () {\n      return {\n        label: 'label',\n        value: 'value',\n        children: 'children'\n      };\n    }),\n    expandIcon: PropTypes.any,\n    loadingIcon: PropTypes.any,\n    getPopupContainer: PropTypes.func\n  },\n  data: function data() {\n    var initialValue = [];\n    var value = this.value,\n        defaultValue = this.defaultValue,\n        popupVisible = this.popupVisible;\n\n    if (hasProp(this, 'value')) {\n      initialValue = value || [];\n    } else if (hasProp(this, 'defaultValue')) {\n      initialValue = defaultValue || [];\n    }\n\n    this.children = undefined; // warning(!('filedNames' in props),\n    //   '`filedNames` of Cascader is a typo usage and deprecated, please use `fieldNames` instead.');\n\n    this.defaultFieldNames = {\n      label: 'label',\n      value: 'value',\n      children: 'children'\n    };\n    return {\n      sPopupVisible: popupVisible,\n      sActiveValue: initialValue,\n      sValue: initialValue\n    };\n  },\n  watch: {\n    value: function value(val, oldValue) {\n      if (!shallowEqualArrays(val, oldValue)) {\n        var newValues = {\n          sValue: val || []\n        }; // allow activeValue diff from value\n        // https://github.com/ant-design/ant-design/issues/2767\n\n        if (!hasProp(this, 'loadData')) {\n          newValues.sActiveValue = val || [];\n        }\n\n        this.setState(newValues);\n      }\n    },\n    popupVisible: function popupVisible(val) {\n      this.setState({\n        sPopupVisible: val\n      });\n    }\n  },\n  methods: {\n    getPopupDOMNode: function getPopupDOMNode() {\n      return this.trigger.getPopupDomNode();\n    },\n    getFieldName: function getFieldName(name) {\n      var defaultFieldNames = this.defaultFieldNames,\n          fieldNames = this.fieldNames;\n      return fieldNames[name] || defaultFieldNames[name];\n    },\n    getFieldNames: function getFieldNames() {\n      return this.fieldNames;\n    },\n    getCurrentLevelOptions: function getCurrentLevelOptions() {\n      var _this = this;\n\n      var _this$options = this.options,\n          options = _this$options === void 0 ? [] : _this$options,\n          _this$sActiveValue = this.sActiveValue,\n          sActiveValue = _this$sActiveValue === void 0 ? [] : _this$sActiveValue;\n      var result = arrayTreeFilter(options, function (o, level) {\n        return isEqual(o[_this.getFieldName('value')], sActiveValue[level]);\n      }, {\n        childrenKeyName: this.getFieldName('children')\n      });\n\n      if (result[result.length - 2]) {\n        return result[result.length - 2][this.getFieldName('children')];\n      }\n\n      return _toConsumableArray(options).filter(function (o) {\n        return !o.disabled;\n      });\n    },\n    getActiveOptions: function getActiveOptions(activeValue) {\n      var _this2 = this;\n\n      return arrayTreeFilter(this.options || [], function (o, level) {\n        return isEqual(o[_this2.getFieldName('value')], activeValue[level]);\n      }, {\n        childrenKeyName: this.getFieldName('children')\n      });\n    },\n    setPopupVisible: function setPopupVisible(popupVisible) {\n      if (!hasProp(this, 'popupVisible')) {\n        this.setState({\n          sPopupVisible: popupVisible\n        });\n      } // sync activeValue with value when panel open\n\n\n      if (popupVisible && !this.sPopupVisible) {\n        this.setState({\n          sActiveValue: this.sValue\n        });\n      }\n\n      this.__emit('popupVisibleChange', popupVisible);\n    },\n    handleChange: function handleChange(options, setProps, e) {\n      var _this3 = this;\n\n      if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n        var value = options.map(function (o) {\n          return o[_this3.getFieldName('value')];\n        });\n\n        this.__emit('change', value, options);\n\n        this.setPopupVisible(setProps.visible);\n      }\n    },\n    handlePopupVisibleChange: function handlePopupVisibleChange(popupVisible) {\n      this.setPopupVisible(popupVisible);\n    },\n    handleMenuSelect: function handleMenuSelect(targetOption, menuIndex, e) {\n      // Keep focused state for keyboard support\n      var triggerNode = this.trigger.getRootDomNode();\n\n      if (triggerNode && triggerNode.focus) {\n        triggerNode.focus();\n      }\n\n      var changeOnSelect = this.changeOnSelect,\n          loadData = this.loadData,\n          expandTrigger = this.expandTrigger;\n\n      if (!targetOption || targetOption.disabled) {\n        return;\n      }\n\n      var sActiveValue = this.sActiveValue;\n      sActiveValue = sActiveValue.slice(0, menuIndex + 1);\n      sActiveValue[menuIndex] = targetOption[this.getFieldName('value')];\n      var activeOptions = this.getActiveOptions(sActiveValue);\n\n      if (targetOption.isLeaf === false && !targetOption[this.getFieldName('children')] && loadData) {\n        if (changeOnSelect) {\n          this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        }\n\n        this.setState({\n          sActiveValue: sActiveValue\n        });\n        loadData(activeOptions);\n        return;\n      }\n\n      var newState = {};\n\n      if (!targetOption[this.getFieldName('children')] || !targetOption[this.getFieldName('children')].length) {\n        this.handleChange(activeOptions, {\n          visible: false\n        }, e); // set value to activeValue when select leaf option\n\n        newState.sValue = sActiveValue; // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n      } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n        if (expandTrigger === 'hover') {\n          this.handleChange(activeOptions, {\n            visible: false\n          }, e);\n        } else {\n          this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        } // set value to activeValue on every select\n\n\n        newState.sValue = sActiveValue;\n      }\n\n      newState.sActiveValue = sActiveValue; //  not change the value by keyboard\n\n      if (hasProp(this, 'value') || e.type === 'keydown' && e.keyCode !== KeyCode.ENTER) {\n        delete newState.sValue;\n      }\n\n      this.setState(newState);\n    },\n    handleItemDoubleClick: function handleItemDoubleClick() {\n      var changeOnSelect = this.$props.changeOnSelect;\n\n      if (changeOnSelect) {\n        this.setPopupVisible(false);\n      }\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      var _this4 = this;\n\n      var children = this.children; // https://github.com/ant-design/ant-design/issues/6717\n      // Don't bind keyboard support when children specify the onKeyDown\n\n      if (children) {\n        var keydown = getEvents(children).onKeydown;\n\n        if (keydown) {\n          keydown(e);\n          return;\n        }\n      }\n\n      var activeValue = _toConsumableArray(this.sActiveValue);\n\n      var currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n      var currentOptions = this.getCurrentLevelOptions();\n      var currentIndex = currentOptions.map(function (o) {\n        return o[_this4.getFieldName('value')];\n      }).findIndex(function (val) {\n        return isEqual(activeValue[currentLevel], val);\n      });\n\n      if (e.keyCode !== KeyCode.DOWN && e.keyCode !== KeyCode.UP && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ENTER && e.keyCode !== KeyCode.SPACE && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.ESC && e.keyCode !== KeyCode.TAB) {\n        return;\n      } // Press any keys above to reopen menu\n\n\n      if (!this.sPopupVisible && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ESC && e.keyCode !== KeyCode.TAB) {\n        this.setPopupVisible(true);\n        return;\n      }\n\n      if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n        e.preventDefault();\n        var nextIndex = currentIndex;\n\n        if (nextIndex !== -1) {\n          if (e.keyCode === KeyCode.DOWN) {\n            nextIndex += 1;\n            nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n          } else {\n            nextIndex -= 1;\n            nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n          }\n        } else {\n          nextIndex = 0;\n        }\n\n        activeValue[currentLevel] = currentOptions[nextIndex][this.getFieldName('value')];\n      } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n        e.preventDefault();\n        activeValue.splice(activeValue.length - 1, 1);\n      } else if (e.keyCode === KeyCode.RIGHT) {\n        e.preventDefault();\n\n        if (currentOptions[currentIndex] && currentOptions[currentIndex][this.getFieldName('children')]) {\n          activeValue.push(currentOptions[currentIndex][this.getFieldName('children')][0][this.getFieldName('value')]);\n        }\n      } else if (e.keyCode === KeyCode.ESC || e.keyCode === KeyCode.TAB) {\n        this.setPopupVisible(false);\n        return;\n      }\n\n      if (!activeValue || activeValue.length === 0) {\n        this.setPopupVisible(false);\n      }\n\n      var activeOptions = this.getActiveOptions(activeValue);\n      var targetOption = activeOptions[activeOptions.length - 1];\n      this.handleMenuSelect(targetOption, activeOptions.length - 1, e);\n\n      this.__emit('keydown', e);\n    },\n    saveTrigger: function saveTrigger(node) {\n      this.trigger = node;\n    }\n  },\n  render: function render() {\n    var $props = this.$props,\n        sActiveValue = this.sActiveValue,\n        handleMenuSelect = this.handleMenuSelect,\n        sPopupVisible = this.sPopupVisible,\n        handlePopupVisibleChange = this.handlePopupVisibleChange,\n        handleKeyDown = this.handleKeyDown;\n\n    var prefixCls = $props.prefixCls,\n        transitionName = $props.transitionName,\n        popupClassName = $props.popupClassName,\n        _$props$options = $props.options,\n        options = _$props$options === void 0 ? [] : _$props$options,\n        disabled = $props.disabled,\n        builtinPlacements = $props.builtinPlacements,\n        popupPlacement = $props.popupPlacement,\n        restProps = __rest($props, [\"prefixCls\", \"transitionName\", \"popupClassName\", \"options\", \"disabled\", \"builtinPlacements\", \"popupPlacement\"]); // Did not show popup when there is no options\n\n\n    var menus = _createVNode(\"div\", null, null);\n\n    var emptyMenuClassName = '';\n\n    if (options && options.length > 0) {\n      var loadingIcon = getComponent(this, 'loadingIcon');\n      var expandIcon = getComponent(this, 'expandIcon') || '>';\n\n      var menusProps = _extends(_extends(_extends({}, $props), this.$attrs), {\n        fieldNames: this.getFieldNames(),\n        defaultFieldNames: this.defaultFieldNames,\n        activeValue: sActiveValue,\n        visible: sPopupVisible,\n        loadingIcon: loadingIcon,\n        expandIcon: expandIcon,\n        onSelect: handleMenuSelect,\n        onItemDoubleClick: this.handleItemDoubleClick\n      });\n\n      menus = _createVNode(Menus, menusProps, null);\n    } else {\n      emptyMenuClassName = \" \".concat(prefixCls, \"-menus-empty\");\n    }\n\n    var triggerProps = _extends(_extends(_extends({}, restProps), this.$attrs), {\n      disabled: disabled,\n      popupPlacement: popupPlacement,\n      builtinPlacements: builtinPlacements,\n      popupTransitionName: transitionName,\n      action: disabled ? [] : ['click'],\n      popupVisible: disabled ? false : sPopupVisible,\n      prefixCls: \"\".concat(prefixCls, \"-menus\"),\n      popupClassName: popupClassName + emptyMenuClassName,\n      popup: menus,\n      onPopupVisibleChange: handlePopupVisibleChange,\n      ref: this.saveTrigger\n    });\n\n    var children = getSlot(this);\n    this.children = children;\n    return _createVNode(Trigger, triggerProps, {\n      default: function _default() {\n        return [children && cloneElement(children[0], {\n          onKeydown: handleKeyDown,\n          tabindex: disabled ? undefined : 0\n        })];\n      }\n    });\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-cascader/Cascader.js"],"names":["_extends","_toConsumableArray","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","getComponent","getSlot","PropTypes","Trigger","Menus","KeyCode","arrayTreeFilter","shallowEqualArrays","hasProp","getEvents","BaseMixin","cloneElement","defineComponent","isEqual","BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","bottomRight","topRight","name","mixins","inheritAttrs","props","value","array","defaultValue","options","popupVisible","looseBool","disabled","def","transitionName","string","popupClassName","popupStyle","object","popupPlacement","prefixCls","dropdownMenuColumnStyle","builtinPlacements","loadData","func","changeOnSelect","expandTrigger","fieldNames","label","children","expandIcon","any","loadingIcon","getPopupContainer","data","initialValue","undefined","defaultFieldNames","sPopupVisible","sActiveValue","sValue","watch","val","oldValue","newValues","setState","methods","getPopupDOMNode","trigger","getPopupDomNode","getFieldName","getFieldNames","getCurrentLevelOptions","_this","_this$options","_this$sActiveValue","result","o","level","childrenKeyName","filter","getActiveOptions","activeValue","_this2","setPopupVisible","__emit","handleChange","setProps","_this3","type","keyCode","ENTER","map","visible","handlePopupVisibleChange","handleMenuSelect","targetOption","menuIndex","triggerNode","getRootDomNode","focus","slice","activeOptions","isLeaf","newState","handleItemDoubleClick","$props","handleKeyDown","_this4","keydown","onKeydown","currentLevel","currentOptions","currentIndex","findIndex","DOWN","UP","LEFT","RIGHT","SPACE","BACKSPACE","ESC","TAB","preventDefault","nextIndex","splice","push","saveTrigger","node","render","_$props$options","restProps","menus","emptyMenuClassName","menusProps","$attrs","onSelect","onItemDoubleClick","concat","triggerProps","popupTransitionName","action","popup","onPopupVisibleChange","ref","default","_default","tabindex"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { getComponent, getSlot } from '../_util/props-util';\nimport PropTypes from '../_util/vue-types';\nimport Trigger from '../vc-trigger';\nimport Menus from './Menus';\nimport KeyCode from '../_util/KeyCode';\nimport arrayTreeFilter from 'array-tree-filter';\nimport shallowEqualArrays from 'shallow-equal/arrays';\nimport { hasProp, getEvents } from '../_util/props-util';\nimport BaseMixin from '../_util/BaseMixin';\nimport { cloneElement } from '../_util/vnode';\nimport { defineComponent } from 'vue';\nimport isEqual from 'lodash-es/isEqual';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  }\n};\nexport default defineComponent({\n  name: 'Cascader',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  // model: {\n  //   prop: 'value',\n  //   event: 'change',\n  // },\n  props: {\n    value: PropTypes.array,\n    defaultValue: PropTypes.array,\n    options: PropTypes.array,\n    // onChange: PropTypes.func,\n    // onPopupVisibleChange: PropTypes.func,\n    popupVisible: PropTypes.looseBool,\n    disabled: PropTypes.looseBool.def(false),\n    transitionName: PropTypes.string.def(''),\n    popupClassName: PropTypes.string.def(''),\n    popupStyle: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupPlacement: PropTypes.string.def('bottomLeft'),\n    prefixCls: PropTypes.string.def('rc-cascader'),\n    dropdownMenuColumnStyle: PropTypes.object,\n    builtinPlacements: PropTypes.object.def(BUILT_IN_PLACEMENTS),\n    loadData: PropTypes.func,\n    changeOnSelect: PropTypes.looseBool,\n    // onKeyDown: PropTypes.func,\n    expandTrigger: PropTypes.string.def('click'),\n    fieldNames: PropTypes.object.def(function () {\n      return {\n        label: 'label',\n        value: 'value',\n        children: 'children'\n      };\n    }),\n    expandIcon: PropTypes.any,\n    loadingIcon: PropTypes.any,\n    getPopupContainer: PropTypes.func\n  },\n  data: function data() {\n    var initialValue = [];\n    var value = this.value,\n        defaultValue = this.defaultValue,\n        popupVisible = this.popupVisible;\n\n    if (hasProp(this, 'value')) {\n      initialValue = value || [];\n    } else if (hasProp(this, 'defaultValue')) {\n      initialValue = defaultValue || [];\n    }\n\n    this.children = undefined; // warning(!('filedNames' in props),\n    //   '`filedNames` of Cascader is a typo usage and deprecated, please use `fieldNames` instead.');\n\n    this.defaultFieldNames = {\n      label: 'label',\n      value: 'value',\n      children: 'children'\n    };\n    return {\n      sPopupVisible: popupVisible,\n      sActiveValue: initialValue,\n      sValue: initialValue\n    };\n  },\n  watch: {\n    value: function value(val, oldValue) {\n      if (!shallowEqualArrays(val, oldValue)) {\n        var newValues = {\n          sValue: val || []\n        }; // allow activeValue diff from value\n        // https://github.com/ant-design/ant-design/issues/2767\n\n        if (!hasProp(this, 'loadData')) {\n          newValues.sActiveValue = val || [];\n        }\n\n        this.setState(newValues);\n      }\n    },\n    popupVisible: function popupVisible(val) {\n      this.setState({\n        sPopupVisible: val\n      });\n    }\n  },\n  methods: {\n    getPopupDOMNode: function getPopupDOMNode() {\n      return this.trigger.getPopupDomNode();\n    },\n    getFieldName: function getFieldName(name) {\n      var defaultFieldNames = this.defaultFieldNames,\n          fieldNames = this.fieldNames;\n      return fieldNames[name] || defaultFieldNames[name];\n    },\n    getFieldNames: function getFieldNames() {\n      return this.fieldNames;\n    },\n    getCurrentLevelOptions: function getCurrentLevelOptions() {\n      var _this = this;\n\n      var _this$options = this.options,\n          options = _this$options === void 0 ? [] : _this$options,\n          _this$sActiveValue = this.sActiveValue,\n          sActiveValue = _this$sActiveValue === void 0 ? [] : _this$sActiveValue;\n      var result = arrayTreeFilter(options, function (o, level) {\n        return isEqual(o[_this.getFieldName('value')], sActiveValue[level]);\n      }, {\n        childrenKeyName: this.getFieldName('children')\n      });\n\n      if (result[result.length - 2]) {\n        return result[result.length - 2][this.getFieldName('children')];\n      }\n\n      return _toConsumableArray(options).filter(function (o) {\n        return !o.disabled;\n      });\n    },\n    getActiveOptions: function getActiveOptions(activeValue) {\n      var _this2 = this;\n\n      return arrayTreeFilter(this.options || [], function (o, level) {\n        return isEqual(o[_this2.getFieldName('value')], activeValue[level]);\n      }, {\n        childrenKeyName: this.getFieldName('children')\n      });\n    },\n    setPopupVisible: function setPopupVisible(popupVisible) {\n      if (!hasProp(this, 'popupVisible')) {\n        this.setState({\n          sPopupVisible: popupVisible\n        });\n      } // sync activeValue with value when panel open\n\n\n      if (popupVisible && !this.sPopupVisible) {\n        this.setState({\n          sActiveValue: this.sValue\n        });\n      }\n\n      this.__emit('popupVisibleChange', popupVisible);\n    },\n    handleChange: function handleChange(options, setProps, e) {\n      var _this3 = this;\n\n      if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n        var value = options.map(function (o) {\n          return o[_this3.getFieldName('value')];\n        });\n\n        this.__emit('change', value, options);\n\n        this.setPopupVisible(setProps.visible);\n      }\n    },\n    handlePopupVisibleChange: function handlePopupVisibleChange(popupVisible) {\n      this.setPopupVisible(popupVisible);\n    },\n    handleMenuSelect: function handleMenuSelect(targetOption, menuIndex, e) {\n      // Keep focused state for keyboard support\n      var triggerNode = this.trigger.getRootDomNode();\n\n      if (triggerNode && triggerNode.focus) {\n        triggerNode.focus();\n      }\n\n      var changeOnSelect = this.changeOnSelect,\n          loadData = this.loadData,\n          expandTrigger = this.expandTrigger;\n\n      if (!targetOption || targetOption.disabled) {\n        return;\n      }\n\n      var sActiveValue = this.sActiveValue;\n      sActiveValue = sActiveValue.slice(0, menuIndex + 1);\n      sActiveValue[menuIndex] = targetOption[this.getFieldName('value')];\n      var activeOptions = this.getActiveOptions(sActiveValue);\n\n      if (targetOption.isLeaf === false && !targetOption[this.getFieldName('children')] && loadData) {\n        if (changeOnSelect) {\n          this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        }\n\n        this.setState({\n          sActiveValue: sActiveValue\n        });\n        loadData(activeOptions);\n        return;\n      }\n\n      var newState = {};\n\n      if (!targetOption[this.getFieldName('children')] || !targetOption[this.getFieldName('children')].length) {\n        this.handleChange(activeOptions, {\n          visible: false\n        }, e); // set value to activeValue when select leaf option\n\n        newState.sValue = sActiveValue; // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n      } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n        if (expandTrigger === 'hover') {\n          this.handleChange(activeOptions, {\n            visible: false\n          }, e);\n        } else {\n          this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        } // set value to activeValue on every select\n\n\n        newState.sValue = sActiveValue;\n      }\n\n      newState.sActiveValue = sActiveValue; //  not change the value by keyboard\n\n      if (hasProp(this, 'value') || e.type === 'keydown' && e.keyCode !== KeyCode.ENTER) {\n        delete newState.sValue;\n      }\n\n      this.setState(newState);\n    },\n    handleItemDoubleClick: function handleItemDoubleClick() {\n      var changeOnSelect = this.$props.changeOnSelect;\n\n      if (changeOnSelect) {\n        this.setPopupVisible(false);\n      }\n    },\n    handleKeyDown: function handleKeyDown(e) {\n      var _this4 = this;\n\n      var children = this.children; // https://github.com/ant-design/ant-design/issues/6717\n      // Don't bind keyboard support when children specify the onKeyDown\n\n      if (children) {\n        var keydown = getEvents(children).onKeydown;\n\n        if (keydown) {\n          keydown(e);\n          return;\n        }\n      }\n\n      var activeValue = _toConsumableArray(this.sActiveValue);\n\n      var currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n      var currentOptions = this.getCurrentLevelOptions();\n      var currentIndex = currentOptions.map(function (o) {\n        return o[_this4.getFieldName('value')];\n      }).findIndex(function (val) {\n        return isEqual(activeValue[currentLevel], val);\n      });\n\n      if (e.keyCode !== KeyCode.DOWN && e.keyCode !== KeyCode.UP && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ENTER && e.keyCode !== KeyCode.SPACE && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.ESC && e.keyCode !== KeyCode.TAB) {\n        return;\n      } // Press any keys above to reopen menu\n\n\n      if (!this.sPopupVisible && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ESC && e.keyCode !== KeyCode.TAB) {\n        this.setPopupVisible(true);\n        return;\n      }\n\n      if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n        e.preventDefault();\n        var nextIndex = currentIndex;\n\n        if (nextIndex !== -1) {\n          if (e.keyCode === KeyCode.DOWN) {\n            nextIndex += 1;\n            nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n          } else {\n            nextIndex -= 1;\n            nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n          }\n        } else {\n          nextIndex = 0;\n        }\n\n        activeValue[currentLevel] = currentOptions[nextIndex][this.getFieldName('value')];\n      } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n        e.preventDefault();\n        activeValue.splice(activeValue.length - 1, 1);\n      } else if (e.keyCode === KeyCode.RIGHT) {\n        e.preventDefault();\n\n        if (currentOptions[currentIndex] && currentOptions[currentIndex][this.getFieldName('children')]) {\n          activeValue.push(currentOptions[currentIndex][this.getFieldName('children')][0][this.getFieldName('value')]);\n        }\n      } else if (e.keyCode === KeyCode.ESC || e.keyCode === KeyCode.TAB) {\n        this.setPopupVisible(false);\n        return;\n      }\n\n      if (!activeValue || activeValue.length === 0) {\n        this.setPopupVisible(false);\n      }\n\n      var activeOptions = this.getActiveOptions(activeValue);\n      var targetOption = activeOptions[activeOptions.length - 1];\n      this.handleMenuSelect(targetOption, activeOptions.length - 1, e);\n\n      this.__emit('keydown', e);\n    },\n    saveTrigger: function saveTrigger(node) {\n      this.trigger = node;\n    }\n  },\n  render: function render() {\n    var $props = this.$props,\n        sActiveValue = this.sActiveValue,\n        handleMenuSelect = this.handleMenuSelect,\n        sPopupVisible = this.sPopupVisible,\n        handlePopupVisibleChange = this.handlePopupVisibleChange,\n        handleKeyDown = this.handleKeyDown;\n\n    var prefixCls = $props.prefixCls,\n        transitionName = $props.transitionName,\n        popupClassName = $props.popupClassName,\n        _$props$options = $props.options,\n        options = _$props$options === void 0 ? [] : _$props$options,\n        disabled = $props.disabled,\n        builtinPlacements = $props.builtinPlacements,\n        popupPlacement = $props.popupPlacement,\n        restProps = __rest($props, [\"prefixCls\", \"transitionName\", \"popupClassName\", \"options\", \"disabled\", \"builtinPlacements\", \"popupPlacement\"]); // Did not show popup when there is no options\n\n\n    var menus = _createVNode(\"div\", null, null);\n\n    var emptyMenuClassName = '';\n\n    if (options && options.length > 0) {\n      var loadingIcon = getComponent(this, 'loadingIcon');\n      var expandIcon = getComponent(this, 'expandIcon') || '>';\n\n      var menusProps = _extends(_extends(_extends({}, $props), this.$attrs), {\n        fieldNames: this.getFieldNames(),\n        defaultFieldNames: this.defaultFieldNames,\n        activeValue: sActiveValue,\n        visible: sPopupVisible,\n        loadingIcon: loadingIcon,\n        expandIcon: expandIcon,\n        onSelect: handleMenuSelect,\n        onItemDoubleClick: this.handleItemDoubleClick\n      });\n\n      menus = _createVNode(Menus, menusProps, null);\n    } else {\n      emptyMenuClassName = \" \".concat(prefixCls, \"-menus-empty\");\n    }\n\n    var triggerProps = _extends(_extends(_extends({}, restProps), this.$attrs), {\n      disabled: disabled,\n      popupPlacement: popupPlacement,\n      builtinPlacements: builtinPlacements,\n      popupTransitionName: transitionName,\n      action: disabled ? [] : ['click'],\n      popupVisible: disabled ? false : sPopupVisible,\n      prefixCls: \"\".concat(prefixCls, \"-menus\"),\n      popupClassName: popupClassName + emptyMenuClassName,\n      popup: menus,\n      onPopupVisibleChange: handlePopupVisibleChange,\n      ref: this.saveTrigger\n    });\n\n    var children = getSlot(this);\n    this.children = children;\n    return _createVNode(Trigger, triggerProps, {\n      default: function _default() {\n        return [children && cloneElement(children[0], {\n          onKeydown: handleKeyDown,\n          tabindex: disabled ? undefined : 0\n        })];\n      }\n    });\n  }\n});"]},"metadata":{},"sourceType":"module"}