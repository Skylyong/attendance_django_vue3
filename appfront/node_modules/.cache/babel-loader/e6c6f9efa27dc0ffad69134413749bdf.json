{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport Select from './Select';\nimport BaseMixin from '../_util/BaseMixin';\n\nvar formatOption = function formatOption(option, disabledOptions) {\n  var value = \"\".concat(option);\n\n  if (option < 10) {\n    value = \"0\".concat(option);\n  }\n\n  var disabled = false;\n\n  if (disabledOptions && disabledOptions.indexOf(option) >= 0) {\n    disabled = true;\n  }\n\n  return {\n    value: value,\n    disabled: disabled\n  };\n};\n\nvar Combobox = {\n  inheritAttrs: false,\n  mixins: [BaseMixin],\n  name: 'Combobox',\n  props: {\n    format: PropTypes.string,\n    defaultOpenValue: PropTypes.object,\n    prefixCls: PropTypes.string,\n    value: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onAmPmChange: PropTypes.func,\n    showHour: PropTypes.looseBool,\n    showMinute: PropTypes.looseBool,\n    showSecond: PropTypes.looseBool,\n    hourOptions: PropTypes.array,\n    minuteOptions: PropTypes.array,\n    secondOptions: PropTypes.array,\n    disabledHours: PropTypes.func,\n    disabledMinutes: PropTypes.func,\n    disabledSeconds: PropTypes.func,\n    // onCurrentSelectPanelChange: PropTypes.func,\n    use12Hours: PropTypes.looseBool,\n    isAM: PropTypes.looseBool\n  },\n  methods: {\n    onItemChange: function onItemChange(type, itemValue) {\n      var defaultOpenValue = this.defaultOpenValue,\n          use12Hours = this.use12Hours,\n          propValue = this.value,\n          isAM = this.isAM;\n      var value = (propValue || defaultOpenValue).clone();\n\n      if (type === 'hour') {\n        if (use12Hours) {\n          if (isAM) {\n            value.hour(+itemValue % 12);\n          } else {\n            value.hour(+itemValue % 12 + 12);\n          }\n        } else {\n          value.hour(+itemValue);\n        }\n      } else if (type === 'minute') {\n        value.minute(+itemValue);\n      } else if (type === 'ampm') {\n        var ampm = itemValue.toUpperCase();\n\n        if (use12Hours) {\n          if (ampm === 'PM' && value.hour() < 12) {\n            value.hour(value.hour() % 12 + 12);\n          }\n\n          if (ampm === 'AM') {\n            if (value.hour() >= 12) {\n              value.hour(value.hour() - 12);\n            }\n          }\n        }\n\n        this.__emit('amPmChange', ampm);\n      } else {\n        value.second(+itemValue);\n      }\n\n      this.__emit('change', value);\n    },\n    onEnterSelectPanel: function onEnterSelectPanel(range) {\n      this.__emit('currentSelectPanelChange', range);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getHourSelect: function getHourSelect(hour) {\n      var _this = this;\n\n      var prefixCls = this.prefixCls,\n          hourOptions = this.hourOptions,\n          disabledHours = this.disabledHours,\n          showHour = this.showHour,\n          use12Hours = this.use12Hours;\n\n      if (!showHour) {\n        return null;\n      }\n\n      var disabledOptions = disabledHours();\n      var hourOptionsAdj;\n      var hourAdj;\n\n      if (use12Hours) {\n        hourOptionsAdj = [12].concat(hourOptions.filter(function (h) {\n          return h < 12 && h > 0;\n        }));\n        hourAdj = hour % 12 || 12;\n      } else {\n        hourOptionsAdj = hourOptions;\n        hourAdj = hour;\n      }\n\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": hourOptionsAdj.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": hourOptionsAdj.indexOf(hourAdj),\n        \"type\": \"hour\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this.onEnterSelectPanel('hour');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getMinuteSelect: function getMinuteSelect(minute) {\n      var _this2 = this;\n\n      var prefixCls = this.prefixCls,\n          minuteOptions = this.minuteOptions,\n          disabledMinutes = this.disabledMinutes,\n          defaultOpenValue = this.defaultOpenValue,\n          showMinute = this.showMinute,\n          propValue = this.value;\n\n      if (!showMinute) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledMinutes(value.hour());\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": minuteOptions.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": minuteOptions.indexOf(minute),\n        \"type\": \"minute\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this2.onEnterSelectPanel('minute');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getSecondSelect: function getSecondSelect(second) {\n      var _this3 = this;\n\n      var prefixCls = this.prefixCls,\n          secondOptions = this.secondOptions,\n          disabledSeconds = this.disabledSeconds,\n          showSecond = this.showSecond,\n          defaultOpenValue = this.defaultOpenValue,\n          propValue = this.value;\n\n      if (!showSecond) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledSeconds(value.hour(), value.minute());\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": secondOptions.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": secondOptions.indexOf(second),\n        \"type\": \"second\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this3.onEnterSelectPanel('second');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getAMPMSelect: function getAMPMSelect() {\n      var _this4 = this;\n\n      var prefixCls = this.prefixCls,\n          use12Hours = this.use12Hours,\n          format = this.format,\n          isAM = this.isAM;\n\n      if (!use12Hours) {\n        return null;\n      }\n\n      var AMPMOptions = ['am', 'pm'] // If format has A char, then we should uppercase AM/PM\n      .map(function (c) {\n        return format.match(/\\sA/) ? c.toUpperCase() : c;\n      }).map(function (c) {\n        return {\n          value: c\n        };\n      });\n      var selected = isAM ? 0 : 1;\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": AMPMOptions,\n        \"selectedIndex\": selected,\n        \"type\": \"ampm\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this4.onEnterSelectPanel('ampm');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    }\n  },\n  render: function render() {\n    var prefixCls = this.prefixCls,\n        defaultOpenValue = this.defaultOpenValue,\n        propValue = this.value;\n    var value = propValue || defaultOpenValue;\n    return _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-combobox\")\n    }, [this.getHourSelect(value.hour()), this.getMinuteSelect(value.minute()), this.getSecondSelect(value.second()), this.getAMPMSelect(value.hour())]);\n  }\n};\nexport default Combobox;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-time-picker/Combobox.js"],"names":["createVNode","_createVNode","PropTypes","Select","BaseMixin","formatOption","option","disabledOptions","value","concat","disabled","indexOf","Combobox","inheritAttrs","mixins","name","props","format","string","defaultOpenValue","object","prefixCls","showHour","looseBool","showMinute","showSecond","hourOptions","array","minuteOptions","secondOptions","disabledHours","func","disabledMinutes","disabledSeconds","use12Hours","isAM","methods","onItemChange","type","itemValue","propValue","clone","hour","minute","ampm","toUpperCase","__emit","second","onEnterSelectPanel","range","onEsc","e","getHourSelect","_this","hourOptionsAdj","hourAdj","filter","h","map","onMouseenter","getMinuteSelect","_this2","getSecondSelect","_this3","getAMPMSelect","_this4","AMPMOptions","c","match","selected","render"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../_util/vue-types';\nimport Select from './Select';\nimport BaseMixin from '../_util/BaseMixin';\n\nvar formatOption = function formatOption(option, disabledOptions) {\n  var value = \"\".concat(option);\n\n  if (option < 10) {\n    value = \"0\".concat(option);\n  }\n\n  var disabled = false;\n\n  if (disabledOptions && disabledOptions.indexOf(option) >= 0) {\n    disabled = true;\n  }\n\n  return {\n    value: value,\n    disabled: disabled\n  };\n};\n\nvar Combobox = {\n  inheritAttrs: false,\n  mixins: [BaseMixin],\n  name: 'Combobox',\n  props: {\n    format: PropTypes.string,\n    defaultOpenValue: PropTypes.object,\n    prefixCls: PropTypes.string,\n    value: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onAmPmChange: PropTypes.func,\n    showHour: PropTypes.looseBool,\n    showMinute: PropTypes.looseBool,\n    showSecond: PropTypes.looseBool,\n    hourOptions: PropTypes.array,\n    minuteOptions: PropTypes.array,\n    secondOptions: PropTypes.array,\n    disabledHours: PropTypes.func,\n    disabledMinutes: PropTypes.func,\n    disabledSeconds: PropTypes.func,\n    // onCurrentSelectPanelChange: PropTypes.func,\n    use12Hours: PropTypes.looseBool,\n    isAM: PropTypes.looseBool\n  },\n  methods: {\n    onItemChange: function onItemChange(type, itemValue) {\n      var defaultOpenValue = this.defaultOpenValue,\n          use12Hours = this.use12Hours,\n          propValue = this.value,\n          isAM = this.isAM;\n      var value = (propValue || defaultOpenValue).clone();\n\n      if (type === 'hour') {\n        if (use12Hours) {\n          if (isAM) {\n            value.hour(+itemValue % 12);\n          } else {\n            value.hour(+itemValue % 12 + 12);\n          }\n        } else {\n          value.hour(+itemValue);\n        }\n      } else if (type === 'minute') {\n        value.minute(+itemValue);\n      } else if (type === 'ampm') {\n        var ampm = itemValue.toUpperCase();\n\n        if (use12Hours) {\n          if (ampm === 'PM' && value.hour() < 12) {\n            value.hour(value.hour() % 12 + 12);\n          }\n\n          if (ampm === 'AM') {\n            if (value.hour() >= 12) {\n              value.hour(value.hour() - 12);\n            }\n          }\n        }\n\n        this.__emit('amPmChange', ampm);\n      } else {\n        value.second(+itemValue);\n      }\n\n      this.__emit('change', value);\n    },\n    onEnterSelectPanel: function onEnterSelectPanel(range) {\n      this.__emit('currentSelectPanelChange', range);\n    },\n    onEsc: function onEsc(e) {\n      this.__emit('esc', e);\n    },\n    getHourSelect: function getHourSelect(hour) {\n      var _this = this;\n\n      var prefixCls = this.prefixCls,\n          hourOptions = this.hourOptions,\n          disabledHours = this.disabledHours,\n          showHour = this.showHour,\n          use12Hours = this.use12Hours;\n\n      if (!showHour) {\n        return null;\n      }\n\n      var disabledOptions = disabledHours();\n      var hourOptionsAdj;\n      var hourAdj;\n\n      if (use12Hours) {\n        hourOptionsAdj = [12].concat(hourOptions.filter(function (h) {\n          return h < 12 && h > 0;\n        }));\n        hourAdj = hour % 12 || 12;\n      } else {\n        hourOptionsAdj = hourOptions;\n        hourAdj = hour;\n      }\n\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": hourOptionsAdj.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": hourOptionsAdj.indexOf(hourAdj),\n        \"type\": \"hour\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this.onEnterSelectPanel('hour');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getMinuteSelect: function getMinuteSelect(minute) {\n      var _this2 = this;\n\n      var prefixCls = this.prefixCls,\n          minuteOptions = this.minuteOptions,\n          disabledMinutes = this.disabledMinutes,\n          defaultOpenValue = this.defaultOpenValue,\n          showMinute = this.showMinute,\n          propValue = this.value;\n\n      if (!showMinute) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledMinutes(value.hour());\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": minuteOptions.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": minuteOptions.indexOf(minute),\n        \"type\": \"minute\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this2.onEnterSelectPanel('minute');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getSecondSelect: function getSecondSelect(second) {\n      var _this3 = this;\n\n      var prefixCls = this.prefixCls,\n          secondOptions = this.secondOptions,\n          disabledSeconds = this.disabledSeconds,\n          showSecond = this.showSecond,\n          defaultOpenValue = this.defaultOpenValue,\n          propValue = this.value;\n\n      if (!showSecond) {\n        return null;\n      }\n\n      var value = propValue || defaultOpenValue;\n      var disabledOptions = disabledSeconds(value.hour(), value.minute());\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": secondOptions.map(function (option) {\n          return formatOption(option, disabledOptions);\n        }),\n        \"selectedIndex\": secondOptions.indexOf(second),\n        \"type\": \"second\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this3.onEnterSelectPanel('second');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    },\n    getAMPMSelect: function getAMPMSelect() {\n      var _this4 = this;\n\n      var prefixCls = this.prefixCls,\n          use12Hours = this.use12Hours,\n          format = this.format,\n          isAM = this.isAM;\n\n      if (!use12Hours) {\n        return null;\n      }\n\n      var AMPMOptions = ['am', 'pm'] // If format has A char, then we should uppercase AM/PM\n      .map(function (c) {\n        return format.match(/\\sA/) ? c.toUpperCase() : c;\n      }).map(function (c) {\n        return {\n          value: c\n        };\n      });\n      var selected = isAM ? 0 : 1;\n      return _createVNode(Select, {\n        \"prefixCls\": prefixCls,\n        \"options\": AMPMOptions,\n        \"selectedIndex\": selected,\n        \"type\": \"ampm\",\n        \"onSelect\": this.onItemChange,\n        \"onMouseenter\": function onMouseenter() {\n          return _this4.onEnterSelectPanel('ampm');\n        },\n        \"onEsc\": this.onEsc\n      }, null);\n    }\n  },\n  render: function render() {\n    var prefixCls = this.prefixCls,\n        defaultOpenValue = this.defaultOpenValue,\n        propValue = this.value;\n    var value = propValue || defaultOpenValue;\n    return _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-combobox\")\n    }, [this.getHourSelect(value.hour()), this.getMinuteSelect(value.minute()), this.getSecondSelect(value.second()), this.getAMPMSelect(value.hour())]);\n  }\n};\nexport default Combobox;"]},"metadata":{},"sourceType":"module"}