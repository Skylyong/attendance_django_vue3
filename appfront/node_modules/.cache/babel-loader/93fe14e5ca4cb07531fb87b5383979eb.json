{"ast":null,"code":"import { ref } from \"vue\";\n\nfunction getDirection(x, y) {\n  if (x > y) {\n    return \"horizontal\";\n  }\n\n  if (y > x) {\n    return \"vertical\";\n  }\n\n  return \"\";\n}\n\nfunction useTouch() {\n  const startX = ref(0);\n  const startY = ref(0);\n  const deltaX = ref(0);\n  const deltaY = ref(0);\n  const offsetX = ref(0);\n  const offsetY = ref(0);\n  const direction = ref(\"\");\n\n  const isVertical = () => direction.value === \"vertical\";\n\n  const isHorizontal = () => direction.value === \"horizontal\";\n\n  const reset = () => {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = \"\";\n  };\n\n  const start = event => {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n\n  const move = event => {\n    const touch = event.touches[0];\n    deltaX.value = touch.clientX < 0 ? 0 : touch.clientX - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n    const LOCK_DIRECTION_DISTANCE = 10;\n\n    if (!direction.value || offsetX.value < LOCK_DIRECTION_DISTANCE && offsetY.value < LOCK_DIRECTION_DISTANCE) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n  };\n\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}\n\nexport { useTouch };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/composables/use-touch.js"],"names":["ref","getDirection","x","y","useTouch","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","isVertical","value","isHorizontal","reset","start","event","touches","clientX","clientY","move","touch","Math","abs","LOCK_DIRECTION_DISTANCE"],"mappings":"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","sourcesContent":["import { ref } from \"vue\";\nfunction getDirection(x, y) {\n  if (x > y) {\n    return \"horizontal\";\n  }\n  if (y > x) {\n    return \"vertical\";\n  }\n  return \"\";\n}\nfunction useTouch() {\n  const startX = ref(0);\n  const startY = ref(0);\n  const deltaX = ref(0);\n  const deltaY = ref(0);\n  const offsetX = ref(0);\n  const offsetY = ref(0);\n  const direction = ref(\"\");\n  const isVertical = () => direction.value === \"vertical\";\n  const isHorizontal = () => direction.value === \"horizontal\";\n  const reset = () => {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = \"\";\n  };\n  const start = (event) => {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n  const move = (event) => {\n    const touch = event.touches[0];\n    deltaX.value = touch.clientX < 0 ? 0 : touch.clientX - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n    const LOCK_DIRECTION_DISTANCE = 10;\n    if (!direction.value || offsetX.value < LOCK_DIRECTION_DISTANCE && offsetY.value < LOCK_DIRECTION_DISTANCE) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n  };\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}\nexport {\n  useTouch\n};\n"]},"metadata":{},"sourceType":"module"}