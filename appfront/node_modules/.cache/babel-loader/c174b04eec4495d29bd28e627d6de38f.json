{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from '../../_util/classNames';\nimport { initDefaultProps, getSlot } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\nexport default defineComponent({\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    this.child = null;\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      var eventType = \"on\".concat(type);\n      var child = this.child;\n\n      if (child.props[eventType]) {\n        child.props[eventType](ev);\n      }\n\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('Touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('Touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('Touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('Touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('Mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('Mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('Mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var _this$$props = this.$props,\n        disabled = _this$$props.disabled,\n        _this$$props$activeCl = _this$$props.activeClassName,\n        activeClassName = _this$$props$activeCl === void 0 ? '' : _this$$props$activeCl,\n        _this$$props$activeSt = _this$$props.activeStyle,\n        activeStyle = _this$$props$activeSt === void 0 ? {} : _this$$props$activeSt;\n    var child = getSlot(this);\n\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n\n    var events = disabled ? undefined : (_ref = {}, _defineProperty(_ref, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', this.onTouchStart), _defineProperty(_ref, supportsPassive ? 'onTouchmovePassive' : 'onTouchmove', this.onTouchMove), _defineProperty(_ref, \"onTouchend\", this.onTouchEnd), _defineProperty(_ref, \"onTouchcancel\", this.onTouchCancel), _defineProperty(_ref, \"onMousedown\", this.onMouseDown), _defineProperty(_ref, \"onMouseup\", this.onMouseUp), _defineProperty(_ref, \"onMouseleave\", this.onMouseLeave), _ref);\n    child = child[0];\n    this.child = child;\n\n    if (!disabled && this.active) {\n      var _child$props = child.props,\n          style = _child$props.style,\n          className = _child$props.class;\n\n      if (activeStyle !== false) {\n        if (activeStyle) {\n          style = _extends(_extends({}, style), activeStyle);\n        }\n\n        className = classNames(className, activeClassName);\n      }\n\n      return cloneElement(child, _extends({\n        class: className,\n        style: style\n      }, events));\n    }\n\n    return cloneElement(child, events);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-m-feedback/src/TouchFeedback.js"],"names":["_extends","_defineProperty","classNames","initDefaultProps","getSlot","cloneElement","warning","BaseMixin","ITouchProps","defineComponent","supportsPassive","name","mixins","inheritAttrs","props","disabled","data","child","active","mounted","_this","$nextTick","setState","methods","triggerEvent","type","isActive","ev","eventType","concat","onTouchStart","e","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","render","_ref","_this$$props","$props","_this$$props$activeCl","activeClassName","_this$$props$activeSt","activeStyle","length","events","undefined","_child$props","style","className","class"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,gBAAT,EAA2BC,OAA3B,QAA0C,wBAA1C;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,eAAT,QAAgC,KAAhC;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,eAAeD,eAAe,CAAC;AAC7BE,EAAAA,IAAI,EAAE,eADuB;AAE7BC,EAAAA,MAAM,EAAE,CAACL,SAAD,CAFqB;AAG7BM,EAAAA,YAAY,EAAE,KAHe;AAI7BC,EAAAA,KAAK,EAAEX,gBAAgB,CAACK,WAAD,EAAc;AACnCO,IAAAA,QAAQ,EAAE;AADyB,GAAd,CAJM;AAO7BC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,SAAKC,KAAL,GAAa,IAAb;AACA,WAAO;AACLC,MAAAA,MAAM,EAAE;AADH,KAAP;AAGD,GAZ4B;AAa7BC,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,QAAIC,KAAK,GAAG,IAAZ;;AAEA,SAAKC,SAAL,CAAe,YAAY;AACzB,UAAID,KAAK,CAACL,QAAN,IAAkBK,KAAK,CAACF,MAA5B,EAAoC;AAClCE,QAAAA,KAAK,CAACE,QAAN,CAAe;AACbJ,UAAAA,MAAM,EAAE;AADK,SAAf;AAGD;AACF,KAND;AAOD,GAvB4B;AAwB7BK,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,QAA5B,EAAsCC,EAAtC,EAA0C;AACtD,UAAIC,SAAS,GAAG,KAAKC,MAAL,CAAYJ,IAAZ,CAAhB;AACA,UAAIR,KAAK,GAAG,KAAKA,KAAjB;;AAEA,UAAIA,KAAK,CAACH,KAAN,CAAYc,SAAZ,CAAJ,EAA4B;AAC1BX,QAAAA,KAAK,CAACH,KAAN,CAAYc,SAAZ,EAAuBD,EAAvB;AACD;;AAED,UAAID,QAAQ,KAAK,KAAKR,MAAtB,EAA8B;AAC5B,aAAKI,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAEQ;AADI,SAAd;AAGD;AACF,KAdM;AAePI,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,CAAtB,EAAyB;AACrC,WAAKP,YAAL,CAAkB,YAAlB,EAAgC,IAAhC,EAAsCO,CAAtC;AACD,KAjBM;AAkBPC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBD,CAArB,EAAwB;AACnC,WAAKP,YAAL,CAAkB,WAAlB,EAA+B,KAA/B,EAAsCO,CAAtC;AACD,KApBM;AAqBPE,IAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBF,CAApB,EAAuB;AACjC,WAAKP,YAAL,CAAkB,UAAlB,EAA8B,KAA9B,EAAqCO,CAArC;AACD,KAvBM;AAwBPG,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBH,CAAvB,EAA0B;AACvC,WAAKP,YAAL,CAAkB,aAAlB,EAAiC,KAAjC,EAAwCO,CAAxC;AACD,KA1BM;AA2BPI,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBJ,CAArB,EAAwB;AACnC;AACA,WAAKP,YAAL,CAAkB,WAAlB,EAA+B,IAA/B,EAAqCO,CAArC;AACD,KA9BM;AA+BPK,IAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBL,CAAnB,EAAsB;AAC/B,WAAKP,YAAL,CAAkB,SAAlB,EAA6B,KAA7B,EAAoCO,CAApC;AACD,KAjCM;AAkCPM,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBN,CAAtB,EAAyB;AACrC,WAAKP,YAAL,CAAkB,YAAlB,EAAgC,KAAhC,EAAuCO,CAAvC;AACD;AApCM,GAxBoB;AA8D7BO,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,IAAJ;;AAEA,QAAIC,YAAY,GAAG,KAAKC,MAAxB;AAAA,QACI1B,QAAQ,GAAGyB,YAAY,CAACzB,QAD5B;AAAA,QAEI2B,qBAAqB,GAAGF,YAAY,CAACG,eAFzC;AAAA,QAGIA,eAAe,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAH9D;AAAA,QAIIE,qBAAqB,GAAGJ,YAAY,CAACK,WAJzC;AAAA,QAKIA,WAAW,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAL1D;AAMA,QAAI3B,KAAK,GAAGb,OAAO,CAAC,IAAD,CAAnB;;AAEA,QAAIa,KAAK,CAAC6B,MAAN,KAAiB,CAArB,EAAwB;AACtBxC,MAAAA,OAAO,CAAC,KAAD,EAAQ,uBAAR,CAAP;AACA,aAAO,IAAP;AACD;;AAED,QAAIyC,MAAM,GAAGhC,QAAQ,GAAGiC,SAAH,IAAgBT,IAAI,GAAG,EAAP,EAAWtC,eAAe,CAACsC,IAAD,EAAO7B,eAAe,GAAG,qBAAH,GAA2B,cAAjD,EAAiE,KAAKoB,YAAtE,CAA1B,EAA+G7B,eAAe,CAACsC,IAAD,EAAO7B,eAAe,GAAG,oBAAH,GAA0B,aAAhD,EAA+D,KAAKsB,WAApE,CAA9H,EAAgN/B,eAAe,CAACsC,IAAD,EAAO,YAAP,EAAqB,KAAKN,UAA1B,CAA/N,EAAsQhC,eAAe,CAACsC,IAAD,EAAO,eAAP,EAAwB,KAAKL,aAA7B,CAArR,EAAkUjC,eAAe,CAACsC,IAAD,EAAO,aAAP,EAAsB,KAAKJ,WAA3B,CAAjV,EAA0XlC,eAAe,CAACsC,IAAD,EAAO,WAAP,EAAoB,KAAKH,SAAzB,CAAzY,EAA8anC,eAAe,CAACsC,IAAD,EAAO,cAAP,EAAuB,KAAKF,YAA5B,CAA7b,EAAweE,IAAxf,CAArB;AACAtB,IAAAA,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAb;AACA,SAAKA,KAAL,GAAaA,KAAb;;AAEA,QAAI,CAACF,QAAD,IAAa,KAAKG,MAAtB,EAA8B;AAC5B,UAAI+B,YAAY,GAAGhC,KAAK,CAACH,KAAzB;AAAA,UACIoC,KAAK,GAAGD,YAAY,CAACC,KADzB;AAAA,UAEIC,SAAS,GAAGF,YAAY,CAACG,KAF7B;;AAIA,UAAIP,WAAW,KAAK,KAApB,EAA2B;AACzB,YAAIA,WAAJ,EAAiB;AACfK,UAAAA,KAAK,GAAGlD,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKkD,KAAL,CAAT,EAAsBL,WAAtB,CAAhB;AACD;;AAEDM,QAAAA,SAAS,GAAGjD,UAAU,CAACiD,SAAD,EAAYR,eAAZ,CAAtB;AACD;;AAED,aAAOtC,YAAY,CAACY,KAAD,EAAQjB,QAAQ,CAAC;AAClCoD,QAAAA,KAAK,EAAED,SAD2B;AAElCD,QAAAA,KAAK,EAAEA;AAF2B,OAAD,EAGhCH,MAHgC,CAAhB,CAAnB;AAID;;AAED,WAAO1C,YAAY,CAACY,KAAD,EAAQ8B,MAAR,CAAnB;AACD;AAtG4B,CAAD,CAA9B","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from '../../_util/classNames';\nimport { initDefaultProps, getSlot } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\nexport default defineComponent({\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    this.child = null;\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      var eventType = \"on\".concat(type);\n      var child = this.child;\n\n      if (child.props[eventType]) {\n        child.props[eventType](ev);\n      }\n\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('Touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('Touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('Touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('Touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('Mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('Mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('Mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var _this$$props = this.$props,\n        disabled = _this$$props.disabled,\n        _this$$props$activeCl = _this$$props.activeClassName,\n        activeClassName = _this$$props$activeCl === void 0 ? '' : _this$$props$activeCl,\n        _this$$props$activeSt = _this$$props.activeStyle,\n        activeStyle = _this$$props$activeSt === void 0 ? {} : _this$$props$activeSt;\n    var child = getSlot(this);\n\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n\n    var events = disabled ? undefined : (_ref = {}, _defineProperty(_ref, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', this.onTouchStart), _defineProperty(_ref, supportsPassive ? 'onTouchmovePassive' : 'onTouchmove', this.onTouchMove), _defineProperty(_ref, \"onTouchend\", this.onTouchEnd), _defineProperty(_ref, \"onTouchcancel\", this.onTouchCancel), _defineProperty(_ref, \"onMousedown\", this.onMouseDown), _defineProperty(_ref, \"onMouseup\", this.onMouseUp), _defineProperty(_ref, \"onMouseleave\", this.onMouseLeave), _ref);\n    child = child[0];\n    this.child = child;\n\n    if (!disabled && this.active) {\n      var _child$props = child.props,\n          style = _child$props.style,\n          className = _child$props.class;\n\n      if (activeStyle !== false) {\n        if (activeStyle) {\n          style = _extends(_extends({}, style), activeStyle);\n        }\n\n        className = classNames(className, activeClassName);\n      }\n\n      return cloneElement(child, _extends({\n        class: className,\n        style: style\n      }, events));\n    }\n\n    return cloneElement(child, events);\n  }\n});"]},"metadata":{},"sourceType":"module"}