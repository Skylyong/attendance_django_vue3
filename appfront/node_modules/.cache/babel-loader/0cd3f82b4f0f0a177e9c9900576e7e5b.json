{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vue = require(\"vue\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar _buttonTypes = _interopRequireDefault(require(\"./buttonTypes\"));\n\nvar _LoadingOutlined = _interopRequireDefault(require(\"@ant-design/icons-vue/lib/icons/LoadingOutlined\"));\n\nvar _propsUtil = require(\"../_util/props-util\");\n\nvar _useConfigInject2 = _interopRequireDefault(require(\"../_util/hooks/useConfigInject\"));\n\nvar _devWarning = _interopRequireDefault(require(\"../vc-util/devWarning\"));\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nvar props = (0, _buttonTypes.default)();\n\nfunction isUnborderedButtonType(type) {\n  return type === 'text' || type === 'link';\n}\n\nvar _default2 = (0, _vue.defineComponent)({\n  name: 'AButton',\n  inheritAttrs: false,\n  __ANT_BUTTON: true,\n  props: props,\n  slots: ['icon'],\n  emits: ['click'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = (0, _useConfigInject2.default)('btn', props),\n        prefixCls = _useConfigInject.prefixCls,\n        autoInsertSpaceInButton = _useConfigInject.autoInsertSpaceInButton,\n        direction = _useConfigInject.direction;\n\n    var buttonNodeRef = (0, _vue.ref)(null);\n    var delayTimeoutRef = (0, _vue.ref)(undefined);\n    var isNeedInserted = false;\n    var innerLoading = (0, _vue.ref)(false);\n    var hasTwoCNChar = (0, _vue.ref)(false);\n    var autoInsertSpace = (0, _vue.computed)(function () {\n      return autoInsertSpaceInButton.value !== false;\n    }); // =============== Update Loading ===============\n\n    var loadingOrDelay = (0, _vue.computed)(function () {\n      return (0, _typeof2.default)(props.loading) === 'object' && props.loading.delay ? props.loading.delay || true : !!props.loading;\n    });\n    (0, _vue.watch)(loadingOrDelay, function (val) {\n      clearTimeout(delayTimeoutRef.value);\n\n      if (typeof loadingOrDelay.value === 'number') {\n        delayTimeoutRef.value = window.setTimeout(function () {\n          innerLoading.value = val;\n        }, loadingOrDelay.value);\n      } else {\n        innerLoading.value = val;\n      }\n    }, {\n      immediate: true\n    });\n    var classes = (0, _vue.computed)(function () {\n      var _ref2;\n\n      var type = props.type,\n          shape = props.shape,\n          size = props.size,\n          ghost = props.ghost,\n          block = props.block,\n          danger = props.danger;\n      var pre = prefixCls.value; // large => lg\n      // small => sm\n\n      var sizeCls = '';\n\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n\n        case 'small':\n          sizeCls = 'sm';\n          break;\n\n        default:\n          break;\n      }\n\n      return _ref2 = {}, (0, _defineProperty2.default)(_ref2, \"\".concat(pre), true), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(type), type), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(shape), shape), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(sizeCls), sizeCls), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-loading\"), innerLoading.value), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-background-ghost\"), ghost && !isUnborderedButtonType(type)), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-two-chinese-chars\"), hasTwoCNChar.value && autoInsertSpace.value), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-block\"), block), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-dangerous\"), !!danger), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl'), _ref2;\n    });\n\n    var fixTwoCNChar = function fixTwoCNChar() {\n      // Fix for HOC usage like <FormatMessage />\n      var node = buttonNodeRef.value;\n\n      if (!node || autoInsertSpaceInButton.value === false) {\n        return;\n      }\n\n      var buttonText = node.textContent;\n\n      if (isNeedInserted && isTwoCNChar(buttonText)) {\n        if (!hasTwoCNChar.value) {\n          hasTwoCNChar.value = true;\n        }\n      } else if (hasTwoCNChar.value) {\n        hasTwoCNChar.value = false;\n      }\n    };\n\n    var handleClick = function handleClick(event) {\n      // https://github.com/ant-design/ant-design/issues/30207\n      if (innerLoading.value || props.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      emit('click', event);\n    };\n\n    var insertSpace = function insertSpace(child, needInserted) {\n      var SPACE = needInserted ? ' ' : '';\n\n      if (child.type === _vue.Text) {\n        var text = child.children.trim();\n\n        if (isTwoCNChar(text)) {\n          text = text.split('').join(SPACE);\n        }\n\n        return (0, _vue.createVNode)(\"span\", null, [text]);\n      }\n\n      return child;\n    };\n\n    (0, _vue.watchEffect)(function () {\n      (0, _devWarning.default)(!(props.ghost && isUnborderedButtonType(props.type)), 'Button', \"`link` or `text` button can't be a `ghost` button.\");\n    });\n    (0, _vue.onMounted)(fixTwoCNChar);\n    (0, _vue.onUpdated)(fixTwoCNChar);\n    (0, _vue.onBeforeUnmount)(function () {\n      delayTimeoutRef.value && clearTimeout(delayTimeoutRef.value);\n    });\n    return function () {\n      var children = (0, _propsUtil.flattenChildren)((0, _propsUtil.getPropsSlot)(slots, props));\n      var icon = (0, _propsUtil.getPropsSlot)(slots, props, 'icon');\n      isNeedInserted = children.length === 1 && !icon && !isUnborderedButtonType(props.type);\n      var type = props.type,\n          htmlType = props.htmlType,\n          disabled = props.disabled,\n          href = props.href,\n          title = props.title,\n          target = props.target;\n      var iconType = innerLoading.value ? 'loading' : icon;\n      var buttonProps = (0, _extends2.default)((0, _extends2.default)({}, attrs), {\n        title: title,\n        disabled: disabled,\n        class: [classes.value, attrs.class, (0, _defineProperty2.default)({}, \"\".concat(prefixCls.value, \"-icon-only\"), children.length === 0 && !!iconType)],\n        onClick: handleClick\n      });\n      var iconNode = innerLoading.value ? (0, _vue.createVNode)(_LoadingOutlined.default, null, null) : icon;\n      var kids = children.map(function (child) {\n        return insertSpace(child, isNeedInserted && autoInsertSpace.value);\n      });\n\n      if (href !== undefined) {\n        return (0, _vue.createVNode)(\"a\", (0, _objectSpread2.default)((0, _objectSpread2.default)({}, buttonProps), {}, {\n          \"href\": href,\n          \"target\": target,\n          \"ref\": buttonNodeRef\n        }), [iconNode, kids]);\n      }\n\n      var buttonNode = (0, _vue.createVNode)(\"button\", (0, _objectSpread2.default)((0, _objectSpread2.default)({}, buttonProps), {}, {\n        \"ref\": buttonNodeRef,\n        \"type\": htmlType\n      }), [iconNode, kids]);\n\n      if (isUnborderedButtonType(type)) {\n        return buttonNode;\n      }\n\n      return (0, _vue.createVNode)(_wave.default, {\n        \"ref\": \"wave\"\n      }, {\n        default: function _default() {\n          return [buttonNode];\n        }\n      });\n    };\n  }\n});\n\nexports.default = _default2;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/lib/button/button.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_vue","_objectSpread2","_extends2","_defineProperty2","_typeof2","_wave","_buttonTypes","_LoadingOutlined","_propsUtil","_useConfigInject2","_devWarning","rxTwoCNChar","isTwoCNChar","test","bind","props","isUnborderedButtonType","type","_default2","defineComponent","name","inheritAttrs","__ANT_BUTTON","slots","emits","setup","_ref","attrs","emit","_useConfigInject","prefixCls","autoInsertSpaceInButton","direction","buttonNodeRef","ref","delayTimeoutRef","undefined","isNeedInserted","innerLoading","hasTwoCNChar","autoInsertSpace","computed","loadingOrDelay","loading","delay","watch","val","clearTimeout","window","setTimeout","immediate","classes","_ref2","shape","size","ghost","block","danger","pre","sizeCls","concat","fixTwoCNChar","node","buttonText","textContent","handleClick","event","disabled","preventDefault","insertSpace","child","needInserted","SPACE","Text","text","children","trim","split","join","createVNode","watchEffect","onMounted","onUpdated","onBeforeUnmount","flattenChildren","getPropsSlot","icon","length","htmlType","href","title","target","iconType","buttonProps","class","onClick","iconNode","kids","map","buttonNode","_default"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,IAAI,GAAGN,OAAO,CAAC,KAAD,CAAlB;;AAEA,IAAIO,cAAc,GAAGR,sBAAsB,CAACC,OAAO,CAAC,sCAAD,CAAR,CAA3C;;AAEA,IAAIQ,SAAS,GAAGT,sBAAsB,CAACC,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIS,gBAAgB,GAAGV,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIU,QAAQ,GAAGX,sBAAsB,CAACC,OAAO,CAAC,+BAAD,CAAR,CAArC;;AAEA,IAAIW,KAAK,GAAGZ,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAAlC;;AAEA,IAAIY,YAAY,GAAGb,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAAzC;;AAEA,IAAIa,gBAAgB,GAAGd,sBAAsB,CAACC,OAAO,CAAC,iDAAD,CAAR,CAA7C;;AAEA,IAAIc,UAAU,GAAGd,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIe,iBAAiB,GAAGhB,sBAAsB,CAACC,OAAO,CAAC,gCAAD,CAAR,CAA9C;;AAEA,IAAIgB,WAAW,GAAGjB,sBAAsB,CAACC,OAAO,CAAC,uBAAD,CAAR,CAAxC;;AAEA,IAAIiB,WAAW,GAAG,sBAAlB;AACA,IAAIC,WAAW,GAAGD,WAAW,CAACE,IAAZ,CAAiBC,IAAjB,CAAsBH,WAAtB,CAAlB;AACA,IAAII,KAAK,GAAG,CAAC,GAAGT,YAAY,CAACP,OAAjB,GAAZ;;AAEA,SAASiB,sBAAT,CAAgCC,IAAhC,EAAsC;AACpC,SAAOA,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,MAAnC;AACD;;AAED,IAAIC,SAAS,GAAG,CAAC,GAAGlB,IAAI,CAACmB,eAAT,EAA0B;AACxCC,EAAAA,IAAI,EAAE,SADkC;AAExCC,EAAAA,YAAY,EAAE,KAF0B;AAGxCC,EAAAA,YAAY,EAAE,IAH0B;AAIxCP,EAAAA,KAAK,EAAEA,KAJiC;AAKxCQ,EAAAA,KAAK,EAAE,CAAC,MAAD,CALiC;AAMxCC,EAAAA,KAAK,EAAE,CAAC,OAAD,CANiC;AAOxCC,EAAAA,KAAK,EAAE,SAASA,KAAT,CAAeV,KAAf,EAAsBW,IAAtB,EAA4B;AACjC,QAAIH,KAAK,GAAGG,IAAI,CAACH,KAAjB;AAAA,QACII,KAAK,GAAGD,IAAI,CAACC,KADjB;AAAA,QAEIC,IAAI,GAAGF,IAAI,CAACE,IAFhB;;AAIA,QAAIC,gBAAgB,GAAG,CAAC,GAAGpB,iBAAiB,CAACV,OAAtB,EAA+B,KAA/B,EAAsCgB,KAAtC,CAAvB;AAAA,QACIe,SAAS,GAAGD,gBAAgB,CAACC,SADjC;AAAA,QAEIC,uBAAuB,GAAGF,gBAAgB,CAACE,uBAF/C;AAAA,QAGIC,SAAS,GAAGH,gBAAgB,CAACG,SAHjC;;AAKA,QAAIC,aAAa,GAAG,CAAC,GAAGjC,IAAI,CAACkC,GAAT,EAAc,IAAd,CAApB;AACA,QAAIC,eAAe,GAAG,CAAC,GAAGnC,IAAI,CAACkC,GAAT,EAAcE,SAAd,CAAtB;AACA,QAAIC,cAAc,GAAG,KAArB;AACA,QAAIC,YAAY,GAAG,CAAC,GAAGtC,IAAI,CAACkC,GAAT,EAAc,KAAd,CAAnB;AACA,QAAIK,YAAY,GAAG,CAAC,GAAGvC,IAAI,CAACkC,GAAT,EAAc,KAAd,CAAnB;AACA,QAAIM,eAAe,GAAG,CAAC,GAAGxC,IAAI,CAACyC,QAAT,EAAmB,YAAY;AACnD,aAAOV,uBAAuB,CAACjC,KAAxB,KAAkC,KAAzC;AACD,KAFqB,CAAtB,CAfiC,CAiB7B;;AAEJ,QAAI4C,cAAc,GAAG,CAAC,GAAG1C,IAAI,CAACyC,QAAT,EAAmB,YAAY;AAClD,aAAO,CAAC,GAAGrC,QAAQ,CAACL,OAAb,EAAsBgB,KAAK,CAAC4B,OAA5B,MAAyC,QAAzC,IAAqD5B,KAAK,CAAC4B,OAAN,CAAcC,KAAnE,GAA2E7B,KAAK,CAAC4B,OAAN,CAAcC,KAAd,IAAuB,IAAlG,GAAyG,CAAC,CAAC7B,KAAK,CAAC4B,OAAxH;AACD,KAFoB,CAArB;AAGA,KAAC,GAAG3C,IAAI,CAAC6C,KAAT,EAAgBH,cAAhB,EAAgC,UAAUI,GAAV,EAAe;AAC7CC,MAAAA,YAAY,CAACZ,eAAe,CAACrC,KAAjB,CAAZ;;AAEA,UAAI,OAAO4C,cAAc,CAAC5C,KAAtB,KAAgC,QAApC,EAA8C;AAC5CqC,QAAAA,eAAe,CAACrC,KAAhB,GAAwBkD,MAAM,CAACC,UAAP,CAAkB,YAAY;AACpDX,UAAAA,YAAY,CAACxC,KAAb,GAAqBgD,GAArB;AACD,SAFuB,EAErBJ,cAAc,CAAC5C,KAFM,CAAxB;AAGD,OAJD,MAIO;AACLwC,QAAAA,YAAY,CAACxC,KAAb,GAAqBgD,GAArB;AACD;AACF,KAVD,EAUG;AACDI,MAAAA,SAAS,EAAE;AADV,KAVH;AAaA,QAAIC,OAAO,GAAG,CAAC,GAAGnD,IAAI,CAACyC,QAAT,EAAmB,YAAY;AAC3C,UAAIW,KAAJ;;AAEA,UAAInC,IAAI,GAAGF,KAAK,CAACE,IAAjB;AAAA,UACIoC,KAAK,GAAGtC,KAAK,CAACsC,KADlB;AAAA,UAEIC,IAAI,GAAGvC,KAAK,CAACuC,IAFjB;AAAA,UAGIC,KAAK,GAAGxC,KAAK,CAACwC,KAHlB;AAAA,UAIIC,KAAK,GAAGzC,KAAK,CAACyC,KAJlB;AAAA,UAKIC,MAAM,GAAG1C,KAAK,CAAC0C,MALnB;AAMA,UAAIC,GAAG,GAAG5B,SAAS,CAAChC,KAApB,CAT2C,CAShB;AAC3B;;AAEA,UAAI6D,OAAO,GAAG,EAAd;;AAEA,cAAQL,IAAR;AACE,aAAK,OAAL;AACEK,UAAAA,OAAO,GAAG,IAAV;AACA;;AAEF,aAAK,OAAL;AACEA,UAAAA,OAAO,GAAG,IAAV;AACA;;AAEF;AACE;AAVJ;;AAaA,aAAOP,KAAK,GAAG,EAAR,EAAY,CAAC,GAAGjD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,CAArC,EAAqD,IAArD,CAAZ,EAAwE,CAAC,GAAGvD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,GAAf,EAAoBE,MAApB,CAA2B3C,IAA3B,CAArC,EAAuEA,IAAvE,CAAxE,EAAsJ,CAAC,GAAGd,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,GAAf,EAAoBE,MAApB,CAA2BP,KAA3B,CAArC,EAAwEA,KAAxE,CAAtJ,EAAsO,CAAC,GAAGlD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,GAAf,EAAoBE,MAApB,CAA2BD,OAA3B,CAArC,EAA0EA,OAA1E,CAAtO,EAA0T,CAAC,GAAGxD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,UAAf,CAArC,EAAiEpB,YAAY,CAACxC,KAA9E,CAA1T,EAAgZ,CAAC,GAAGK,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,mBAAf,CAArC,EAA0EH,KAAK,IAAI,CAACvC,sBAAsB,CAACC,IAAD,CAA1G,CAAhZ,EAAmgB,CAAC,GAAGd,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,oBAAf,CAArC,EAA2EnB,YAAY,CAACzC,KAAb,IAAsB0C,eAAe,CAAC1C,KAAjH,CAAngB,EAA4nB,CAAC,GAAGK,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,QAAf,CAArC,EAA+DF,KAA/D,CAA5nB,EAAmsB,CAAC,GAAGrD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,YAAf,CAArC,EAAmE,CAAC,CAACD,MAArE,CAAnsB,EAAixB,CAAC,GAAGtD,gBAAgB,CAACJ,OAArB,EAA8BqD,KAA9B,EAAqC,GAAGQ,MAAH,CAAUF,GAAV,EAAe,MAAf,CAArC,EAA6D1B,SAAS,CAAClC,KAAV,KAAoB,KAAjF,CAAjxB,EAA02BsD,KAAj3B;AACD,KA5Ba,CAAd;;AA8BA,QAAIS,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC;AACA,UAAIC,IAAI,GAAG7B,aAAa,CAACnC,KAAzB;;AAEA,UAAI,CAACgE,IAAD,IAAS/B,uBAAuB,CAACjC,KAAxB,KAAkC,KAA/C,EAAsD;AACpD;AACD;;AAED,UAAIiE,UAAU,GAAGD,IAAI,CAACE,WAAtB;;AAEA,UAAI3B,cAAc,IAAIzB,WAAW,CAACmD,UAAD,CAAjC,EAA+C;AAC7C,YAAI,CAACxB,YAAY,CAACzC,KAAlB,EAAyB;AACvByC,UAAAA,YAAY,CAACzC,KAAb,GAAqB,IAArB;AACD;AACF,OAJD,MAIO,IAAIyC,YAAY,CAACzC,KAAjB,EAAwB;AAC7ByC,QAAAA,YAAY,CAACzC,KAAb,GAAqB,KAArB;AACD;AACF,KAjBD;;AAmBA,QAAImE,WAAW,GAAG,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC5C;AACA,UAAI5B,YAAY,CAACxC,KAAb,IAAsBiB,KAAK,CAACoD,QAAhC,EAA0C;AACxCD,QAAAA,KAAK,CAACE,cAAN;AACA;AACD;;AAEDxC,MAAAA,IAAI,CAAC,OAAD,EAAUsC,KAAV,CAAJ;AACD,KARD;;AAUA,QAAIG,WAAW,GAAG,SAASA,WAAT,CAAqBC,KAArB,EAA4BC,YAA5B,EAA0C;AAC1D,UAAIC,KAAK,GAAGD,YAAY,GAAG,GAAH,GAAS,EAAjC;;AAEA,UAAID,KAAK,CAACrD,IAAN,KAAejB,IAAI,CAACyE,IAAxB,EAA8B;AAC5B,YAAIC,IAAI,GAAGJ,KAAK,CAACK,QAAN,CAAeC,IAAf,EAAX;;AAEA,YAAIhE,WAAW,CAAC8D,IAAD,CAAf,EAAuB;AACrBA,UAAAA,IAAI,GAAGA,IAAI,CAACG,KAAL,CAAW,EAAX,EAAeC,IAAf,CAAoBN,KAApB,CAAP;AACD;;AAED,eAAO,CAAC,GAAGxE,IAAI,CAAC+E,WAAT,EAAsB,MAAtB,EAA8B,IAA9B,EAAoC,CAACL,IAAD,CAApC,CAAP;AACD;;AAED,aAAOJ,KAAP;AACD,KAdD;;AAgBA,KAAC,GAAGtE,IAAI,CAACgF,WAAT,EAAsB,YAAY;AAChC,OAAC,GAAGtE,WAAW,CAACX,OAAhB,EAAyB,EAAEgB,KAAK,CAACwC,KAAN,IAAevC,sBAAsB,CAACD,KAAK,CAACE,IAAP,CAAvC,CAAzB,EAA+E,QAA/E,EAAyF,oDAAzF;AACD,KAFD;AAGA,KAAC,GAAGjB,IAAI,CAACiF,SAAT,EAAoBpB,YAApB;AACA,KAAC,GAAG7D,IAAI,CAACkF,SAAT,EAAoBrB,YAApB;AACA,KAAC,GAAG7D,IAAI,CAACmF,eAAT,EAA0B,YAAY;AACpChD,MAAAA,eAAe,CAACrC,KAAhB,IAAyBiD,YAAY,CAACZ,eAAe,CAACrC,KAAjB,CAArC;AACD,KAFD;AAGA,WAAO,YAAY;AACjB,UAAI6E,QAAQ,GAAG,CAAC,GAAGnE,UAAU,CAAC4E,eAAf,EAAgC,CAAC,GAAG5E,UAAU,CAAC6E,YAAf,EAA6B9D,KAA7B,EAAoCR,KAApC,CAAhC,CAAf;AACA,UAAIuE,IAAI,GAAG,CAAC,GAAG9E,UAAU,CAAC6E,YAAf,EAA6B9D,KAA7B,EAAoCR,KAApC,EAA2C,MAA3C,CAAX;AACAsB,MAAAA,cAAc,GAAGsC,QAAQ,CAACY,MAAT,KAAoB,CAApB,IAAyB,CAACD,IAA1B,IAAkC,CAACtE,sBAAsB,CAACD,KAAK,CAACE,IAAP,CAA1E;AACA,UAAIA,IAAI,GAAGF,KAAK,CAACE,IAAjB;AAAA,UACIuE,QAAQ,GAAGzE,KAAK,CAACyE,QADrB;AAAA,UAEIrB,QAAQ,GAAGpD,KAAK,CAACoD,QAFrB;AAAA,UAGIsB,IAAI,GAAG1E,KAAK,CAAC0E,IAHjB;AAAA,UAIIC,KAAK,GAAG3E,KAAK,CAAC2E,KAJlB;AAAA,UAKIC,MAAM,GAAG5E,KAAK,CAAC4E,MALnB;AAMA,UAAIC,QAAQ,GAAGtD,YAAY,CAACxC,KAAb,GAAqB,SAArB,GAAiCwF,IAAhD;AACA,UAAIO,WAAW,GAAG,CAAC,GAAG3F,SAAS,CAACH,OAAd,EAAuB,CAAC,GAAGG,SAAS,CAACH,OAAd,EAAuB,EAAvB,EAA2B4B,KAA3B,CAAvB,EAA0D;AAC1E+D,QAAAA,KAAK,EAAEA,KADmE;AAE1EvB,QAAAA,QAAQ,EAAEA,QAFgE;AAG1E2B,QAAAA,KAAK,EAAE,CAAC3C,OAAO,CAACrD,KAAT,EAAgB6B,KAAK,CAACmE,KAAtB,EAA6B,CAAC,GAAG3F,gBAAgB,CAACJ,OAArB,EAA8B,EAA9B,EAAkC,GAAG6D,MAAH,CAAU9B,SAAS,CAAChC,KAApB,EAA2B,YAA3B,CAAlC,EAA4E6E,QAAQ,CAACY,MAAT,KAAoB,CAApB,IAAyB,CAAC,CAACK,QAAvG,CAA7B,CAHmE;AAI1EG,QAAAA,OAAO,EAAE9B;AAJiE,OAA1D,CAAlB;AAMA,UAAI+B,QAAQ,GAAG1D,YAAY,CAACxC,KAAb,GAAqB,CAAC,GAAGE,IAAI,CAAC+E,WAAT,EAAsBxE,gBAAgB,CAACR,OAAvC,EAAgD,IAAhD,EAAsD,IAAtD,CAArB,GAAmFuF,IAAlG;AACA,UAAIW,IAAI,GAAGtB,QAAQ,CAACuB,GAAT,CAAa,UAAU5B,KAAV,EAAiB;AACvC,eAAOD,WAAW,CAACC,KAAD,EAAQjC,cAAc,IAAIG,eAAe,CAAC1C,KAA1C,CAAlB;AACD,OAFU,CAAX;;AAIA,UAAI2F,IAAI,KAAKrD,SAAb,EAAwB;AACtB,eAAO,CAAC,GAAGpC,IAAI,CAAC+E,WAAT,EAAsB,GAAtB,EAA2B,CAAC,GAAG9E,cAAc,CAACF,OAAnB,EAA4B,CAAC,GAAGE,cAAc,CAACF,OAAnB,EAA4B,EAA5B,EAAgC8F,WAAhC,CAA5B,EAA0E,EAA1E,EAA8E;AAC9G,kBAAQJ,IADsG;AAE9G,oBAAUE,MAFoG;AAG9G,iBAAO1D;AAHuG,SAA9E,CAA3B,EAIH,CAAC+D,QAAD,EAAWC,IAAX,CAJG,CAAP;AAKD;;AAED,UAAIE,UAAU,GAAG,CAAC,GAAGnG,IAAI,CAAC+E,WAAT,EAAsB,QAAtB,EAAgC,CAAC,GAAG9E,cAAc,CAACF,OAAnB,EAA4B,CAAC,GAAGE,cAAc,CAACF,OAAnB,EAA4B,EAA5B,EAAgC8F,WAAhC,CAA5B,EAA0E,EAA1E,EAA8E;AAC7H,eAAO5D,aADsH;AAE7H,gBAAQuD;AAFqH,OAA9E,CAAhC,EAGb,CAACQ,QAAD,EAAWC,IAAX,CAHa,CAAjB;;AAKA,UAAIjF,sBAAsB,CAACC,IAAD,CAA1B,EAAkC;AAChC,eAAOkF,UAAP;AACD;;AAED,aAAO,CAAC,GAAGnG,IAAI,CAAC+E,WAAT,EAAsB1E,KAAK,CAACN,OAA5B,EAAqC;AAC1C,eAAO;AADmC,OAArC,EAEJ;AACDA,QAAAA,OAAO,EAAE,SAASqG,QAAT,GAAoB;AAC3B,iBAAO,CAACD,UAAD,CAAP;AACD;AAHA,OAFI,CAAP;AAOD,KA9CD;AA+CD;AA5KuC,CAA1B,CAAhB;;AA+KAtG,OAAO,CAACE,OAAR,GAAkBmB,SAAlB","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vue = require(\"vue\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar _buttonTypes = _interopRequireDefault(require(\"./buttonTypes\"));\n\nvar _LoadingOutlined = _interopRequireDefault(require(\"@ant-design/icons-vue/lib/icons/LoadingOutlined\"));\n\nvar _propsUtil = require(\"../_util/props-util\");\n\nvar _useConfigInject2 = _interopRequireDefault(require(\"../_util/hooks/useConfigInject\"));\n\nvar _devWarning = _interopRequireDefault(require(\"../vc-util/devWarning\"));\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nvar props = (0, _buttonTypes.default)();\n\nfunction isUnborderedButtonType(type) {\n  return type === 'text' || type === 'link';\n}\n\nvar _default2 = (0, _vue.defineComponent)({\n  name: 'AButton',\n  inheritAttrs: false,\n  __ANT_BUTTON: true,\n  props: props,\n  slots: ['icon'],\n  emits: ['click'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = (0, _useConfigInject2.default)('btn', props),\n        prefixCls = _useConfigInject.prefixCls,\n        autoInsertSpaceInButton = _useConfigInject.autoInsertSpaceInButton,\n        direction = _useConfigInject.direction;\n\n    var buttonNodeRef = (0, _vue.ref)(null);\n    var delayTimeoutRef = (0, _vue.ref)(undefined);\n    var isNeedInserted = false;\n    var innerLoading = (0, _vue.ref)(false);\n    var hasTwoCNChar = (0, _vue.ref)(false);\n    var autoInsertSpace = (0, _vue.computed)(function () {\n      return autoInsertSpaceInButton.value !== false;\n    }); // =============== Update Loading ===============\n\n    var loadingOrDelay = (0, _vue.computed)(function () {\n      return (0, _typeof2.default)(props.loading) === 'object' && props.loading.delay ? props.loading.delay || true : !!props.loading;\n    });\n    (0, _vue.watch)(loadingOrDelay, function (val) {\n      clearTimeout(delayTimeoutRef.value);\n\n      if (typeof loadingOrDelay.value === 'number') {\n        delayTimeoutRef.value = window.setTimeout(function () {\n          innerLoading.value = val;\n        }, loadingOrDelay.value);\n      } else {\n        innerLoading.value = val;\n      }\n    }, {\n      immediate: true\n    });\n    var classes = (0, _vue.computed)(function () {\n      var _ref2;\n\n      var type = props.type,\n          shape = props.shape,\n          size = props.size,\n          ghost = props.ghost,\n          block = props.block,\n          danger = props.danger;\n      var pre = prefixCls.value; // large => lg\n      // small => sm\n\n      var sizeCls = '';\n\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n\n        case 'small':\n          sizeCls = 'sm';\n          break;\n\n        default:\n          break;\n      }\n\n      return _ref2 = {}, (0, _defineProperty2.default)(_ref2, \"\".concat(pre), true), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(type), type), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(shape), shape), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-\").concat(sizeCls), sizeCls), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-loading\"), innerLoading.value), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-background-ghost\"), ghost && !isUnborderedButtonType(type)), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-two-chinese-chars\"), hasTwoCNChar.value && autoInsertSpace.value), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-block\"), block), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-dangerous\"), !!danger), (0, _defineProperty2.default)(_ref2, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl'), _ref2;\n    });\n\n    var fixTwoCNChar = function fixTwoCNChar() {\n      // Fix for HOC usage like <FormatMessage />\n      var node = buttonNodeRef.value;\n\n      if (!node || autoInsertSpaceInButton.value === false) {\n        return;\n      }\n\n      var buttonText = node.textContent;\n\n      if (isNeedInserted && isTwoCNChar(buttonText)) {\n        if (!hasTwoCNChar.value) {\n          hasTwoCNChar.value = true;\n        }\n      } else if (hasTwoCNChar.value) {\n        hasTwoCNChar.value = false;\n      }\n    };\n\n    var handleClick = function handleClick(event) {\n      // https://github.com/ant-design/ant-design/issues/30207\n      if (innerLoading.value || props.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      emit('click', event);\n    };\n\n    var insertSpace = function insertSpace(child, needInserted) {\n      var SPACE = needInserted ? ' ' : '';\n\n      if (child.type === _vue.Text) {\n        var text = child.children.trim();\n\n        if (isTwoCNChar(text)) {\n          text = text.split('').join(SPACE);\n        }\n\n        return (0, _vue.createVNode)(\"span\", null, [text]);\n      }\n\n      return child;\n    };\n\n    (0, _vue.watchEffect)(function () {\n      (0, _devWarning.default)(!(props.ghost && isUnborderedButtonType(props.type)), 'Button', \"`link` or `text` button can't be a `ghost` button.\");\n    });\n    (0, _vue.onMounted)(fixTwoCNChar);\n    (0, _vue.onUpdated)(fixTwoCNChar);\n    (0, _vue.onBeforeUnmount)(function () {\n      delayTimeoutRef.value && clearTimeout(delayTimeoutRef.value);\n    });\n    return function () {\n      var children = (0, _propsUtil.flattenChildren)((0, _propsUtil.getPropsSlot)(slots, props));\n      var icon = (0, _propsUtil.getPropsSlot)(slots, props, 'icon');\n      isNeedInserted = children.length === 1 && !icon && !isUnborderedButtonType(props.type);\n      var type = props.type,\n          htmlType = props.htmlType,\n          disabled = props.disabled,\n          href = props.href,\n          title = props.title,\n          target = props.target;\n      var iconType = innerLoading.value ? 'loading' : icon;\n      var buttonProps = (0, _extends2.default)((0, _extends2.default)({}, attrs), {\n        title: title,\n        disabled: disabled,\n        class: [classes.value, attrs.class, (0, _defineProperty2.default)({}, \"\".concat(prefixCls.value, \"-icon-only\"), children.length === 0 && !!iconType)],\n        onClick: handleClick\n      });\n      var iconNode = innerLoading.value ? (0, _vue.createVNode)(_LoadingOutlined.default, null, null) : icon;\n      var kids = children.map(function (child) {\n        return insertSpace(child, isNeedInserted && autoInsertSpace.value);\n      });\n\n      if (href !== undefined) {\n        return (0, _vue.createVNode)(\"a\", (0, _objectSpread2.default)((0, _objectSpread2.default)({}, buttonProps), {}, {\n          \"href\": href,\n          \"target\": target,\n          \"ref\": buttonNodeRef\n        }), [iconNode, kids]);\n      }\n\n      var buttonNode = (0, _vue.createVNode)(\"button\", (0, _objectSpread2.default)((0, _objectSpread2.default)({}, buttonProps), {}, {\n        \"ref\": buttonNodeRef,\n        \"type\": htmlType\n      }), [iconNode, kids]);\n\n      if (isUnborderedButtonType(type)) {\n        return buttonNode;\n      }\n\n      return (0, _vue.createVNode)(_wave.default, {\n        \"ref\": \"wave\"\n      }, {\n        default: function _default() {\n          return [buttonNode];\n        }\n      });\n    };\n  }\n});\n\nexports.default = _default2;"]},"metadata":{},"sourceType":"script"}