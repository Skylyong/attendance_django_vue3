{"ast":null,"code":"var helperMultiply = require('./helperMultiply');\n\nvar toNumber = require('./toNumber');\n\nvar toNumberString = require('./toNumberString');\n\nfunction helperCreateMathNumber(name) {\n  return function (num, digits) {\n    var numRest = toNumber(num);\n    var rest = numRest;\n\n    if (numRest) {\n      digits = digits >> 0;\n      var numStr = toNumberString(numRest);\n      var nums = numStr.split('.');\n      var intStr = nums[0];\n      var floatStr = nums[1] || '';\n      var fStr = floatStr.substring(0, digits + 1);\n      var subRest = intStr + (fStr ? '.' + fStr : '');\n\n      if (digits >= floatStr.length) {\n        return toNumber(subRest);\n      }\n\n      subRest = numRest;\n\n      if (digits > 0) {\n        var ratio = Math.pow(10, digits);\n        rest = Math[name](helperMultiply(subRest, ratio)) / ratio;\n      } else {\n        rest = Math[name](subRest);\n      }\n    }\n\n    return rest;\n  };\n}\n\nmodule.exports = helperCreateMathNumber;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/xe-utils/helperCreateMathNumber.js"],"names":["helperMultiply","require","toNumber","toNumberString","helperCreateMathNumber","name","num","digits","numRest","rest","numStr","nums","split","intStr","floatStr","fStr","substring","subRest","length","ratio","Math","pow","module","exports"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AAEA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,kBAAD,CAA5B;;AAEA,SAASG,sBAAT,CAAgCC,IAAhC,EAAsC;AACpC,SAAO,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC5B,QAAIC,OAAO,GAAGN,QAAQ,CAACI,GAAD,CAAtB;AACA,QAAIG,IAAI,GAAGD,OAAX;;AACA,QAAIA,OAAJ,EAAa;AACXD,MAAAA,MAAM,GAAGA,MAAM,IAAI,CAAnB;AACA,UAAIG,MAAM,GAAGP,cAAc,CAACK,OAAD,CAA3B;AACA,UAAIG,IAAI,GAAGD,MAAM,CAACE,KAAP,CAAa,GAAb,CAAX;AACA,UAAIC,MAAM,GAAGF,IAAI,CAAC,CAAD,CAAjB;AACA,UAAIG,QAAQ,GAAGH,IAAI,CAAC,CAAD,CAAJ,IAAW,EAA1B;AACA,UAAII,IAAI,GAAGD,QAAQ,CAACE,SAAT,CAAmB,CAAnB,EAAsBT,MAAM,GAAG,CAA/B,CAAX;AACA,UAAIU,OAAO,GAAGJ,MAAM,IAAIE,IAAI,GAAI,MAAMA,IAAV,GAAkB,EAA1B,CAApB;;AACA,UAAIR,MAAM,IAAIO,QAAQ,CAACI,MAAvB,EAA+B;AAC7B,eAAOhB,QAAQ,CAACe,OAAD,CAAf;AACD;;AACDA,MAAAA,OAAO,GAAGT,OAAV;;AACA,UAAID,MAAM,GAAG,CAAb,EAAgB;AACd,YAAIY,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAad,MAAb,CAAZ;AACAE,QAAAA,IAAI,GAAGW,IAAI,CAACf,IAAD,CAAJ,CAAWL,cAAc,CAACiB,OAAD,EAAUE,KAAV,CAAzB,IAA6CA,KAApD;AACD,OAHD,MAGO;AACLV,QAAAA,IAAI,GAAGW,IAAI,CAACf,IAAD,CAAJ,CAAWY,OAAX,CAAP;AACD;AACF;;AACD,WAAOR,IAAP;AACD,GAvBD;AAwBD;;AAEDa,MAAM,CAACC,OAAP,GAAiBnB,sBAAjB","sourcesContent":["var helperMultiply = require('./helperMultiply')\r\n\r\nvar toNumber = require('./toNumber')\r\nvar toNumberString = require('./toNumberString')\r\n\r\nfunction helperCreateMathNumber(name) {\r\n  return function (num, digits) {\r\n    var numRest = toNumber(num)\r\n    var rest = numRest\r\n    if (numRest) {\r\n      digits = digits >> 0\r\n      var numStr = toNumberString(numRest)\r\n      var nums = numStr.split('.')\r\n      var intStr = nums[0]\r\n      var floatStr = nums[1] || ''\r\n      var fStr = floatStr.substring(0, digits + 1)\r\n      var subRest = intStr + (fStr ? ('.' + fStr) : '')\r\n      if (digits >= floatStr.length) {\r\n        return toNumber(subRest)\r\n      }\r\n      subRest = numRest\r\n      if (digits > 0) {\r\n        var ratio = Math.pow(10, digits)\r\n        rest = Math[name](helperMultiply(subRest, ratio)) / ratio\r\n      } else {\r\n        rest = Math[name](subRest)\r\n      }\r\n    }\r\n    return rest\r\n  }\r\n}\r\n\r\nmodule.exports = helperCreateMathNumber\r\n"]},"metadata":{},"sourceType":"script"}