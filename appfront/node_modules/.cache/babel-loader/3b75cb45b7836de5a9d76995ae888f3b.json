{"ast":null,"code":"import { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [{\n  title: 'name',\n  dataIndex: 'name',\n  width: '25%'\n}, {\n  title: 'age',\n  dataIndex: 'age',\n  width: '15%'\n}, {\n  title: 'address',\n  dataIndex: 'address',\n  width: '40%'\n}, {\n  title: 'operation',\n  dataIndex: 'operation'\n}];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel\n    };\n  }\n\n});","map":{"version":3,"mappings":"AAgCA,SAASA,SAAT,QAA0B,WAA1B;AACA,SAASC,eAAT,EAA0BC,QAA1B,EAAoCC,GAApC,QAA+C,KAA/C;AACA,MAAMC,OAAM,GAAI,CAAC;AACfC,OAAK,EAAE,MADQ;AAEfC,WAAS,EAAE,MAFI;AAGfC,OAAK,EAAE;AAHQ,CAAD,EAIb;AACDF,OAAK,EAAE,KADN;AAEDC,WAAS,EAAE,KAFV;AAGDC,OAAK,EAAE;AAHN,CAJa,EAQb;AACDF,OAAK,EAAE,SADN;AAEDC,WAAS,EAAE,SAFV;AAGDC,OAAK,EAAE;AAHN,CARa,EAYb;AACDF,OAAK,EAAE,WADN;AAEDC,WAAS,EAAE;AAFV,CAZa,CAAhB;AAgBA,MAAME,IAAG,GAAI,EAAb;;AAEA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5BD,MAAI,CAACE,IAAL,CAAU;AACRC,OAAG,EAAEF,CAAC,CAACG,QAAF,EADG;AAERC,QAAI,EAAG,WAAUJ,CAAE,EAFX;AAGRK,OAAG,EAAE,EAHG;AAIRC,WAAO,EAAG,mBAAkBN,CAAE;AAJtB,GAAV;AAMF;;AAEA,eAAeR,eAAe,CAAC;AAC7Be,OAAK,GAAG;AACN,UAAMC,UAAS,GAAId,GAAG,CAACK,IAAD,CAAtB;AACA,UAAMU,YAAW,GAAIhB,QAAQ,CAAC,EAAD,CAA7B;;AAEA,UAAMiB,IAAG,GAAIR,GAAE,IAAK;AAClBO,kBAAY,CAACP,GAAD,CAAZ,GAAoBX,SAAS,CAACiB,UAAU,CAACG,KAAX,CAAiBC,MAAjB,CAAwBC,IAAG,IAAKX,GAAE,KAAMW,IAAI,CAACX,GAA7C,EAAkD,CAAlD,CAAD,CAA7B;AACD,KAFD;;AAIA,UAAMY,IAAG,GAAIZ,GAAE,IAAK;AAClBa,YAAM,CAACC,MAAP,CAAcR,UAAU,CAACG,KAAX,CAAiBC,MAAjB,CAAwBC,IAAG,IAAKX,GAAE,KAAMW,IAAI,CAACX,GAA7C,EAAkD,CAAlD,CAAd,EAAoEO,YAAY,CAACP,GAAD,CAAhF;AACA,aAAOO,YAAY,CAACP,GAAD,CAAnB;AACD,KAHD;;AAKA,UAAMe,MAAK,GAAIf,GAAE,IAAK;AACpB,aAAOO,YAAY,CAACP,GAAD,CAAnB;AACD,KAFD;;AAIA,WAAO;AACLM,gBADK;AAELb,aAFK;AAGLuB,gBAAU,EAAE,EAHP;AAILT,kBAJK;AAKLC,UALK;AAMLI,UANK;AAOLG;AAPK,KAAP;AASD;;AA3B4B,CAAD,CAA9B","names":["cloneDeep","defineComponent","reactive","ref","columns","title","dataIndex","width","data","i","push","key","toString","name","age","address","setup","dataSource","editableData","edit","value","filter","item","save","Object","assign","cancel","editingKey"],"sourceRoot":"","sources":["/Users/lyong/Desktop/myproj/appfront/src/components/manager/managerApprove.vue"],"sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\n    <template #bodyCell=\"{ column, text, record }\">\n      <template v-if=\"['name', 'age', 'address'].includes(column.dataIndex)\">\n        <div>\n          <a-input\n            v-if=\"editableData[record.key]\"\n            v-model:value=\"editableData[record.key][column.dataIndex]\"\n            style=\"margin: -5px 0\"\n          />\n          <template v-else>\n            {{ text }}\n          </template>\n        </div>\n      </template>\n      <template v-else-if=\"column.dataIndex === 'operation'\">\n        <div class=\"editable-row-operations\">\n          <span v-if=\"editableData[record.key]\">\n            <a-typography-link @click=\"save(record.key)\">Save</a-typography-link>\n            <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\n              <a>Cancel</a>\n            </a-popconfirm>\n          </span>\n          <span v-else>\n            <a @click=\"edit(record.key)\">Edit</a>\n          </span>\n        </div>\n      </template>\n    </template>\n  </a-table>\n</template>\n<script>\nimport { cloneDeep } from 'lodash-es';\nimport { defineComponent, reactive, ref } from 'vue';\nconst columns = [{\n  title: 'name',\n  dataIndex: 'name',\n  width: '25%',\n}, {\n  title: 'age',\n  dataIndex: 'age',\n  width: '15%',\n}, {\n  title: 'address',\n  dataIndex: 'address',\n  width: '40%',\n}, {\n  title: 'operation',\n  dataIndex: 'operation',\n}];\nconst data = [];\n\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\n\nexport default defineComponent({\n  setup() {\n    const dataSource = ref(data);\n    const editableData = reactive({});\n\n    const edit = key => {\n      editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      delete editableData[key];\n    };\n\n    const cancel = key => {\n      delete editableData[key];\n    };\n\n    return {\n      dataSource,\n      columns,\n      editingKey: '',\n      editableData,\n      edit,\n      save,\n      cancel,\n    };\n  },\n\n});\n</script>\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}