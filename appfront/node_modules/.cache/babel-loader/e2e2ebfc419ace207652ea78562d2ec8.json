{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { BORDER, createNamespace } from \"../utils\";\nimport { STEPS_KEY } from \"../steps/Steps\";\nimport { useParent } from \"@vant/use\";\nimport { Icon } from \"../icon\";\nconst [name, bem] = createNamespace(\"step\");\nvar stdin_default = defineComponent({\n  name,\n\n  setup(props, {\n    slots\n  }) {\n    const {\n      parent,\n      index\n    } = useParent(STEPS_KEY);\n\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Step> must be a child component of <Steps>.\");\n      }\n\n      return;\n    }\n\n    const parentProps = parent.props;\n\n    const getStatus = () => {\n      const active = +parentProps.active;\n\n      if (index.value < active) {\n        return \"finish\";\n      }\n\n      return index.value === active ? \"process\" : \"waiting\";\n    };\n\n    const isActive = () => getStatus() === \"process\";\n\n    const lineStyle = computed(() => ({\n      background: getStatus() === \"finish\" ? parentProps.activeColor : parentProps.inactiveColor\n    }));\n    const titleStyle = computed(() => {\n      if (isActive()) {\n        return {\n          color: parentProps.activeColor\n        };\n      }\n\n      if (getStatus() === \"waiting\") {\n        return {\n          color: parentProps.inactiveColor\n        };\n      }\n    });\n\n    const onClickStep = () => parent.onClickStep(index.value);\n\n    const renderCircle = () => {\n      const {\n        iconPrefix,\n        finishIcon,\n        activeIcon,\n        activeColor,\n        inactiveIcon\n      } = parentProps;\n\n      if (isActive()) {\n        if (slots[\"active-icon\"]) {\n          return slots[\"active-icon\"]();\n        }\n\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"active\"),\n          \"name\": activeIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n\n      if (getStatus() === \"finish\" && (finishIcon || slots[\"finish-icon\"])) {\n        if (slots[\"finish-icon\"]) {\n          return slots[\"finish-icon\"]();\n        }\n\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"finish\"),\n          \"name\": finishIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n\n      if (slots[\"inactive-icon\"]) {\n        return slots[\"inactive-icon\"]();\n      }\n\n      if (inactiveIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\"),\n          \"name\": inactiveIcon,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n\n      return _createVNode(\"i\", {\n        \"class\": bem(\"circle\"),\n        \"style\": lineStyle.value\n      }, null);\n    };\n\n    return () => {\n      var _a;\n\n      const status = getStatus();\n      return _createVNode(\"div\", {\n        \"class\": [BORDER, bem([parentProps.direction, {\n          [status]: status\n        }])]\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"title\", {\n          active: isActive()\n        }),\n        \"style\": titleStyle.value,\n        \"onClick\": onClickStep\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), _createVNode(\"div\", {\n        \"class\": bem(\"circle-container\"),\n        \"onClick\": onClickStep\n      }, [renderCircle()]), _createVNode(\"div\", {\n        \"class\": bem(\"line\"),\n        \"style\": lineStyle.value\n      }, null)]);\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/vant/es/step/Step.js"],"names":["createVNode","_createVNode","computed","defineComponent","BORDER","createNamespace","STEPS_KEY","useParent","Icon","name","bem","stdin_default","setup","props","slots","parent","index","process","env","NODE_ENV","console","error","parentProps","getStatus","active","value","isActive","lineStyle","background","activeColor","inactiveColor","titleStyle","color","onClickStep","renderCircle","iconPrefix","finishIcon","activeIcon","inactiveIcon","_a","status","direction","default","call"],"mappings":"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","sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { BORDER, createNamespace } from \"../utils\";\nimport { STEPS_KEY } from \"../steps/Steps\";\nimport { useParent } from \"@vant/use\";\nimport { Icon } from \"../icon\";\nconst [name, bem] = createNamespace(\"step\");\nvar stdin_default = defineComponent({\n  name,\n  setup(props, {\n    slots\n  }) {\n    const {\n      parent,\n      index\n    } = useParent(STEPS_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Step> must be a child component of <Steps>.\");\n      }\n      return;\n    }\n    const parentProps = parent.props;\n    const getStatus = () => {\n      const active = +parentProps.active;\n      if (index.value < active) {\n        return \"finish\";\n      }\n      return index.value === active ? \"process\" : \"waiting\";\n    };\n    const isActive = () => getStatus() === \"process\";\n    const lineStyle = computed(() => ({\n      background: getStatus() === \"finish\" ? parentProps.activeColor : parentProps.inactiveColor\n    }));\n    const titleStyle = computed(() => {\n      if (isActive()) {\n        return {\n          color: parentProps.activeColor\n        };\n      }\n      if (getStatus() === \"waiting\") {\n        return {\n          color: parentProps.inactiveColor\n        };\n      }\n    });\n    const onClickStep = () => parent.onClickStep(index.value);\n    const renderCircle = () => {\n      const {\n        iconPrefix,\n        finishIcon,\n        activeIcon,\n        activeColor,\n        inactiveIcon\n      } = parentProps;\n      if (isActive()) {\n        if (slots[\"active-icon\"]) {\n          return slots[\"active-icon\"]();\n        }\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"active\"),\n          \"name\": activeIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (getStatus() === \"finish\" && (finishIcon || slots[\"finish-icon\"])) {\n        if (slots[\"finish-icon\"]) {\n          return slots[\"finish-icon\"]();\n        }\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"finish\"),\n          \"name\": finishIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (slots[\"inactive-icon\"]) {\n        return slots[\"inactive-icon\"]();\n      }\n      if (inactiveIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\"),\n          \"name\": inactiveIcon,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      return _createVNode(\"i\", {\n        \"class\": bem(\"circle\"),\n        \"style\": lineStyle.value\n      }, null);\n    };\n    return () => {\n      var _a;\n      const status = getStatus();\n      return _createVNode(\"div\", {\n        \"class\": [BORDER, bem([parentProps.direction, {\n          [status]: status\n        }])]\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"title\", {\n          active: isActive()\n        }),\n        \"style\": titleStyle.value,\n        \"onClick\": onClickStep\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), _createVNode(\"div\", {\n        \"class\": bem(\"circle-container\"),\n        \"onClick\": onClickStep\n      }, [renderCircle()]), _createVNode(\"div\", {\n        \"class\": bem(\"line\"),\n        \"style\": lineStyle.value\n      }, null)]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}