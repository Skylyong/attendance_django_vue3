{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { resolveDirective as _resolveDirective, withDirectives as _withDirectives, vShow as _vShow, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport { computed, defineComponent, getCurrentInstance, ref, watch, onBeforeUnmount } from 'vue';\nimport useProvideKeyPath, { useInjectKeyPath } from './hooks/useKeyPath';\nimport { useInjectMenu, useProvideFirstLevel, MenuContextProvider } from './hooks/useMenuContext';\nimport { getPropsSlot, isValidElement } from '../../_util/props-util';\nimport classNames from '../../_util/classNames';\nimport useDirectionStyle from './hooks/useDirectionStyle';\nimport PopupTrigger from './PopupTrigger';\nimport SubMenuList from './SubMenuList';\nimport InlineSubMenuList from './InlineSubMenuList';\nimport Transition, { getTransitionProps } from '../../_util/transition';\nimport { cloneElement } from '../../_util/vnode';\nimport Overflow from '../../vc-overflow';\nimport devWarning from '../../vc-util/devWarning';\nimport isValid from '../../_util/isValid';\nvar indexGuid = 0;\nvar subMenuProps = {\n  icon: PropTypes.VNodeChild,\n  title: PropTypes.VNodeChild,\n  disabled: Boolean,\n  level: Number,\n  popupClassName: String,\n  popupOffset: Array,\n  internalPopupClose: Boolean,\n  eventKey: String,\n  expandIcon: Function\n};\nexport default defineComponent({\n  name: 'ASubMenu',\n  inheritAttrs: false,\n  props: subMenuProps,\n  slots: ['icon', 'title', 'expandIcon'],\n  emits: ['titleClick', 'mouseenter', 'mouseleave'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _a, _b;\n\n    useProvideFirstLevel(false);\n    var instance = getCurrentInstance();\n    var vnodeKey = _typeof(instance.vnode.key) === 'symbol' ? String(instance.vnode.key) : instance.vnode.key;\n    devWarning(_typeof(instance.vnode.key) !== 'symbol', 'SubMenu', \"SubMenu `:key=\\\"\".concat(String(vnodeKey), \"\\\"` not support Symbol type\"));\n    var key = isValid(vnodeKey) ? vnodeKey : \"sub_menu_\".concat(++indexGuid, \"_$$_not_set_key\");\n    var eventKey = (_a = props.eventKey) !== null && _a !== void 0 ? _a : isValid(vnodeKey) ? \"sub_menu_\".concat(++indexGuid, \"_$$_\").concat(vnodeKey) : key;\n\n    var _useInjectKeyPath = useInjectKeyPath(),\n        parentEventKeys = _useInjectKeyPath.parentEventKeys,\n        parentInfo = _useInjectKeyPath.parentInfo,\n        parentKeys = _useInjectKeyPath.parentKeys;\n\n    var keysPath = computed(function () {\n      return [].concat(_toConsumableArray(parentKeys.value), [key]);\n    });\n    var eventKeysPath = computed(function () {\n      return [].concat(_toConsumableArray(parentEventKeys.value), [eventKey]);\n    });\n    var childrenEventKeys = ref([]);\n    var menuInfo = {\n      eventKey: eventKey,\n      key: key,\n      parentEventKeys: parentEventKeys,\n      childrenEventKeys: childrenEventKeys,\n      parentKeys: parentKeys\n    };\n    (_b = parentInfo.childrenEventKeys) === null || _b === void 0 ? void 0 : _b.value.push(eventKey);\n    onBeforeUnmount(function () {\n      var _a;\n\n      if (parentInfo.childrenEventKeys) {\n        parentInfo.childrenEventKeys.value = (_a = parentInfo.childrenEventKeys) === null || _a === void 0 ? void 0 : _a.value.filter(function (k) {\n          return k != eventKey;\n        });\n      }\n    });\n    useProvideKeyPath(eventKey, key, menuInfo);\n\n    var _useInjectMenu = useInjectMenu(),\n        prefixCls = _useInjectMenu.prefixCls,\n        activeKeys = _useInjectMenu.activeKeys,\n        contextDisabled = _useInjectMenu.disabled,\n        changeActiveKeys = _useInjectMenu.changeActiveKeys,\n        mode = _useInjectMenu.mode,\n        inlineCollapsed = _useInjectMenu.inlineCollapsed,\n        antdMenuTheme = _useInjectMenu.antdMenuTheme,\n        openKeys = _useInjectMenu.openKeys,\n        overflowDisabled = _useInjectMenu.overflowDisabled,\n        onOpenChange = _useInjectMenu.onOpenChange,\n        registerMenuInfo = _useInjectMenu.registerMenuInfo,\n        unRegisterMenuInfo = _useInjectMenu.unRegisterMenuInfo,\n        selectedSubMenuEventKeys = _useInjectMenu.selectedSubMenuEventKeys,\n        motion = _useInjectMenu.motion,\n        defaultMotions = _useInjectMenu.defaultMotions,\n        menuExpandIcon = _useInjectMenu.expandIcon;\n\n    registerMenuInfo(eventKey, menuInfo);\n    onBeforeUnmount(function () {\n      unRegisterMenuInfo(eventKey);\n    });\n    var subMenuPrefixCls = computed(function () {\n      return \"\".concat(prefixCls.value, \"-submenu\");\n    });\n    var mergedDisabled = computed(function () {\n      return contextDisabled.value || props.disabled;\n    });\n    var elementRef = ref();\n    var popupRef = ref(); // // ================================ Icon ================================\n    // const mergedItemIcon = itemIcon || contextItemIcon;\n    // const mergedExpandIcon = expandIcon || contextExpandIcon;\n    // ================================ Open ================================\n\n    var originOpen = computed(function () {\n      return openKeys.value.includes(key);\n    });\n    var open = computed(function () {\n      return !overflowDisabled.value && originOpen.value;\n    }); // =============================== Select ===============================\n\n    var childrenSelected = computed(function () {\n      return selectedSubMenuEventKeys.value.includes(eventKey);\n    });\n    var isActive = ref(false);\n    watch(activeKeys, function () {\n      isActive.value = !!activeKeys.value.find(function (val) {\n        return val === key;\n      });\n    }, {\n      immediate: true\n    }); // =============================== Events ===============================\n    // >>>> Title click\n\n    var onInternalTitleClick = function onInternalTitleClick(e) {\n      // Skip if disabled\n      if (mergedDisabled.value) {\n        return;\n      }\n\n      emit('titleClick', e, key); // Trigger open by click when mode is `inline`\n\n      if (mode.value === 'inline') {\n        onOpenChange(eventKey, !originOpen.value);\n      }\n    };\n\n    var onMouseEnter = function onMouseEnter(event) {\n      if (!mergedDisabled.value) {\n        changeActiveKeys(keysPath.value);\n        emit('mouseenter', event);\n      }\n    };\n\n    var onMouseLeave = function onMouseLeave(event) {\n      if (!mergedDisabled.value) {\n        changeActiveKeys([]);\n        emit('mouseleave', event);\n      }\n    }; // ========================== DirectionStyle ==========================\n\n\n    var directionStyle = useDirectionStyle(computed(function () {\n      return eventKeysPath.value.length;\n    })); // >>>>> Visible change\n\n    var onPopupVisibleChange = function onPopupVisibleChange(newVisible) {\n      if (mode.value !== 'inline') {\n        onOpenChange(eventKey, newVisible);\n      }\n    };\n    /**\n     * Used for accessibility. Helper will focus element without key board.\n     * We should manually trigger an active\n     */\n\n\n    var onInternalFocus = function onInternalFocus() {\n      changeActiveKeys(keysPath.value);\n    }; // =============================== Render ===============================\n\n\n    var popupId = eventKey && \"\".concat(eventKey, \"-popup\");\n    var popupClassName = computed(function () {\n      return classNames(prefixCls.value, \"\".concat(prefixCls.value, \"-\").concat(antdMenuTheme.value), props.popupClassName);\n    });\n\n    var renderTitle = function renderTitle(title, icon) {\n      if (!icon) {\n        return inlineCollapsed.value && !parentEventKeys.value.length && title && typeof title === 'string' ? _createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls.value, \"-inline-collapsed-noicon\")\n        }, [title.charAt(0)]) : _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls.value, \"-title-content\")\n        }, [title]);\n      } // inline-collapsed.md demo 依赖 span 来隐藏文字,有 icon 属性，则内部包裹一个 span\n      // ref: https://github.com/ant-design/ant-design/pull/23456\n\n\n      var titleIsSpan = isValidElement(title) && title.type === 'span';\n      return _createVNode(_Fragment, null, [cloneElement(icon, {\n        class: \"\".concat(prefixCls.value, \"-item-icon\")\n      }, false), titleIsSpan ? title : _createVNode(\"span\", {\n        \"class\": \"\".concat(prefixCls.value, \"-title-content\")\n      }, [title])]);\n    }; // Cache mode if it change to `inline` which do not have popup motion\n\n\n    var triggerModeRef = computed(function () {\n      return mode.value !== 'inline' && eventKeysPath.value.length > 1 ? 'vertical' : mode.value;\n    });\n    var renderMode = computed(function () {\n      return mode.value === 'horizontal' ? 'vertical' : mode.value;\n    });\n    var style = ref({});\n    var className = ref('');\n    var mergedMotion = computed(function () {\n      var _a, _b;\n\n      var m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[mode.value]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      var res = typeof m === 'function' ? m(style, className) : m;\n      return res ? getTransitionProps(res.name) : undefined;\n    });\n    var subMenuTriggerModeRef = computed(function () {\n      return triggerModeRef.value === 'horizontal' ? 'vertical' : triggerModeRef.value;\n    });\n    return function () {\n      var _classNames;\n\n      var _a;\n\n      var icon = getPropsSlot(slots, props, 'icon');\n      var title = renderTitle(getPropsSlot(slots, props, 'title'), icon);\n      var subMenuPrefixClsValue = subMenuPrefixCls.value;\n      var expandIcon = props.expandIcon || slots.expandIcon || menuExpandIcon;\n\n      var titleNode = _createVNode(\"div\", {\n        \"style\": directionStyle.value,\n        \"class\": \"\".concat(subMenuPrefixClsValue, \"-title\"),\n        \"tabindex\": mergedDisabled.value ? null : -1,\n        \"ref\": elementRef,\n        \"title\": typeof title === 'string' ? title : null,\n        \"data-menu-id\": key,\n        \"aria-expanded\": open.value,\n        \"aria-haspopup\": true,\n        \"aria-controls\": popupId,\n        \"aria-disabled\": mergedDisabled.value,\n        \"onClick\": onInternalTitleClick,\n        \"onFocus\": onInternalFocus\n      }, [title, mode.value !== 'horizontal' && expandIcon ? expandIcon(_extends(_extends({}, props), {\n        isOpen: open.value\n      })) : _createVNode(\"i\", {\n        \"class\": \"\".concat(subMenuPrefixClsValue, \"-arrow\")\n      }, null)]);\n\n      if (!overflowDisabled.value && mode.value !== 'inline') {\n        var triggerMode = triggerModeRef.value;\n\n        var _titleNode = function () {\n          return titleNode;\n        }();\n\n        titleNode = _createVNode(PopupTrigger, {\n          \"mode\": triggerMode,\n          \"prefixCls\": subMenuPrefixClsValue,\n          \"visible\": !props.internalPopupClose && open.value,\n          \"popupClassName\": popupClassName.value,\n          \"popupOffset\": props.popupOffset,\n          \"disabled\": mergedDisabled.value,\n          \"onVisibleChange\": onPopupVisibleChange\n        }, {\n          default: function _default() {\n            return [_titleNode];\n          },\n          popup: function popup(_ref2) {\n            var visible = _ref2.visible;\n\n            var _a;\n\n            return _createVNode(MenuContextProvider, {\n              \"mode\": subMenuTriggerModeRef.value,\n              \"isRootMenu\": false\n            }, {\n              default: function _default() {\n                return [_createVNode(Transition, mergedMotion.value, {\n                  default: function _default() {\n                    return [_withDirectives(_createVNode(SubMenuList, {\n                      \"id\": popupId,\n                      \"ref\": popupRef\n                    }, {\n                      default: function _default() {\n                        return [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)];\n                      }\n                    }), [[_vShow, visible]])];\n                  }\n                })];\n              }\n            });\n          }\n        });\n      } else {\n        var _titleNode2 = function () {\n          return titleNode;\n        }(); // 包裹一层，保持结构一致，防止动画丢失\n        // https://github.com/vueComponent/ant-design-vue/issues/4325\n\n\n        titleNode = _createVNode(PopupTrigger, null, {\n          default: function _default() {\n            return [_titleNode2];\n          }\n        });\n      }\n\n      return _createVNode(MenuContextProvider, {\n        \"mode\": renderMode.value\n      }, {\n        default: function _default() {\n          return [_createVNode(Overflow.Item, _objectSpread(_objectSpread({\n            \"component\": \"li\"\n          }, attrs), {}, {\n            \"role\": \"none\",\n            \"class\": classNames(subMenuPrefixClsValue, \"\".concat(subMenuPrefixClsValue, \"-\").concat(mode.value), attrs.class, (_classNames = {}, _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-open\"), open.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-active\"), isActive.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-selected\"), childrenSelected.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-disabled\"), mergedDisabled.value), _classNames)),\n            \"onMouseenter\": onMouseEnter,\n            \"onMouseleave\": onMouseLeave,\n            \"data-submenu-id\": key\n          }), {\n            default: function _default() {\n              return [titleNode, !overflowDisabled.value && _createVNode(InlineSubMenuList, {\n                \"id\": popupId,\n                \"open\": open.value,\n                \"keyPath\": keysPath.value\n              }, {\n                default: function _default() {\n                  return [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)];\n                }\n              })];\n            }\n          })];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/menu/src/SubMenu.js"],"names":["_objectSpread","_defineProperty","_extends","_toConsumableArray","_typeof","resolveDirective","_resolveDirective","withDirectives","_withDirectives","vShow","_vShow","Fragment","_Fragment","createVNode","_createVNode","PropTypes","computed","defineComponent","getCurrentInstance","ref","watch","onBeforeUnmount","useProvideKeyPath","useInjectKeyPath","useInjectMenu","useProvideFirstLevel","MenuContextProvider","getPropsSlot","isValidElement","classNames","useDirectionStyle","PopupTrigger","SubMenuList","InlineSubMenuList","Transition","getTransitionProps","cloneElement","Overflow","devWarning","isValid","indexGuid","subMenuProps","icon","VNodeChild","title","disabled","Boolean","level","Number","popupClassName","String","popupOffset","Array","internalPopupClose","eventKey","expandIcon","Function","name","inheritAttrs","props","slots","emits","setup","_ref","attrs","emit","_a","_b","instance","vnodeKey","vnode","key","concat","_useInjectKeyPath","parentEventKeys","parentInfo","parentKeys","keysPath","value","eventKeysPath","childrenEventKeys","menuInfo","push","filter","k","_useInjectMenu","prefixCls","activeKeys","contextDisabled","changeActiveKeys","mode","inlineCollapsed","antdMenuTheme","openKeys","overflowDisabled","onOpenChange","registerMenuInfo","unRegisterMenuInfo","selectedSubMenuEventKeys","motion","defaultMotions","menuExpandIcon","subMenuPrefixCls","mergedDisabled","elementRef","popupRef","originOpen","includes","open","childrenSelected","isActive","find","val","immediate","onInternalTitleClick","e","onMouseEnter","event","onMouseLeave","directionStyle","length","onPopupVisibleChange","newVisible","onInternalFocus","popupId","renderTitle","charAt","titleIsSpan","type","class","triggerModeRef","renderMode","style","className","mergedMotion","m","other","res","undefined","subMenuTriggerModeRef","_classNames","subMenuPrefixClsValue","titleNode","isOpen","triggerMode","_titleNode","default","_default","popup","_ref2","visible","call","_titleNode2","Item"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { resolveDirective as _resolveDirective, withDirectives as _withDirectives, vShow as _vShow, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport { computed, defineComponent, getCurrentInstance, ref, watch, onBeforeUnmount } from 'vue';\nimport useProvideKeyPath, { useInjectKeyPath } from './hooks/useKeyPath';\nimport { useInjectMenu, useProvideFirstLevel, MenuContextProvider } from './hooks/useMenuContext';\nimport { getPropsSlot, isValidElement } from '../../_util/props-util';\nimport classNames from '../../_util/classNames';\nimport useDirectionStyle from './hooks/useDirectionStyle';\nimport PopupTrigger from './PopupTrigger';\nimport SubMenuList from './SubMenuList';\nimport InlineSubMenuList from './InlineSubMenuList';\nimport Transition, { getTransitionProps } from '../../_util/transition';\nimport { cloneElement } from '../../_util/vnode';\nimport Overflow from '../../vc-overflow';\nimport devWarning from '../../vc-util/devWarning';\nimport isValid from '../../_util/isValid';\nvar indexGuid = 0;\nvar subMenuProps = {\n  icon: PropTypes.VNodeChild,\n  title: PropTypes.VNodeChild,\n  disabled: Boolean,\n  level: Number,\n  popupClassName: String,\n  popupOffset: Array,\n  internalPopupClose: Boolean,\n  eventKey: String,\n  expandIcon: Function\n};\nexport default defineComponent({\n  name: 'ASubMenu',\n  inheritAttrs: false,\n  props: subMenuProps,\n  slots: ['icon', 'title', 'expandIcon'],\n  emits: ['titleClick', 'mouseenter', 'mouseleave'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _a, _b;\n\n    useProvideFirstLevel(false);\n    var instance = getCurrentInstance();\n    var vnodeKey = _typeof(instance.vnode.key) === 'symbol' ? String(instance.vnode.key) : instance.vnode.key;\n    devWarning(_typeof(instance.vnode.key) !== 'symbol', 'SubMenu', \"SubMenu `:key=\\\"\".concat(String(vnodeKey), \"\\\"` not support Symbol type\"));\n    var key = isValid(vnodeKey) ? vnodeKey : \"sub_menu_\".concat(++indexGuid, \"_$$_not_set_key\");\n    var eventKey = (_a = props.eventKey) !== null && _a !== void 0 ? _a : isValid(vnodeKey) ? \"sub_menu_\".concat(++indexGuid, \"_$$_\").concat(vnodeKey) : key;\n\n    var _useInjectKeyPath = useInjectKeyPath(),\n        parentEventKeys = _useInjectKeyPath.parentEventKeys,\n        parentInfo = _useInjectKeyPath.parentInfo,\n        parentKeys = _useInjectKeyPath.parentKeys;\n\n    var keysPath = computed(function () {\n      return [].concat(_toConsumableArray(parentKeys.value), [key]);\n    });\n    var eventKeysPath = computed(function () {\n      return [].concat(_toConsumableArray(parentEventKeys.value), [eventKey]);\n    });\n    var childrenEventKeys = ref([]);\n    var menuInfo = {\n      eventKey: eventKey,\n      key: key,\n      parentEventKeys: parentEventKeys,\n      childrenEventKeys: childrenEventKeys,\n      parentKeys: parentKeys\n    };\n    (_b = parentInfo.childrenEventKeys) === null || _b === void 0 ? void 0 : _b.value.push(eventKey);\n    onBeforeUnmount(function () {\n      var _a;\n\n      if (parentInfo.childrenEventKeys) {\n        parentInfo.childrenEventKeys.value = (_a = parentInfo.childrenEventKeys) === null || _a === void 0 ? void 0 : _a.value.filter(function (k) {\n          return k != eventKey;\n        });\n      }\n    });\n    useProvideKeyPath(eventKey, key, menuInfo);\n\n    var _useInjectMenu = useInjectMenu(),\n        prefixCls = _useInjectMenu.prefixCls,\n        activeKeys = _useInjectMenu.activeKeys,\n        contextDisabled = _useInjectMenu.disabled,\n        changeActiveKeys = _useInjectMenu.changeActiveKeys,\n        mode = _useInjectMenu.mode,\n        inlineCollapsed = _useInjectMenu.inlineCollapsed,\n        antdMenuTheme = _useInjectMenu.antdMenuTheme,\n        openKeys = _useInjectMenu.openKeys,\n        overflowDisabled = _useInjectMenu.overflowDisabled,\n        onOpenChange = _useInjectMenu.onOpenChange,\n        registerMenuInfo = _useInjectMenu.registerMenuInfo,\n        unRegisterMenuInfo = _useInjectMenu.unRegisterMenuInfo,\n        selectedSubMenuEventKeys = _useInjectMenu.selectedSubMenuEventKeys,\n        motion = _useInjectMenu.motion,\n        defaultMotions = _useInjectMenu.defaultMotions,\n        menuExpandIcon = _useInjectMenu.expandIcon;\n\n    registerMenuInfo(eventKey, menuInfo);\n    onBeforeUnmount(function () {\n      unRegisterMenuInfo(eventKey);\n    });\n    var subMenuPrefixCls = computed(function () {\n      return \"\".concat(prefixCls.value, \"-submenu\");\n    });\n    var mergedDisabled = computed(function () {\n      return contextDisabled.value || props.disabled;\n    });\n    var elementRef = ref();\n    var popupRef = ref(); // // ================================ Icon ================================\n    // const mergedItemIcon = itemIcon || contextItemIcon;\n    // const mergedExpandIcon = expandIcon || contextExpandIcon;\n    // ================================ Open ================================\n\n    var originOpen = computed(function () {\n      return openKeys.value.includes(key);\n    });\n    var open = computed(function () {\n      return !overflowDisabled.value && originOpen.value;\n    }); // =============================== Select ===============================\n\n    var childrenSelected = computed(function () {\n      return selectedSubMenuEventKeys.value.includes(eventKey);\n    });\n    var isActive = ref(false);\n    watch(activeKeys, function () {\n      isActive.value = !!activeKeys.value.find(function (val) {\n        return val === key;\n      });\n    }, {\n      immediate: true\n    }); // =============================== Events ===============================\n    // >>>> Title click\n\n    var onInternalTitleClick = function onInternalTitleClick(e) {\n      // Skip if disabled\n      if (mergedDisabled.value) {\n        return;\n      }\n\n      emit('titleClick', e, key); // Trigger open by click when mode is `inline`\n\n      if (mode.value === 'inline') {\n        onOpenChange(eventKey, !originOpen.value);\n      }\n    };\n\n    var onMouseEnter = function onMouseEnter(event) {\n      if (!mergedDisabled.value) {\n        changeActiveKeys(keysPath.value);\n        emit('mouseenter', event);\n      }\n    };\n\n    var onMouseLeave = function onMouseLeave(event) {\n      if (!mergedDisabled.value) {\n        changeActiveKeys([]);\n        emit('mouseleave', event);\n      }\n    }; // ========================== DirectionStyle ==========================\n\n\n    var directionStyle = useDirectionStyle(computed(function () {\n      return eventKeysPath.value.length;\n    })); // >>>>> Visible change\n\n    var onPopupVisibleChange = function onPopupVisibleChange(newVisible) {\n      if (mode.value !== 'inline') {\n        onOpenChange(eventKey, newVisible);\n      }\n    };\n    /**\n     * Used for accessibility. Helper will focus element without key board.\n     * We should manually trigger an active\n     */\n\n\n    var onInternalFocus = function onInternalFocus() {\n      changeActiveKeys(keysPath.value);\n    }; // =============================== Render ===============================\n\n\n    var popupId = eventKey && \"\".concat(eventKey, \"-popup\");\n    var popupClassName = computed(function () {\n      return classNames(prefixCls.value, \"\".concat(prefixCls.value, \"-\").concat(antdMenuTheme.value), props.popupClassName);\n    });\n\n    var renderTitle = function renderTitle(title, icon) {\n      if (!icon) {\n        return inlineCollapsed.value && !parentEventKeys.value.length && title && typeof title === 'string' ? _createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls.value, \"-inline-collapsed-noicon\")\n        }, [title.charAt(0)]) : _createVNode(\"span\", {\n          \"class\": \"\".concat(prefixCls.value, \"-title-content\")\n        }, [title]);\n      } // inline-collapsed.md demo 依赖 span 来隐藏文字,有 icon 属性，则内部包裹一个 span\n      // ref: https://github.com/ant-design/ant-design/pull/23456\n\n\n      var titleIsSpan = isValidElement(title) && title.type === 'span';\n      return _createVNode(_Fragment, null, [cloneElement(icon, {\n        class: \"\".concat(prefixCls.value, \"-item-icon\")\n      }, false), titleIsSpan ? title : _createVNode(\"span\", {\n        \"class\": \"\".concat(prefixCls.value, \"-title-content\")\n      }, [title])]);\n    }; // Cache mode if it change to `inline` which do not have popup motion\n\n\n    var triggerModeRef = computed(function () {\n      return mode.value !== 'inline' && eventKeysPath.value.length > 1 ? 'vertical' : mode.value;\n    });\n    var renderMode = computed(function () {\n      return mode.value === 'horizontal' ? 'vertical' : mode.value;\n    });\n    var style = ref({});\n    var className = ref('');\n    var mergedMotion = computed(function () {\n      var _a, _b;\n\n      var m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[mode.value]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      var res = typeof m === 'function' ? m(style, className) : m;\n      return res ? getTransitionProps(res.name) : undefined;\n    });\n    var subMenuTriggerModeRef = computed(function () {\n      return triggerModeRef.value === 'horizontal' ? 'vertical' : triggerModeRef.value;\n    });\n    return function () {\n      var _classNames;\n\n      var _a;\n\n      var icon = getPropsSlot(slots, props, 'icon');\n      var title = renderTitle(getPropsSlot(slots, props, 'title'), icon);\n      var subMenuPrefixClsValue = subMenuPrefixCls.value;\n      var expandIcon = props.expandIcon || slots.expandIcon || menuExpandIcon;\n\n      var titleNode = _createVNode(\"div\", {\n        \"style\": directionStyle.value,\n        \"class\": \"\".concat(subMenuPrefixClsValue, \"-title\"),\n        \"tabindex\": mergedDisabled.value ? null : -1,\n        \"ref\": elementRef,\n        \"title\": typeof title === 'string' ? title : null,\n        \"data-menu-id\": key,\n        \"aria-expanded\": open.value,\n        \"aria-haspopup\": true,\n        \"aria-controls\": popupId,\n        \"aria-disabled\": mergedDisabled.value,\n        \"onClick\": onInternalTitleClick,\n        \"onFocus\": onInternalFocus\n      }, [title, mode.value !== 'horizontal' && expandIcon ? expandIcon(_extends(_extends({}, props), {\n        isOpen: open.value\n      })) : _createVNode(\"i\", {\n        \"class\": \"\".concat(subMenuPrefixClsValue, \"-arrow\")\n      }, null)]);\n\n      if (!overflowDisabled.value && mode.value !== 'inline') {\n        var triggerMode = triggerModeRef.value;\n\n        var _titleNode = function () {\n          return titleNode;\n        }();\n\n        titleNode = _createVNode(PopupTrigger, {\n          \"mode\": triggerMode,\n          \"prefixCls\": subMenuPrefixClsValue,\n          \"visible\": !props.internalPopupClose && open.value,\n          \"popupClassName\": popupClassName.value,\n          \"popupOffset\": props.popupOffset,\n          \"disabled\": mergedDisabled.value,\n          \"onVisibleChange\": onPopupVisibleChange\n        }, {\n          default: function _default() {\n            return [_titleNode];\n          },\n          popup: function popup(_ref2) {\n            var visible = _ref2.visible;\n\n            var _a;\n\n            return _createVNode(MenuContextProvider, {\n              \"mode\": subMenuTriggerModeRef.value,\n              \"isRootMenu\": false\n            }, {\n              default: function _default() {\n                return [_createVNode(Transition, mergedMotion.value, {\n                  default: function _default() {\n                    return [_withDirectives(_createVNode(SubMenuList, {\n                      \"id\": popupId,\n                      \"ref\": popupRef\n                    }, {\n                      default: function _default() {\n                        return [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)];\n                      }\n                    }), [[_vShow, visible]])];\n                  }\n                })];\n              }\n            });\n          }\n        });\n      } else {\n        var _titleNode2 = function () {\n          return titleNode;\n        }();\n\n        // 包裹一层，保持结构一致，防止动画丢失\n        // https://github.com/vueComponent/ant-design-vue/issues/4325\n        titleNode = _createVNode(PopupTrigger, null, {\n          default: function _default() {\n            return [_titleNode2];\n          }\n        });\n      }\n\n      return _createVNode(MenuContextProvider, {\n        \"mode\": renderMode.value\n      }, {\n        default: function _default() {\n          return [_createVNode(Overflow.Item, _objectSpread(_objectSpread({\n            \"component\": \"li\"\n          }, attrs), {}, {\n            \"role\": \"none\",\n            \"class\": classNames(subMenuPrefixClsValue, \"\".concat(subMenuPrefixClsValue, \"-\").concat(mode.value), attrs.class, (_classNames = {}, _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-open\"), open.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-active\"), isActive.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-selected\"), childrenSelected.value), _defineProperty(_classNames, \"\".concat(subMenuPrefixClsValue, \"-disabled\"), mergedDisabled.value), _classNames)),\n            \"onMouseenter\": onMouseEnter,\n            \"onMouseleave\": onMouseLeave,\n            \"data-submenu-id\": key\n          }), {\n            default: function _default() {\n              return [titleNode, !overflowDisabled.value && _createVNode(InlineSubMenuList, {\n                \"id\": popupId,\n                \"open\": open.value,\n                \"keyPath\": keysPath.value\n              }, {\n                default: function _default() {\n                  return [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)];\n                }\n              })];\n            }\n          })];\n        }\n      });\n    };\n  }\n});"]},"metadata":{},"sourceType":"module"}