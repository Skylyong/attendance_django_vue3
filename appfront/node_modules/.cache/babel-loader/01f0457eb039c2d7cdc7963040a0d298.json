{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classnames from '../../_util/classNames';\nimport { Teleport, nextTick, defineComponent } from 'vue';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { initDefaultProps, getSlot } from '../../_util/props-util';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport { IDrawerProps } from './IDrawerPropTypes';\nimport KeyCode from '../../_util/KeyCode';\nimport { dataToArray, transitionEnd, transitionStr, addEventListener, removeEventListener, transformArguments, isNumeric } from './utils';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { cloneElement } from '../../_util/vnode';\n\nfunction noop() {}\n\nvar currentDrawer = {};\nvar windowIsUndefined = !(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar Drawer = defineComponent({\n  name: 'Drawer',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(IDrawerProps, {\n    prefixCls: 'drawer',\n    placement: 'left',\n    getContainer: 'body',\n    level: 'all',\n    duration: '.3s',\n    ease: 'cubic-bezier(0.78, 0.14, 0.15, 0.86)',\n    firstEnter: false,\n    showMask: true,\n    handler: true,\n    maskStyle: {},\n    wrapperClassName: ''\n  }),\n  data: function data() {\n    this.levelDom = [];\n    this.contentDom = null;\n    this.maskDom = null;\n    this.handlerdom = null;\n    this.mousePos = null;\n    this.sFirstEnter = this.firstEnter;\n    this.timeout = null;\n    this.children = null;\n    this.dom = null;\n    this.drawerId = Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9))).toString(16);\n    var open = this.open !== undefined ? this.open : !!this.defaultOpen;\n    currentDrawer[this.drawerId] = open;\n    this.orignalOpen = this.open;\n    this.preProps = _extends({}, this.$props);\n    return {\n      sOpen: open,\n      isOpenChange: undefined,\n      passive: undefined,\n      container: undefined\n    };\n  },\n  watch: {\n    open: function (_open) {\n      function open(_x) {\n        return _open.apply(this, arguments);\n      }\n\n      open.toString = function () {\n        return _open.toString();\n      };\n\n      return open;\n    }(function (val) {\n      var _this = this;\n\n      if (val !== undefined && val !== this.preProps.open) {\n        this.isOpenChange = true; // 没渲染 dom 时，获取默认数据;\n\n        if (!this.container) {\n          this.getDefault(this.$props);\n        }\n\n        this.setState({\n          sOpen: open\n        });\n      }\n\n      this.preProps.open = val;\n\n      if (val) {\n        setTimeout(function () {\n          _this.domFocus();\n        });\n      }\n    }),\n    placement: function placement(val) {\n      if (val !== this.preProps.placement) {\n        // test 的 bug, 有动画过场，删除 dom\n        this.contentDom = null;\n      }\n\n      this.preProps.placement = val;\n    },\n    level: function level(val) {\n      if (this.preProps.level !== val) {\n        this.getParentAndLevelDom(this.$props);\n      }\n\n      this.preProps.level = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    nextTick(function () {\n      if (!windowIsUndefined) {\n        _this2.passive = supportsPassive ? {\n          passive: false\n        } : false;\n      }\n\n      var open = _this2.getOpen();\n\n      if (_this2.handler || open || _this2.sFirstEnter) {\n        _this2.getDefault(_this2.$props);\n\n        if (open) {\n          _this2.isOpenChange = true;\n          nextTick(function () {\n            _this2.domFocus();\n          });\n        }\n\n        _this2.$forceUpdate();\n      }\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    nextTick(function () {\n      // dom 没渲染时，重走一遍。\n      if (!_this3.sFirstEnter && _this3.container) {\n        _this3.$forceUpdate();\n\n        _this3.sFirstEnter = true;\n      }\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    delete currentDrawer[this.drawerId];\n    delete this.isOpenChange;\n\n    if (this.container) {\n      if (this.sOpen) {\n        this.setLevelDomTransform(false, true);\n      }\n\n      document.body.style.overflow = '';\n    }\n\n    this.sFirstEnter = false;\n    clearTimeout(this.timeout);\n  },\n  methods: {\n    domFocus: function domFocus() {\n      if (this.dom) {\n        this.dom.focus();\n      }\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n\n        this.__emit('close', e);\n      }\n    },\n    onMaskTouchEnd: function onMaskTouchEnd(e) {\n      this.__emit('close', e);\n\n      this.onTouchEnd(e, true);\n    },\n    onIconTouchEnd: function onIconTouchEnd(e) {\n      this.__emit('handleClick', e);\n\n      this.onTouchEnd(e);\n    },\n    onTouchEnd: function onTouchEnd(e, close) {\n      if (this.open !== undefined) {\n        return;\n      }\n\n      var open = close || this.sOpen;\n      this.isOpenChange = true;\n      this.setState({\n        sOpen: !open\n      });\n    },\n    onWrapperTransitionEnd: function onWrapperTransitionEnd(e) {\n      if (e.target === this.contentWrapper && e.propertyName.match(/transform$/)) {\n        var _open2 = this.getOpen();\n\n        this.dom.style.transition = '';\n\n        if (!_open2 && this.getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n\n          if (this.maskDom) {\n            this.maskDom.style.left = '';\n            this.maskDom.style.width = '';\n          }\n        }\n\n        if (this.afterVisibleChange) {\n          this.afterVisibleChange(!!_open2);\n        }\n      }\n    },\n    getDefault: function getDefault(props) {\n      this.getParentAndLevelDom(props);\n\n      if (props.getContainer || props.parent) {\n        this.container = this.defaultGetContainer();\n      }\n    },\n    getCurrentDrawerSome: function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    },\n    getSelfContainer: function getSelfContainer() {\n      return this.container;\n    },\n    getParentAndLevelDom: function getParentAndLevelDom(props) {\n      var _this4 = this;\n\n      if (windowIsUndefined) {\n        return;\n      }\n\n      var level = props.level,\n          getContainer = props.getContainer;\n      this.levelDom = [];\n\n      if (getContainer) {\n        if (typeof getContainer === 'string') {\n          var dom = document.querySelectorAll(getContainer)[0];\n          this.parent = dom;\n        }\n\n        if (typeof getContainer === 'function') {\n          this.parent = getContainer();\n        }\n\n        if (_typeof(getContainer) === 'object' && getContainer instanceof window.HTMLElement) {\n          this.parent = getContainer;\n        }\n      }\n\n      if (!getContainer && this.container) {\n        this.parent = this.container.parentNode;\n      }\n\n      if (level === 'all') {\n        var children = Array.prototype.slice.call(this.parent.children);\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== _this4.container) {\n            _this4.levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            _this4.levelDom.push(item);\n          });\n        });\n      }\n    },\n    setLevelDomTransform: function setLevelDomTransform(open, openTransition, placementName, value) {\n      var _this5 = this;\n\n      var _this$$props = this.$props,\n          placement = _this$$props.placement,\n          levelMove = _this$$props.levelMove,\n          duration = _this$$props.duration,\n          ease = _this$$props.ease,\n          getContainer = _this$$props.getContainer;\n\n      if (!windowIsUndefined) {\n        this.levelDom.forEach(function (dom) {\n          if (dom && (_this5.isOpenChange || openTransition)) {\n            /* eslint no-param-reassign: \"error\" */\n            dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n            addEventListener(dom, transitionEnd, _this5.trnasitionEnd);\n            var levelValue = open ? value : 0;\n\n            if (levelMove) {\n              var $levelMove = transformArguments(levelMove, {\n                target: dom,\n                open: open\n              });\n              levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n            }\n\n            var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n            var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n            dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n            dom.style.msTransform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n          }\n        }); // 处理 body 滚动\n\n        if (getContainer === 'body') {\n          var eventArray = ['touchstart'];\n          var domArray = [document.body, this.maskDom, this.handlerdom, this.contentDom];\n          var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(1) : 0;\n          var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n          var trannsformTransition = \"transform \".concat(duration, \" \").concat(ease);\n\n          if (open && document.body.style.overflow !== 'hidden') {\n            document.body.style.overflow = 'hidden';\n\n            if (right) {\n              document.body.style.position = 'relative';\n              document.body.style.width = \"calc(100% - \".concat(right, \"px)\");\n              clearTimeout(this.timeout);\n\n              if (this.dom) {\n                this.dom.style.transition = 'none';\n\n                switch (placement) {\n                  case 'right':\n                    this.dom.style.transform = \"translateX(-\".concat(right, \"px)\");\n                    this.dom.style.msTransform = \"translateX(-\".concat(right, \"px)\");\n                    break;\n\n                  case 'top':\n                  case 'bottom':\n                    this.dom.style.width = \"calc(100% - \".concat(right, \"px)\");\n                    this.dom.style.transform = 'translateZ(0)';\n                    break;\n\n                  default:\n                    break;\n                }\n\n                this.timeout = setTimeout(function () {\n                  _this5.dom.style.transition = \"\".concat(trannsformTransition, \",\").concat(widthTransition);\n                  _this5.dom.style.width = '';\n                  _this5.dom.style.transform = '';\n                  _this5.dom.style.msTransform = '';\n                });\n              }\n            } // 手机禁滚\n\n\n            domArray.forEach(function (item, i) {\n              if (!item) {\n                return;\n              }\n\n              addEventListener(item, eventArray[i] || 'touchmove', i ? _this5.removeMoveHandler : _this5.removeStartHandler, _this5.passive);\n            });\n          } else if (this.getCurrentDrawerSome()) {\n            document.body.style.overflow = '';\n\n            if ((this.isOpenChange || openTransition) && right) {\n              document.body.style.position = '';\n              document.body.style.width = '';\n\n              if (transitionStr) {\n                document.body.style.overflowX = 'hidden';\n              }\n\n              if (placement === 'right' && this.maskDom) {\n                this.maskDom.style.left = \"-\".concat(right, \"px\");\n                this.maskDom.style.width = \"calc(100% + \".concat(right, \"px)\");\n              }\n\n              clearTimeout(this.timeout);\n\n              if (this.dom) {\n                this.dom.style.transition = 'none';\n                var heightTransition;\n\n                switch (placement) {\n                  case 'right':\n                    {\n                      this.dom.style.transform = \"translateX(\".concat(right, \"px)\");\n                      this.dom.style.msTransform = \"translateX(\".concat(right, \"px)\");\n                      this.dom.style.width = '100%';\n                      widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n                      break;\n                    }\n\n                  case 'top':\n                  case 'bottom':\n                    {\n                      this.dom.style.width = \"calc(100% + \".concat(right, \"px)\");\n                      this.dom.style.height = '100%';\n                      this.dom.style.transform = 'translateZ(0)';\n                      heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n                      break;\n                    }\n\n                  default:\n                    break;\n                }\n\n                this.timeout = setTimeout(function () {\n                  _this5.dom.style.transition = \"\".concat(trannsformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n                  _this5.dom.style.transform = '';\n                  _this5.dom.style.msTransform = '';\n                  _this5.dom.style.width = '';\n                  _this5.dom.style.height = '';\n                });\n              }\n            }\n\n            domArray.forEach(function (item, i) {\n              if (!item) {\n                return;\n              }\n\n              removeEventListener(item, eventArray[i] || 'touchmove', i ? _this5.removeMoveHandler : _this5.removeStartHandler, _this5.passive);\n            });\n          }\n        }\n      }\n\n      var onChange = this.$attrs.onChange;\n\n      if (onChange && this.isOpenChange && this.sFirstEnter) {\n        onChange(open);\n        this.isOpenChange = false;\n      }\n    },\n    getChildToRender: function getChildToRender(open) {\n      var _classnames,\n          _this6 = this,\n          _touchEvents;\n\n      var _this$$props2 = this.$props,\n          prefixCls = _this$$props2.prefixCls,\n          placement = _this$$props2.placement,\n          handler = _this$$props2.handler,\n          showMask = _this$$props2.showMask,\n          maskStyle = _this$$props2.maskStyle,\n          width = _this$$props2.width,\n          height = _this$$props2.height,\n          wrapStyle = _this$$props2.wrapStyle,\n          keyboard = _this$$props2.keyboard,\n          maskClosable = _this$$props2.maskClosable;\n\n      var _a = this.$attrs,\n          cls = _a.class,\n          style = _a.style,\n          restAttrs = __rest(_a, [\"class\", \"style\"]);\n\n      var children = getSlot(this);\n      var wrapperClassname = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, 'no-mask', !showMask), _defineProperty(_classnames, cls, cls), _classnames));\n      var isOpenChange = this.isOpenChange;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y'); // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n\n      if (isOpenChange === undefined || isOpenChange) {\n        var contentValue = this.contentDom ? this.contentDom.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n        var value = (isHorizontal ? width : height) || contentValue;\n        this.setLevelDomTransform(open, false, placementName, value);\n      }\n\n      var handlerChildren;\n\n      if (handler !== false) {\n        var handlerDefalut = _createVNode(\"div\", {\n          \"class\": \"drawer-handle\",\n          \"onClick\": function onClick() {}\n        }, [_createVNode(\"i\", {\n          \"class\": \"drawer-handle-icon\"\n        }, null)]);\n\n        var handlerSlot = this.handler;\n        var handlerSlotVnode = handlerSlot || handlerDefalut;\n        var handleIconClick = handlerSlotVnode.props && handlerSlotVnode.props.onClick;\n        handlerChildren = cloneElement(handlerSlotVnode, {\n          onClick: function onClick(e) {\n            handleIconClick && handleIconClick(e);\n\n            _this6.onIconTouchEnd(e);\n          },\n          ref: function ref(c) {\n            _this6.handlerdom = c;\n          }\n        });\n      }\n\n      var domContProps = _extends(_extends({}, restAttrs), {\n        class: wrapperClassname,\n        onTransitionend: this.onWrapperTransitionEnd,\n        onKeydown: open && keyboard ? this.onKeyDown : noop,\n        style: _extends(_extends({}, wrapStyle), style)\n      }); // 跑用例用\n\n\n      var touchEvents = (_touchEvents = {}, _defineProperty(_touchEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', open ? this.removeStartHandler : noop), _defineProperty(_touchEvents, supportsPassive ? 'onTouchmovePassive' : 'onTouchmove', open ? this.removeMoveHandler : noop), _touchEvents);\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"ref\": function ref(c) {\n          _this6.dom = c;\n        }\n      }, domContProps), {}, {\n        \"tabindex\": -1\n      }), [showMask && _createVNode(\"div\", {\n        \"key\": open,\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? this.onMaskTouchEnd : noop,\n        \"style\": maskStyle,\n        \"ref\": function ref(c) {\n          _this6.maskDom = c;\n        }\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": {\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        },\n        \"ref\": function ref(c) {\n          _this6.contentWrapper = c;\n        }\n      }, [_createVNode(\"div\", _objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": function ref(c) {\n          _this6.contentDom = c;\n        }\n      }, touchEvents), [children]), handlerChildren])]);\n    },\n    getOpen: function getOpen() {\n      return this.open !== undefined ? this.open : this.sOpen;\n    },\n    getTouchParentScroll: function getTouchParentScroll(root, currentTarget, differX, differY) {\n      if (!currentTarget || currentTarget === document) {\n        return false;\n      } // root 为 drawer-content 设定了 overflow, 判断为 root 的 parent 时结束滚动；\n\n\n      if (currentTarget === root.parentNode) {\n        return true;\n      }\n\n      var isY = Math.max(Math.abs(differX), Math.abs(differY)) === Math.abs(differY);\n      var isX = Math.max(Math.abs(differX), Math.abs(differY)) === Math.abs(differX);\n      var scrollY = currentTarget.scrollHeight - currentTarget.clientHeight;\n      var scrollX = currentTarget.scrollWidth - currentTarget.clientWidth;\n      /**\n       * <div style=\"height: 300px\">\n       *   <div style=\"height: 900px\"></div>\n       * </div>\n       * 在没设定 overflow: auto 或 scroll 时，currentTarget 里获取不到 scrollTop 或 scrollLeft,\n       * 预先用 scrollTo 来滚动，如果取出的值跟滚动前取出不同，则 currnetTarget 被设定了 overflow; 否则就是上面这种。\n       */\n\n      var t = currentTarget.scrollTop;\n      var l = currentTarget.scrollLeft;\n\n      if (currentTarget.scrollTo) {\n        currentTarget.scrollTo(currentTarget.scrollLeft + 1, currentTarget.scrollTop + 1);\n      }\n\n      var currentT = currentTarget.scrollTop;\n      var currentL = currentTarget.scrollLeft;\n\n      if (currentTarget.scrollTo) {\n        currentTarget.scrollTo(currentTarget.scrollLeft - 1, currentTarget.scrollTop - 1);\n      }\n\n      if (isY && (!scrollY || !(currentT - t) || scrollY && (currentTarget.scrollTop >= scrollY && differY < 0 || currentTarget.scrollTop <= 0 && differY > 0)) || isX && (!scrollX || !(currentL - l) || scrollX && (currentTarget.scrollLeft >= scrollX && differX < 0 || currentTarget.scrollLeft <= 0 && differX > 0))) {\n        return this.getTouchParentScroll(root, currentTarget.parentNode, differX, differY);\n      }\n\n      return false;\n    },\n    removeStartHandler: function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      this.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    },\n    removeMoveHandler: function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - this.startPos.x;\n      var differY = e.changedTouches[0].clientY - this.startPos.y;\n\n      if (currentTarget === this.maskDom || currentTarget === this.handlerdom || currentTarget === this.contentDom && this.getTouchParentScroll(currentTarget, e.target, differX, differY)) {\n        e.preventDefault();\n      }\n    },\n    trnasitionEnd: function trnasitionEnd(e) {\n      removeEventListener(e.target, transitionEnd, this.trnasitionEnd);\n      e.target.style.transition = '';\n    },\n    defaultGetContainer: function defaultGetContainer() {\n      if (windowIsUndefined) {\n        return null;\n      }\n\n      var container = document.createElement('div');\n      this.parent.appendChild(container);\n\n      if (this.wrapperClassName) {\n        container.className = this.wrapperClassName;\n      }\n\n      return container;\n    }\n  },\n  render: function render() {\n    var _this7 = this;\n\n    var _this$$props3 = this.$props,\n        getContainer = _this$$props3.getContainer,\n        wrapperClassName = _this$$props3.wrapperClassName,\n        handler = _this$$props3.handler,\n        forceRender = _this$$props3.forceRender;\n    var open = this.getOpen();\n    var portal = null;\n    currentDrawer[this.drawerId] = open ? this.container : open;\n    var children = this.getChildToRender(this.sFirstEnter ? open : false);\n\n    if (!getContainer) {\n      return _createVNode(\"div\", {\n        \"class\": wrapperClassName,\n        \"ref\": function ref(c) {\n          _this7.container = c;\n        }\n      }, [children]);\n    }\n\n    if (!this.container || !open && !this.sFirstEnter) {\n      return null;\n    } // 如果有 handler 为内置强制渲染；\n\n\n    var $forceRender = !!handler || forceRender;\n\n    if ($forceRender || open || this.dom) {\n      portal = _createVNode(Teleport, {\n        \"to\": this.getSelfContainer()\n      }, {\n        default: function _default() {\n          return [children];\n        }\n      });\n    }\n\n    return portal;\n  }\n});\nexport default Drawer;","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/node_modules/ant-design-vue/es/vc-drawer/src/Drawer.js"],"names":["_objectSpread","_defineProperty","_typeof","_extends","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","classnames","Teleport","nextTick","defineComponent","BaseMixin","initDefaultProps","getSlot","getScrollBarSize","IDrawerProps","KeyCode","dataToArray","transitionEnd","transitionStr","addEventListener","removeEventListener","transformArguments","isNumeric","supportsPassive","cloneElement","noop","currentDrawer","windowIsUndefined","window","document","createElement","Drawer","name","mixins","inheritAttrs","props","prefixCls","placement","getContainer","level","duration","ease","firstEnter","showMask","handler","maskStyle","wrapperClassName","data","levelDom","contentDom","maskDom","handlerdom","mousePos","sFirstEnter","timeout","children","dom","drawerId","Number","Date","now","Math","random","toString","replace","round","open","undefined","defaultOpen","orignalOpen","preProps","$props","sOpen","isOpenChange","passive","container","watch","_open","_x","apply","arguments","val","_this","getDefault","setState","setTimeout","domFocus","getParentAndLevelDom","mounted","_this2","getOpen","$forceUpdate","updated","_this3","beforeUnmount","setLevelDomTransform","body","style","overflow","clearTimeout","methods","focus","onKeyDown","keyCode","ESC","stopPropagation","__emit","onMaskTouchEnd","onTouchEnd","onIconTouchEnd","close","onWrapperTransitionEnd","target","contentWrapper","propertyName","match","_open2","transition","getCurrentDrawerSome","overflowX","left","width","afterVisibleChange","parent","defaultGetContainer","keys","some","key","getSelfContainer","_this4","querySelectorAll","HTMLElement","parentNode","Array","slice","forEach","child","nodeName","push","item","openTransition","placementName","value","_this5","_this$$props","levelMove","concat","trnasitionEnd","levelValue","$levelMove","$value","placementPos","transform","msTransform","eventArray","domArray","right","scrollHeight","innerHeight","documentElement","clientHeight","innerWidth","offsetWidth","widthTransition","trannsformTransition","position","removeMoveHandler","removeStartHandler","heightTransition","height","onChange","$attrs","getChildToRender","_classnames","_this6","_touchEvents","_this$$props2","wrapStyle","keyboard","maskClosable","_a","cls","class","restAttrs","wrapperClassname","isHorizontal","contentValue","getBoundingClientRect","handlerChildren","handlerDefalut","onClick","handlerSlot","handlerSlotVnode","handleIconClick","ref","c","domContProps","onTransitionend","onKeydown","touchEvents","getTouchParentScroll","root","currentTarget","differX","differY","isY","max","abs","isX","scrollY","scrollX","scrollWidth","clientWidth","scrollTop","l","scrollLeft","scrollTo","currentT","currentL","touches","startPos","x","clientX","y","clientY","changedTouches","preventDefault","appendChild","className","render","_this7","_this$$props3","forceRender","portal","$forceRender","default","_default"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classnames from '../../_util/classNames';\nimport { Teleport, nextTick, defineComponent } from 'vue';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { initDefaultProps, getSlot } from '../../_util/props-util';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport { IDrawerProps } from './IDrawerPropTypes';\nimport KeyCode from '../../_util/KeyCode';\nimport { dataToArray, transitionEnd, transitionStr, addEventListener, removeEventListener, transformArguments, isNumeric } from './utils';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { cloneElement } from '../../_util/vnode';\n\nfunction noop() {}\n\nvar currentDrawer = {};\nvar windowIsUndefined = !(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar Drawer = defineComponent({\n  name: 'Drawer',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(IDrawerProps, {\n    prefixCls: 'drawer',\n    placement: 'left',\n    getContainer: 'body',\n    level: 'all',\n    duration: '.3s',\n    ease: 'cubic-bezier(0.78, 0.14, 0.15, 0.86)',\n    firstEnter: false,\n    showMask: true,\n    handler: true,\n    maskStyle: {},\n    wrapperClassName: ''\n  }),\n  data: function data() {\n    this.levelDom = [];\n    this.contentDom = null;\n    this.maskDom = null;\n    this.handlerdom = null;\n    this.mousePos = null;\n    this.sFirstEnter = this.firstEnter;\n    this.timeout = null;\n    this.children = null;\n    this.dom = null;\n    this.drawerId = Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9))).toString(16);\n    var open = this.open !== undefined ? this.open : !!this.defaultOpen;\n    currentDrawer[this.drawerId] = open;\n    this.orignalOpen = this.open;\n    this.preProps = _extends({}, this.$props);\n    return {\n      sOpen: open,\n      isOpenChange: undefined,\n      passive: undefined,\n      container: undefined\n    };\n  },\n  watch: {\n    open: function (_open) {\n      function open(_x) {\n        return _open.apply(this, arguments);\n      }\n\n      open.toString = function () {\n        return _open.toString();\n      };\n\n      return open;\n    }(function (val) {\n      var _this = this;\n\n      if (val !== undefined && val !== this.preProps.open) {\n        this.isOpenChange = true; // 没渲染 dom 时，获取默认数据;\n\n        if (!this.container) {\n          this.getDefault(this.$props);\n        }\n\n        this.setState({\n          sOpen: open\n        });\n      }\n\n      this.preProps.open = val;\n\n      if (val) {\n        setTimeout(function () {\n          _this.domFocus();\n        });\n      }\n    }),\n    placement: function placement(val) {\n      if (val !== this.preProps.placement) {\n        // test 的 bug, 有动画过场，删除 dom\n        this.contentDom = null;\n      }\n\n      this.preProps.placement = val;\n    },\n    level: function level(val) {\n      if (this.preProps.level !== val) {\n        this.getParentAndLevelDom(this.$props);\n      }\n\n      this.preProps.level = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    nextTick(function () {\n      if (!windowIsUndefined) {\n        _this2.passive = supportsPassive ? {\n          passive: false\n        } : false;\n      }\n\n      var open = _this2.getOpen();\n\n      if (_this2.handler || open || _this2.sFirstEnter) {\n        _this2.getDefault(_this2.$props);\n\n        if (open) {\n          _this2.isOpenChange = true;\n          nextTick(function () {\n            _this2.domFocus();\n          });\n        }\n\n        _this2.$forceUpdate();\n      }\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    nextTick(function () {\n      // dom 没渲染时，重走一遍。\n      if (!_this3.sFirstEnter && _this3.container) {\n        _this3.$forceUpdate();\n\n        _this3.sFirstEnter = true;\n      }\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    delete currentDrawer[this.drawerId];\n    delete this.isOpenChange;\n\n    if (this.container) {\n      if (this.sOpen) {\n        this.setLevelDomTransform(false, true);\n      }\n\n      document.body.style.overflow = '';\n    }\n\n    this.sFirstEnter = false;\n    clearTimeout(this.timeout);\n  },\n  methods: {\n    domFocus: function domFocus() {\n      if (this.dom) {\n        this.dom.focus();\n      }\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n\n        this.__emit('close', e);\n      }\n    },\n    onMaskTouchEnd: function onMaskTouchEnd(e) {\n      this.__emit('close', e);\n\n      this.onTouchEnd(e, true);\n    },\n    onIconTouchEnd: function onIconTouchEnd(e) {\n      this.__emit('handleClick', e);\n\n      this.onTouchEnd(e);\n    },\n    onTouchEnd: function onTouchEnd(e, close) {\n      if (this.open !== undefined) {\n        return;\n      }\n\n      var open = close || this.sOpen;\n      this.isOpenChange = true;\n      this.setState({\n        sOpen: !open\n      });\n    },\n    onWrapperTransitionEnd: function onWrapperTransitionEnd(e) {\n      if (e.target === this.contentWrapper && e.propertyName.match(/transform$/)) {\n        var _open2 = this.getOpen();\n\n        this.dom.style.transition = '';\n\n        if (!_open2 && this.getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n\n          if (this.maskDom) {\n            this.maskDom.style.left = '';\n            this.maskDom.style.width = '';\n          }\n        }\n\n        if (this.afterVisibleChange) {\n          this.afterVisibleChange(!!_open2);\n        }\n      }\n    },\n    getDefault: function getDefault(props) {\n      this.getParentAndLevelDom(props);\n\n      if (props.getContainer || props.parent) {\n        this.container = this.defaultGetContainer();\n      }\n    },\n    getCurrentDrawerSome: function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    },\n    getSelfContainer: function getSelfContainer() {\n      return this.container;\n    },\n    getParentAndLevelDom: function getParentAndLevelDom(props) {\n      var _this4 = this;\n\n      if (windowIsUndefined) {\n        return;\n      }\n\n      var level = props.level,\n          getContainer = props.getContainer;\n      this.levelDom = [];\n\n      if (getContainer) {\n        if (typeof getContainer === 'string') {\n          var dom = document.querySelectorAll(getContainer)[0];\n          this.parent = dom;\n        }\n\n        if (typeof getContainer === 'function') {\n          this.parent = getContainer();\n        }\n\n        if (_typeof(getContainer) === 'object' && getContainer instanceof window.HTMLElement) {\n          this.parent = getContainer;\n        }\n      }\n\n      if (!getContainer && this.container) {\n        this.parent = this.container.parentNode;\n      }\n\n      if (level === 'all') {\n        var children = Array.prototype.slice.call(this.parent.children);\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== _this4.container) {\n            _this4.levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            _this4.levelDom.push(item);\n          });\n        });\n      }\n    },\n    setLevelDomTransform: function setLevelDomTransform(open, openTransition, placementName, value) {\n      var _this5 = this;\n\n      var _this$$props = this.$props,\n          placement = _this$$props.placement,\n          levelMove = _this$$props.levelMove,\n          duration = _this$$props.duration,\n          ease = _this$$props.ease,\n          getContainer = _this$$props.getContainer;\n\n      if (!windowIsUndefined) {\n        this.levelDom.forEach(function (dom) {\n          if (dom && (_this5.isOpenChange || openTransition)) {\n            /* eslint no-param-reassign: \"error\" */\n            dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n            addEventListener(dom, transitionEnd, _this5.trnasitionEnd);\n            var levelValue = open ? value : 0;\n\n            if (levelMove) {\n              var $levelMove = transformArguments(levelMove, {\n                target: dom,\n                open: open\n              });\n              levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n            }\n\n            var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n            var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n            dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n            dom.style.msTransform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n          }\n        }); // 处理 body 滚动\n\n        if (getContainer === 'body') {\n          var eventArray = ['touchstart'];\n          var domArray = [document.body, this.maskDom, this.handlerdom, this.contentDom];\n          var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(1) : 0;\n          var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n          var trannsformTransition = \"transform \".concat(duration, \" \").concat(ease);\n\n          if (open && document.body.style.overflow !== 'hidden') {\n            document.body.style.overflow = 'hidden';\n\n            if (right) {\n              document.body.style.position = 'relative';\n              document.body.style.width = \"calc(100% - \".concat(right, \"px)\");\n              clearTimeout(this.timeout);\n\n              if (this.dom) {\n                this.dom.style.transition = 'none';\n\n                switch (placement) {\n                  case 'right':\n                    this.dom.style.transform = \"translateX(-\".concat(right, \"px)\");\n                    this.dom.style.msTransform = \"translateX(-\".concat(right, \"px)\");\n                    break;\n\n                  case 'top':\n                  case 'bottom':\n                    this.dom.style.width = \"calc(100% - \".concat(right, \"px)\");\n                    this.dom.style.transform = 'translateZ(0)';\n                    break;\n\n                  default:\n                    break;\n                }\n\n                this.timeout = setTimeout(function () {\n                  _this5.dom.style.transition = \"\".concat(trannsformTransition, \",\").concat(widthTransition);\n                  _this5.dom.style.width = '';\n                  _this5.dom.style.transform = '';\n                  _this5.dom.style.msTransform = '';\n                });\n              }\n            } // 手机禁滚\n\n\n            domArray.forEach(function (item, i) {\n              if (!item) {\n                return;\n              }\n\n              addEventListener(item, eventArray[i] || 'touchmove', i ? _this5.removeMoveHandler : _this5.removeStartHandler, _this5.passive);\n            });\n          } else if (this.getCurrentDrawerSome()) {\n            document.body.style.overflow = '';\n\n            if ((this.isOpenChange || openTransition) && right) {\n              document.body.style.position = '';\n              document.body.style.width = '';\n\n              if (transitionStr) {\n                document.body.style.overflowX = 'hidden';\n              }\n\n              if (placement === 'right' && this.maskDom) {\n                this.maskDom.style.left = \"-\".concat(right, \"px\");\n                this.maskDom.style.width = \"calc(100% + \".concat(right, \"px)\");\n              }\n\n              clearTimeout(this.timeout);\n\n              if (this.dom) {\n                this.dom.style.transition = 'none';\n                var heightTransition;\n\n                switch (placement) {\n                  case 'right':\n                    {\n                      this.dom.style.transform = \"translateX(\".concat(right, \"px)\");\n                      this.dom.style.msTransform = \"translateX(\".concat(right, \"px)\");\n                      this.dom.style.width = '100%';\n                      widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n                      break;\n                    }\n\n                  case 'top':\n                  case 'bottom':\n                    {\n                      this.dom.style.width = \"calc(100% + \".concat(right, \"px)\");\n                      this.dom.style.height = '100%';\n                      this.dom.style.transform = 'translateZ(0)';\n                      heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n                      break;\n                    }\n\n                  default:\n                    break;\n                }\n\n                this.timeout = setTimeout(function () {\n                  _this5.dom.style.transition = \"\".concat(trannsformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n                  _this5.dom.style.transform = '';\n                  _this5.dom.style.msTransform = '';\n                  _this5.dom.style.width = '';\n                  _this5.dom.style.height = '';\n                });\n              }\n            }\n\n            domArray.forEach(function (item, i) {\n              if (!item) {\n                return;\n              }\n\n              removeEventListener(item, eventArray[i] || 'touchmove', i ? _this5.removeMoveHandler : _this5.removeStartHandler, _this5.passive);\n            });\n          }\n        }\n      }\n\n      var onChange = this.$attrs.onChange;\n\n      if (onChange && this.isOpenChange && this.sFirstEnter) {\n        onChange(open);\n        this.isOpenChange = false;\n      }\n    },\n    getChildToRender: function getChildToRender(open) {\n      var _classnames,\n          _this6 = this,\n          _touchEvents;\n\n      var _this$$props2 = this.$props,\n          prefixCls = _this$$props2.prefixCls,\n          placement = _this$$props2.placement,\n          handler = _this$$props2.handler,\n          showMask = _this$$props2.showMask,\n          maskStyle = _this$$props2.maskStyle,\n          width = _this$$props2.width,\n          height = _this$$props2.height,\n          wrapStyle = _this$$props2.wrapStyle,\n          keyboard = _this$$props2.keyboard,\n          maskClosable = _this$$props2.maskClosable;\n\n      var _a = this.$attrs,\n          cls = _a.class,\n          style = _a.style,\n          restAttrs = __rest(_a, [\"class\", \"style\"]);\n\n      var children = getSlot(this);\n      var wrapperClassname = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, 'no-mask', !showMask), _defineProperty(_classnames, cls, cls), _classnames));\n      var isOpenChange = this.isOpenChange;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y'); // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n\n      if (isOpenChange === undefined || isOpenChange) {\n        var contentValue = this.contentDom ? this.contentDom.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n        var value = (isHorizontal ? width : height) || contentValue;\n        this.setLevelDomTransform(open, false, placementName, value);\n      }\n\n      var handlerChildren;\n\n      if (handler !== false) {\n        var handlerDefalut = _createVNode(\"div\", {\n          \"class\": \"drawer-handle\",\n          \"onClick\": function onClick() {}\n        }, [_createVNode(\"i\", {\n          \"class\": \"drawer-handle-icon\"\n        }, null)]);\n\n        var handlerSlot = this.handler;\n        var handlerSlotVnode = handlerSlot || handlerDefalut;\n        var handleIconClick = handlerSlotVnode.props && handlerSlotVnode.props.onClick;\n        handlerChildren = cloneElement(handlerSlotVnode, {\n          onClick: function onClick(e) {\n            handleIconClick && handleIconClick(e);\n\n            _this6.onIconTouchEnd(e);\n          },\n          ref: function ref(c) {\n            _this6.handlerdom = c;\n          }\n        });\n      }\n\n      var domContProps = _extends(_extends({}, restAttrs), {\n        class: wrapperClassname,\n        onTransitionend: this.onWrapperTransitionEnd,\n        onKeydown: open && keyboard ? this.onKeyDown : noop,\n        style: _extends(_extends({}, wrapStyle), style)\n      }); // 跑用例用\n\n\n      var touchEvents = (_touchEvents = {}, _defineProperty(_touchEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', open ? this.removeStartHandler : noop), _defineProperty(_touchEvents, supportsPassive ? 'onTouchmovePassive' : 'onTouchmove', open ? this.removeMoveHandler : noop), _touchEvents);\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"ref\": function ref(c) {\n          _this6.dom = c;\n        }\n      }, domContProps), {}, {\n        \"tabindex\": -1\n      }), [showMask && _createVNode(\"div\", {\n        \"key\": open,\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? this.onMaskTouchEnd : noop,\n        \"style\": maskStyle,\n        \"ref\": function ref(c) {\n          _this6.maskDom = c;\n        }\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": {\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        },\n        \"ref\": function ref(c) {\n          _this6.contentWrapper = c;\n        }\n      }, [_createVNode(\"div\", _objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": function ref(c) {\n          _this6.contentDom = c;\n        }\n      }, touchEvents), [children]), handlerChildren])]);\n    },\n    getOpen: function getOpen() {\n      return this.open !== undefined ? this.open : this.sOpen;\n    },\n    getTouchParentScroll: function getTouchParentScroll(root, currentTarget, differX, differY) {\n      if (!currentTarget || currentTarget === document) {\n        return false;\n      } // root 为 drawer-content 设定了 overflow, 判断为 root 的 parent 时结束滚动；\n\n\n      if (currentTarget === root.parentNode) {\n        return true;\n      }\n\n      var isY = Math.max(Math.abs(differX), Math.abs(differY)) === Math.abs(differY);\n      var isX = Math.max(Math.abs(differX), Math.abs(differY)) === Math.abs(differX);\n      var scrollY = currentTarget.scrollHeight - currentTarget.clientHeight;\n      var scrollX = currentTarget.scrollWidth - currentTarget.clientWidth;\n      /**\n       * <div style=\"height: 300px\">\n       *   <div style=\"height: 900px\"></div>\n       * </div>\n       * 在没设定 overflow: auto 或 scroll 时，currentTarget 里获取不到 scrollTop 或 scrollLeft,\n       * 预先用 scrollTo 来滚动，如果取出的值跟滚动前取出不同，则 currnetTarget 被设定了 overflow; 否则就是上面这种。\n       */\n\n      var t = currentTarget.scrollTop;\n      var l = currentTarget.scrollLeft;\n\n      if (currentTarget.scrollTo) {\n        currentTarget.scrollTo(currentTarget.scrollLeft + 1, currentTarget.scrollTop + 1);\n      }\n\n      var currentT = currentTarget.scrollTop;\n      var currentL = currentTarget.scrollLeft;\n\n      if (currentTarget.scrollTo) {\n        currentTarget.scrollTo(currentTarget.scrollLeft - 1, currentTarget.scrollTop - 1);\n      }\n\n      if (isY && (!scrollY || !(currentT - t) || scrollY && (currentTarget.scrollTop >= scrollY && differY < 0 || currentTarget.scrollTop <= 0 && differY > 0)) || isX && (!scrollX || !(currentL - l) || scrollX && (currentTarget.scrollLeft >= scrollX && differX < 0 || currentTarget.scrollLeft <= 0 && differX > 0))) {\n        return this.getTouchParentScroll(root, currentTarget.parentNode, differX, differY);\n      }\n\n      return false;\n    },\n    removeStartHandler: function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      this.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    },\n    removeMoveHandler: function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - this.startPos.x;\n      var differY = e.changedTouches[0].clientY - this.startPos.y;\n\n      if (currentTarget === this.maskDom || currentTarget === this.handlerdom || currentTarget === this.contentDom && this.getTouchParentScroll(currentTarget, e.target, differX, differY)) {\n        e.preventDefault();\n      }\n    },\n    trnasitionEnd: function trnasitionEnd(e) {\n      removeEventListener(e.target, transitionEnd, this.trnasitionEnd);\n      e.target.style.transition = '';\n    },\n    defaultGetContainer: function defaultGetContainer() {\n      if (windowIsUndefined) {\n        return null;\n      }\n\n      var container = document.createElement('div');\n      this.parent.appendChild(container);\n\n      if (this.wrapperClassName) {\n        container.className = this.wrapperClassName;\n      }\n\n      return container;\n    }\n  },\n  render: function render() {\n    var _this7 = this;\n\n    var _this$$props3 = this.$props,\n        getContainer = _this$$props3.getContainer,\n        wrapperClassName = _this$$props3.wrapperClassName,\n        handler = _this$$props3.handler,\n        forceRender = _this$$props3.forceRender;\n    var open = this.getOpen();\n    var portal = null;\n    currentDrawer[this.drawerId] = open ? this.container : open;\n    var children = this.getChildToRender(this.sFirstEnter ? open : false);\n\n    if (!getContainer) {\n      return _createVNode(\"div\", {\n        \"class\": wrapperClassName,\n        \"ref\": function ref(c) {\n          _this7.container = c;\n        }\n      }, [children]);\n    }\n\n    if (!this.container || !open && !this.sFirstEnter) {\n      return null;\n    } // 如果有 handler 为内置强制渲染；\n\n\n    var $forceRender = !!handler || forceRender;\n\n    if ($forceRender || open || this.dom) {\n      portal = _createVNode(Teleport, {\n        \"to\": this.getSelfContainer()\n      }, {\n        default: function _default() {\n          return [children];\n        }\n      });\n    }\n\n    return portal;\n  }\n});\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}