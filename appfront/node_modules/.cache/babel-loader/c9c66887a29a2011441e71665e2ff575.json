{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\"; // based on rc-input-number 4.5.5\n\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { initDefaultProps, hasProp, getOptionProps } from '../../_util/props-util';\nimport classNames from '../../_util/classNames';\nimport KeyCode from '../../_util/KeyCode';\nimport InputHandler from './InputHandler';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w\\.-]+/g, '');\n}\n/**\n * When click and hold on a button - the speed of auto changin the value.\n */\n\n\nvar SPEED = 200;\n/**\n * When click and hold on a button - the delay before auto changin the value.\n */\n\nvar DELAY = 600;\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\n\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar isValidProps = function isValidProps(value) {\n  return value !== undefined && value !== null;\n};\n\nvar isEqual = function isEqual(oldValue, newValue) {\n  return newValue === oldValue || typeof newValue === 'number' && typeof oldValue === 'number' && isNaN(newValue) && isNaN(oldValue);\n};\n\nvar inputNumberProps = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  focusOnUpDown: PropTypes.looseBool,\n  autofocus: PropTypes.looseBool,\n  // onChange: PropTypes.func,\n  // onKeyDown: PropTypes.func,\n  // onKeyUp: PropTypes.func,\n  prefixCls: PropTypes.string,\n  tabindex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  placeholder: PropTypes.string,\n  disabled: PropTypes.looseBool,\n  // onFocus: PropTypes.func,\n  // onBlur: PropTypes.func,\n  readonly: PropTypes.looseBool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  upHandler: PropTypes.any,\n  downHandler: PropTypes.any,\n  useTouch: PropTypes.looseBool,\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  // onMouseEnter: PropTypes.func,\n  // onMouseLeave: PropTypes.func,\n  // onMouseOver: PropTypes.func,\n  // onMouseOut: PropTypes.func,\n  precision: PropTypes.number,\n  required: PropTypes.looseBool,\n  pattern: PropTypes.string,\n  decimalSeparator: PropTypes.string,\n  autocomplete: PropTypes.string,\n  title: PropTypes.string,\n  name: PropTypes.string,\n  id: PropTypes.string,\n  type: PropTypes.string,\n  maxlength: PropTypes.any\n};\nexport default defineComponent({\n  name: 'VCInputNumber',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  // model: {\n  //   prop: 'value',\n  //   event: 'change',\n  // },\n  props: initDefaultProps(inputNumberProps, {\n    focusOnUpDown: true,\n    useTouch: false,\n    prefixCls: 'rc-input-number',\n    min: -MAX_SAFE_INTEGER,\n    step: 1,\n    parser: defaultParser,\n    required: false,\n    autocomplete: 'off'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    this.prevProps = _extends({}, props);\n    var value;\n\n    if ('value' in props) {\n      value = this.value;\n    } else {\n      value = this.defaultValue;\n    }\n\n    var validValue = this.getValidValue(this.toNumber(value));\n    return {\n      inputValue: this.toPrecisionAsStep(validValue),\n      sValue: validValue,\n      focused: this.autofocus\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.updatedFunc();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    var _this$$props = this.$props,\n        value = _this$$props.value,\n        max = _this$$props.max,\n        min = _this$$props.min;\n    var focused = this.$data.focused;\n    var prevProps = this.prevProps;\n    var props = getOptionProps(this); // Don't trigger in componentDidMount\n\n    if (prevProps) {\n      if (!isEqual(prevProps.value, value) || !isEqual(prevProps.max, max) || !isEqual(prevProps.min, min)) {\n        var validValue = focused ? value : this.getValidValue(value);\n        var nextInputValue;\n\n        if (this.pressingUpOrDown) {\n          nextInputValue = validValue;\n        } else if (this.inputting) {\n          nextInputValue = this.rawInput;\n        } else {\n          nextInputValue = this.toPrecisionAsStep(validValue);\n        }\n\n        this.setState({\n          // eslint-disable-line\n          sValue: validValue,\n          inputValue: nextInputValue\n        });\n      } // Trigger onChange when max or min change\n      // https://github.com/ant-design/ant-design/issues/11574\n\n\n      var nextValue = 'value' in props ? value : this.$data.sValue; // ref: null < 20 === true\n      // https://github.com/ant-design/ant-design/issues/14277\n\n      if ('max' in props && prevProps.max !== max && typeof nextValue === 'number' && nextValue > max) {\n        this.__emit('update:value', max);\n\n        this.__emit('change', max);\n      }\n\n      if ('min' in props && prevProps.min !== min && typeof nextValue === 'number' && nextValue < min) {\n        this.__emit('update:value', min);\n\n        this.__emit('change', min);\n      }\n    }\n\n    this.prevProps = _extends({}, props);\n    this.$nextTick(function () {\n      _this2.updatedFunc();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.stop();\n  },\n  methods: {\n    updatedFunc: function updatedFunc() {\n      var inputElem = this.inputRef; // Restore cursor\n\n      try {\n        // Firefox set the input cursor after it get focused.\n        // This caused that if an input didn't init with the selection,\n        // set will cause cursor not correct when first focus.\n        // Safari will focus input if set selection. We need skip this.\n        if (this.cursorStart !== undefined && this.$data.focused) {\n          // In most cases, the string after cursor is stable.\n          // We can move the cursor before it\n          if ( // If not match full str, try to match part of str\n          !this.partRestoreByAfter(this.cursorAfter) && this.$data.sValue !== this.value) {\n            // If not match any of then, let's just keep the position\n            // TODO: Logic should not reach here, need check if happens\n            var pos = this.cursorStart + 1; // If not have last string, just position to the end\n\n            if (!this.cursorAfter) {\n              pos = inputElem.value.length;\n            } else if (this.lastKeyCode === KeyCode.BACKSPACE) {\n              pos = this.cursorStart - 1;\n            } else if (this.lastKeyCode === KeyCode.DELETE) {\n              pos = this.cursorStart;\n            }\n\n            this.fixCaret(pos, pos);\n          } else if (this.currentValue === inputElem.value) {\n            // Handle some special key code\n            switch (this.lastKeyCode) {\n              case KeyCode.BACKSPACE:\n                this.fixCaret(this.cursorStart - 1, this.cursorStart - 1);\n                break;\n\n              case KeyCode.DELETE:\n                this.fixCaret(this.cursorStart + 1, this.cursorStart + 1);\n                break;\n\n              default: // Do nothing\n\n            }\n          }\n        }\n      } catch (e) {// Do nothing\n      } // Reset last key\n\n\n      this.lastKeyCode = null; // pressingUpOrDown is true means that someone just click up or down button\n\n      if (!this.pressingUpOrDown) {\n        return;\n      }\n\n      if (this.focusOnUpDown && this.$data.focused) {\n        if (document.activeElement !== inputElem) {\n          this.focus();\n        }\n      }\n\n      this.pressingUpOrDown = false;\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === KeyCode.UP) {\n        var ratio = this.getRatio(e);\n        this.up(e, ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.DOWN) {\n        var _ratio = this.getRatio(e);\n\n        this.down(e, _ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.ENTER) {\n        this.__emit('pressEnter', e);\n      } // Trigger user key down\n\n\n      this.recordCursorPosition();\n      this.lastKeyCode = e.keyCode;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      this.__emit.apply(this, ['keydown', e].concat(args));\n    },\n    onKeyUp: function onKeyUp(e) {\n      this.stop();\n      this.recordCursorPosition();\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this.__emit.apply(this, ['keyup', e].concat(args));\n    },\n    onTrigger: function onTrigger(e) {\n      if (e.target.composing) return false;\n      this.onChange(e);\n    },\n    onChange: function onChange(e) {\n      if (this.$data.focused) {\n        this.inputting = true;\n      }\n\n      this.rawInput = this.parser(this.getValueFromEvent(e));\n      this.setState({\n        inputValue: this.rawInput\n      });\n      var num = this.toNumber(this.rawInput); // valid number or invalid string\n\n      this.__emit('update:value', num);\n\n      this.__emit('change', num);\n    },\n    onFocus: function onFocus() {\n      this.setState({\n        focused: true\n      });\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.__emit.apply(this, ['focus'].concat(args));\n    },\n    onBlur: function onBlur() {\n      this.inputting = false;\n      this.setState({\n        focused: false\n      });\n      var value = this.getCurrentValidValue(this.$data.inputValue);\n      var newValue = this.setValue(value);\n\n      if (this.$attrs.onBlur && this.inputRef) {\n        var originValue = this.inputRef.value;\n        var inputValue = this.getInputDisplayValue({\n          focused: false,\n          sValue: newValue\n        });\n        this.inputRef.value = inputValue;\n\n        for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        this.__emit.apply(this, ['blur'].concat(args));\n\n        this.inputRef.value = originValue;\n      }\n    },\n    getCurrentValidValue: function getCurrentValidValue(value) {\n      var val = value;\n\n      if (val === '') {\n        val = '';\n      } else if (!this.isNotCompleteNumber(parseFloat(val, 10))) {\n        val = this.getValidValue(val);\n      } else {\n        val = this.$data.sValue;\n      }\n\n      return this.toNumber(val);\n    },\n    getRatio: function getRatio(e) {\n      var ratio = 1;\n\n      if (e.metaKey || e.ctrlKey) {\n        ratio = 0.1;\n      } else if (e.shiftKey) {\n        ratio = 10;\n      }\n\n      return ratio;\n    },\n    getValueFromEvent: function getValueFromEvent(e) {\n      // optimize for chinese input expierence\n      // https://github.com/ant-design/ant-design/issues/8196\n      var value = e.target.value.trim().replace(/ã€‚/g, '.');\n\n      if (isValidProps(this.decimalSeparator)) {\n        value = value.replace(this.decimalSeparator, '.');\n      }\n\n      return value;\n    },\n    getValidValue: function getValidValue(value) {\n      var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.min;\n      var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.max;\n      var val = parseFloat(value, 10); // https://github.com/ant-design/ant-design/issues/7358\n\n      if (isNaN(val)) {\n        return value;\n      }\n\n      if (val < min) {\n        val = min;\n      }\n\n      if (val > max) {\n        val = max;\n      }\n\n      return val;\n    },\n    setValue: function setValue(v, callback) {\n      // trigger onChange\n      var precision = this.$props.precision;\n      var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? null : parseFloat(v, 10);\n      var _this$$data = this.$data,\n          _this$$data$sValue = _this$$data.sValue,\n          value = _this$$data$sValue === void 0 ? null : _this$$data$sValue,\n          _this$$data$inputValu = _this$$data.inputValue,\n          inputValue = _this$$data$inputValu === void 0 ? null : _this$$data$inputValu; // https://github.com/ant-design/ant-design/issues/7363\n      // https://github.com/ant-design/ant-design/issues/16622\n\n      var newValueInString = typeof newValue === 'number' ? newValue.toFixed(precision) : \"\".concat(newValue);\n      var changed = newValue !== value || newValueInString !== \"\".concat(inputValue);\n\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: newValue,\n          inputValue: this.toPrecisionAsStep(v)\n        }, callback);\n      } else {\n        // always set input value same as value\n        this.setState({\n          inputValue: this.toPrecisionAsStep(this.$data.sValue)\n        }, callback);\n      }\n\n      if (changed) {\n        this.__emit('update:value', newValue);\n\n        this.__emit('change', newValue);\n      }\n\n      return newValue;\n    },\n    getPrecision: function getPrecision(value) {\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var valueString = value.toString();\n\n      if (valueString.indexOf('e-') >= 0) {\n        return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n      }\n\n      var precision = 0;\n\n      if (valueString.indexOf('.') >= 0) {\n        precision = valueString.length - valueString.indexOf('.') - 1;\n      }\n\n      return precision;\n    },\n    // step={1.0} value={1.51}\n    // press +\n    // then value should be 2.51, rather than 2.5\n    // if this.$props.precision is undefined\n    // https://github.com/react-component/input-number/issues/39\n    getMaxPrecision: function getMaxPrecision(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var step = this.step;\n      var ratioPrecision = this.getPrecision(ratio);\n      var stepPrecision = this.getPrecision(step);\n      var currentValuePrecision = this.getPrecision(currentValue);\n\n      if (!currentValue) {\n        return ratioPrecision + stepPrecision;\n      }\n\n      return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n    },\n    getPrecisionFactor: function getPrecisionFactor(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var precision = this.getMaxPrecision(currentValue, ratio);\n      return Math.pow(10, precision);\n    },\n    getInputDisplayValue: function getInputDisplayValue(state) {\n      var _ref = state || this.$data,\n          focused = _ref.focused,\n          inputValue = _ref.inputValue,\n          sValue = _ref.sValue;\n\n      var inputDisplayValue;\n\n      if (focused) {\n        inputDisplayValue = inputValue;\n      } else {\n        inputDisplayValue = this.toPrecisionAsStep(sValue);\n      }\n\n      if (inputDisplayValue === undefined || inputDisplayValue === null) {\n        inputDisplayValue = '';\n      }\n\n      var inputDisplayValueFormat = this.formatWrapper(inputDisplayValue);\n\n      if (isValidProps(this.$props.decimalSeparator)) {\n        inputDisplayValueFormat = inputDisplayValueFormat.toString().replace('.', this.$props.decimalSeparator);\n      }\n\n      return inputDisplayValueFormat;\n    },\n    recordCursorPosition: function recordCursorPosition() {\n      // Record position\n      try {\n        var inputElem = this.inputRef;\n        this.cursorStart = inputElem.selectionStart;\n        this.cursorEnd = inputElem.selectionEnd;\n        this.currentValue = inputElem.value;\n        this.cursorBefore = inputElem.value.substring(0, this.cursorStart);\n        this.cursorAfter = inputElem.value.substring(this.cursorEnd);\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    fixCaret: function fixCaret(start, end) {\n      if (start === undefined || end === undefined || !this.inputRef || !this.inputRef.value) {\n        return;\n      }\n\n      try {\n        var inputElem = this.inputRef;\n        var currentStart = inputElem.selectionStart;\n        var currentEnd = inputElem.selectionEnd;\n\n        if (start !== currentStart || end !== currentEnd) {\n          inputElem.setSelectionRange(start, end);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    restoreByAfter: function restoreByAfter(str) {\n      if (str === undefined) return false;\n      var fullStr = this.inputRef.value;\n      var index = fullStr.lastIndexOf(str);\n      if (index === -1) return false;\n      var prevCursorPos = this.cursorBefore.length;\n\n      if (this.lastKeyCode === KeyCode.DELETE && this.cursorBefore.charAt(prevCursorPos - 1) === str[0]) {\n        this.fixCaret(prevCursorPos, prevCursorPos);\n        return true;\n      }\n\n      if (index + str.length === fullStr.length) {\n        this.fixCaret(index, index);\n        return true;\n      }\n\n      return false;\n    },\n    partRestoreByAfter: function partRestoreByAfter(str) {\n      var _this3 = this;\n\n      if (str === undefined) return false; // For loop from full str to the str with last char to map. e.g. 123\n      // -> 123\n      // -> 23\n      // -> 3\n\n      return Array.prototype.some.call(str, function (_, start) {\n        var partStr = str.substring(start);\n        return _this3.restoreByAfter(partStr);\n      });\n    },\n    focus: function focus() {\n      this.inputRef.focus();\n      this.recordCursorPosition();\n    },\n    blur: function blur() {\n      this.inputRef.blur();\n    },\n    formatWrapper: function formatWrapper(num) {\n      // http://2ality.com/2012/03/signedzero.html\n      // https://github.com/ant-design/ant-design/issues/9439\n      if (this.formatter) {\n        return this.formatter(num);\n      }\n\n      return num;\n    },\n    toPrecisionAsStep: function toPrecisionAsStep(num) {\n      if (this.isNotCompleteNumber(num) || num === '') {\n        return num;\n      }\n\n      var precision = Math.abs(this.getMaxPrecision(num));\n\n      if (!isNaN(precision)) {\n        return Number(num).toFixed(precision);\n      }\n\n      return num.toString();\n    },\n    // '1.' '1x' 'xx' '' => are not complete numbers\n    isNotCompleteNumber: function isNotCompleteNumber(num) {\n      return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n    },\n    toNumber: function toNumber(num) {\n      var _this$$props2 = this.$props,\n          precision = _this$$props2.precision,\n          autofocus = _this$$props2.autofocus;\n      var _this$$data$focused = this.$data.focused,\n          focused = _this$$data$focused === void 0 ? autofocus : _this$$data$focused; // num.length > 16 => This is to prevent input of large numbers\n\n      var numberIsTooLarge = num && num.length > 16 && focused;\n\n      if (this.isNotCompleteNumber(num) || numberIsTooLarge) {\n        return num;\n      }\n\n      if (isValidProps(precision)) {\n        return Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n      }\n\n      return Number(num);\n    },\n    upStep: function upStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    downStep: function downStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    stepFn: function stepFn(type, e) {\n      var _this4 = this;\n\n      var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var recursive = arguments.length > 3 ? arguments[3] : undefined;\n      this.stop();\n\n      if (e) {\n        // e.persist()\n        e.preventDefault();\n      }\n\n      if (this.disabled) {\n        return;\n      }\n\n      var max = this.max,\n          min = this.min;\n      var value = this.getCurrentValidValue(this.$data.inputValue) || 0;\n\n      if (this.isNotCompleteNumber(value)) {\n        return;\n      }\n\n      var val = this[\"\".concat(type, \"Step\")](value, ratio);\n      var outOfRange = val > max || val < min;\n\n      if (val > max) {\n        val = max;\n      } else if (val < min) {\n        val = min;\n      }\n\n      this.setValue(val);\n      this.setState({\n        focused: true\n      });\n\n      if (outOfRange) {\n        return;\n      }\n\n      this.autoStepTimer = setTimeout(function () {\n        _this4[type](e, ratio, true);\n      }, recursive ? SPEED : DELAY);\n    },\n    stop: function stop() {\n      if (this.autoStepTimer) {\n        clearTimeout(this.autoStepTimer);\n      }\n    },\n    down: function down(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('down', e, ratio, recursive);\n    },\n    up: function up(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('up', e, ratio, recursive);\n    },\n    handleInputClick: function handleInputClick() {\n      this.__emit('click');\n    },\n    saveUp: function saveUp(node) {\n      this.upHandlerRef = node;\n    },\n    saveDown: function saveDown(node) {\n      this.downHandlerRef = node;\n    },\n    saveInput: function saveInput(node) {\n      this.inputRef = node;\n    },\n    onCompositionstart: function onCompositionstart(e) {\n      e.target.composing = true;\n    },\n    onCompositionend: function onCompositionend(e) {\n      this.onChange(e);\n      e.target.composing = false;\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var props = _extends(_extends({}, this.$props), this.$attrs);\n\n    var prefixCls = props.prefixCls,\n        disabled = props.disabled,\n        readonly = props.readonly,\n        useTouch = props.useTouch,\n        autocomplete = props.autocomplete,\n        upHandler = props.upHandler,\n        downHandler = props.downHandler,\n        className = props.class;\n    var classes = classNames((_classNames = {}, _defineProperty(_classNames, className, className), _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), this.$data.focused), _classNames));\n    var upDisabledClass = '';\n    var downDisabledClass = '';\n    var sValue = this.$data.sValue;\n\n    if (sValue || sValue === 0) {\n      if (!isNaN(sValue)) {\n        var val = Number(sValue);\n\n        if (val >= this.max) {\n          upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        }\n\n        if (val <= this.min) {\n          downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n        }\n      } else {\n        upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n      }\n    }\n\n    var dataOrAriaAttributeProps = {};\n\n    for (var key in props) {\n      if (props.hasOwnProperty(key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n        dataOrAriaAttributeProps[key] = props[key];\n      }\n    }\n\n    var editable = !this.readonly && !this.disabled; // focus state, show input value\n    // unfocus state, show valid value\n\n    var inputDisplayValue = this.getInputDisplayValue();\n    var upEvents;\n    var downEvents;\n\n    if (useTouch) {\n      var _upEvents, _downEvents;\n\n      upEvents = (_upEvents = {}, _defineProperty(_upEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !upDisabledClass && this.up), _defineProperty(_upEvents, \"onTouchend\", this.stop), _upEvents);\n      downEvents = (_downEvents = {}, _defineProperty(_downEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !downDisabledClass && this.down), _defineProperty(_downEvents, \"onTouchend\", this.stop), _downEvents);\n    } else {\n      upEvents = {\n        onMousedown: editable && !upDisabledClass && this.up,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n      downEvents = {\n        onMousedown: editable && !downDisabledClass && this.down,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n    }\n\n    var isUpDisabled = !!upDisabledClass || disabled || readonly;\n    var isDownDisabled = !!downDisabledClass || disabled || readonly;\n\n    var upHandlerProps = _extends(_extends({\n      disabled: isUpDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Increase Value',\n      'aria-disabled': !!isUpDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-up \").concat(upDisabledClass)\n    }, upEvents), {\n      ref: this.saveUp\n    });\n\n    var downHandlerProps = _extends(_extends({\n      disabled: isDownDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Decrease Value',\n      'aria-disabled': !!isDownDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-down \").concat(downDisabledClass)\n    }, downEvents), {\n      ref: this.saveDown\n    });\n\n    return _createVNode(\"div\", {\n      \"class\": classes,\n      \"style\": props.style,\n      \"title\": props.title,\n      \"onMouseenter\": props.onMouseenter,\n      \"onMouseleave\": props.onMouseleave,\n      \"onMouseover\": props.onMouseover,\n      \"onMouseout\": props.onMouseout\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-handler-wrap\")\n    }, [_createVNode(\"span\", null, [_createVNode(InputHandler, _objectSpread(_objectSpread({}, upHandlerProps), {}, {\n      \"key\": \"upHandler\"\n    }), {\n      default: function _default() {\n        return [upHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-up-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(InputHandler, _objectSpread(_objectSpread({}, downHandlerProps), {}, {\n      \"key\": \"downHandler\"\n    }), {\n      default: function _default() {\n        return [downHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-down-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-input-wrap\")\n    }, [_createVNode(\"input\", _objectSpread({\n      \"role\": \"spinbutton\",\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-valuenow\": sValue,\n      \"required\": this.required,\n      \"type\": props.type,\n      \"placeholder\": this.placeholder,\n      \"onClick\": this.handleInputClick,\n      \"class\": \"\".concat(prefixCls, \"-input\"),\n      \"tabindex\": this.tabindex,\n      \"autocomplete\": autocomplete,\n      \"onFocus\": this.onFocus,\n      \"onBlur\": this.onBlur,\n      \"onKeydown\": editable && this.onKeyDown,\n      \"onKeyup\": editable && this.onKeyUp,\n      \"autofocus\": this.autofocus,\n      \"maxlength\": this.maxlength,\n      \"readonly\": this.readonly,\n      \"disabled\": this.disabled,\n      \"max\": this.max,\n      \"min\": this.min,\n      \"step\": this.step,\n      \"name\": this.name,\n      \"title\": this.title,\n      \"id\": this.id,\n      \"onInput\": this.onTrigger,\n      \"onCompositionstart\": this.onCompositionstart,\n      \"onCompositionend\": this.onCompositionend,\n      \"ref\": this.saveInput,\n      \"value\": inputDisplayValue,\n      \"pattern\": this.pattern\n    }, dataOrAriaAttributeProps), null)])]);\n  }\n});","map":{"version":3,"sources":["/Users/lyong/Desktop/myproj/appfront/node_modules/ant-design-vue/es/vc-input-number/src/index.js"],"names":["_objectSpread","_defineProperty","_extends","createVNode","_createVNode","PropTypes","BaseMixin","initDefaultProps","hasProp","getOptionProps","classNames","KeyCode","InputHandler","defineComponent","supportsPassive","preventDefault","e","defaultParser","input","replace","SPEED","DELAY","MAX_SAFE_INTEGER","Number","Math","pow","isValidProps","value","undefined","isEqual","oldValue","newValue","isNaN","inputNumberProps","oneOfType","number","string","defaultValue","focusOnUpDown","looseBool","autofocus","prefixCls","tabindex","placeholder","disabled","readonly","max","min","step","upHandler","any","downHandler","useTouch","formatter","func","parser","precision","required","pattern","decimalSeparator","autocomplete","title","name","id","type","maxlength","mixins","inheritAttrs","props","data","prevProps","validValue","getValidValue","toNumber","inputValue","toPrecisionAsStep","sValue","focused","mounted","_this","$nextTick","updatedFunc","updated","_this2","_this$$props","$props","$data","nextInputValue","pressingUpOrDown","inputting","rawInput","setState","nextValue","__emit","beforeUnmount","stop","methods","inputElem","inputRef","cursorStart","partRestoreByAfter","cursorAfter","pos","length","lastKeyCode","BACKSPACE","DELETE","fixCaret","currentValue","document","activeElement","focus","onKeyDown","keyCode","UP","ratio","getRatio","up","DOWN","_ratio","down","ENTER","recordCursorPosition","_len","arguments","args","Array","_key","apply","concat","onKeyUp","_len2","_key2","onTrigger","target","composing","onChange","getValueFromEvent","num","onFocus","_len3","_key3","onBlur","getCurrentValidValue","setValue","$attrs","originValue","getInputDisplayValue","_len4","_key4","val","isNotCompleteNumber","parseFloat","metaKey","ctrlKey","shiftKey","trim","v","callback","_this$$data","_this$$data$sValue","_this$$data$inputValu","newValueInString","toFixed","changed","getPrecision","valueString","toString","indexOf","parseInt","slice","getMaxPrecision","ratioPrecision","stepPrecision","currentValuePrecision","getPrecisionFactor","state","_ref","inputDisplayValue","inputDisplayValueFormat","formatWrapper","selectionStart","cursorEnd","selectionEnd","cursorBefore","substring","start","end","currentStart","currentEnd","setSelectionRange","restoreByAfter","str","fullStr","index","lastIndexOf","prevCursorPos","charAt","_this3","prototype","some","call","_","partStr","blur","abs","_this$$props2","_this$$data$focused","numberIsTooLarge","round","upStep","rat","precisionFactor","result","downStep","stepFn","_this4","recursive","outOfRange","autoStepTimer","setTimeout","clearTimeout","handleInputClick","saveUp","node","upHandlerRef","saveDown","downHandlerRef","saveInput","onCompositionstart","onCompositionend","render","_classNames","className","class","classes","upDisabledClass","downDisabledClass","dataOrAriaAttributeProps","key","hasOwnProperty","substr","editable","upEvents","downEvents","_upEvents","_downEvents","onMousedown","onMouseup","onMouseleave","isUpDisabled","isDownDisabled","upHandlerProps","unselectable","role","ref","downHandlerProps","style","onMouseenter","onMouseover","onMouseout","default","_default"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n// based on rc-input-number 4.5.5\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { initDefaultProps, hasProp, getOptionProps } from '../../_util/props-util';\nimport classNames from '../../_util/classNames';\nimport KeyCode from '../../_util/KeyCode';\nimport InputHandler from './InputHandler';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w\\.-]+/g, '');\n}\n/**\n * When click and hold on a button - the speed of auto changin the value.\n */\n\n\nvar SPEED = 200;\n/**\n * When click and hold on a button - the delay before auto changin the value.\n */\n\nvar DELAY = 600;\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\n\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar isValidProps = function isValidProps(value) {\n  return value !== undefined && value !== null;\n};\n\nvar isEqual = function isEqual(oldValue, newValue) {\n  return newValue === oldValue || typeof newValue === 'number' && typeof oldValue === 'number' && isNaN(newValue) && isNaN(oldValue);\n};\n\nvar inputNumberProps = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  focusOnUpDown: PropTypes.looseBool,\n  autofocus: PropTypes.looseBool,\n  // onChange: PropTypes.func,\n  // onKeyDown: PropTypes.func,\n  // onKeyUp: PropTypes.func,\n  prefixCls: PropTypes.string,\n  tabindex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  placeholder: PropTypes.string,\n  disabled: PropTypes.looseBool,\n  // onFocus: PropTypes.func,\n  // onBlur: PropTypes.func,\n  readonly: PropTypes.looseBool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  upHandler: PropTypes.any,\n  downHandler: PropTypes.any,\n  useTouch: PropTypes.looseBool,\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  // onMouseEnter: PropTypes.func,\n  // onMouseLeave: PropTypes.func,\n  // onMouseOver: PropTypes.func,\n  // onMouseOut: PropTypes.func,\n  precision: PropTypes.number,\n  required: PropTypes.looseBool,\n  pattern: PropTypes.string,\n  decimalSeparator: PropTypes.string,\n  autocomplete: PropTypes.string,\n  title: PropTypes.string,\n  name: PropTypes.string,\n  id: PropTypes.string,\n  type: PropTypes.string,\n  maxlength: PropTypes.any\n};\nexport default defineComponent({\n  name: 'VCInputNumber',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  // model: {\n  //   prop: 'value',\n  //   event: 'change',\n  // },\n  props: initDefaultProps(inputNumberProps, {\n    focusOnUpDown: true,\n    useTouch: false,\n    prefixCls: 'rc-input-number',\n    min: -MAX_SAFE_INTEGER,\n    step: 1,\n    parser: defaultParser,\n    required: false,\n    autocomplete: 'off'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    this.prevProps = _extends({}, props);\n    var value;\n\n    if ('value' in props) {\n      value = this.value;\n    } else {\n      value = this.defaultValue;\n    }\n\n    var validValue = this.getValidValue(this.toNumber(value));\n    return {\n      inputValue: this.toPrecisionAsStep(validValue),\n      sValue: validValue,\n      focused: this.autofocus\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.updatedFunc();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    var _this$$props = this.$props,\n        value = _this$$props.value,\n        max = _this$$props.max,\n        min = _this$$props.min;\n    var focused = this.$data.focused;\n    var prevProps = this.prevProps;\n    var props = getOptionProps(this); // Don't trigger in componentDidMount\n\n    if (prevProps) {\n      if (!isEqual(prevProps.value, value) || !isEqual(prevProps.max, max) || !isEqual(prevProps.min, min)) {\n        var validValue = focused ? value : this.getValidValue(value);\n        var nextInputValue;\n\n        if (this.pressingUpOrDown) {\n          nextInputValue = validValue;\n        } else if (this.inputting) {\n          nextInputValue = this.rawInput;\n        } else {\n          nextInputValue = this.toPrecisionAsStep(validValue);\n        }\n\n        this.setState({\n          // eslint-disable-line\n          sValue: validValue,\n          inputValue: nextInputValue\n        });\n      } // Trigger onChange when max or min change\n      // https://github.com/ant-design/ant-design/issues/11574\n\n\n      var nextValue = 'value' in props ? value : this.$data.sValue; // ref: null < 20 === true\n      // https://github.com/ant-design/ant-design/issues/14277\n\n      if ('max' in props && prevProps.max !== max && typeof nextValue === 'number' && nextValue > max) {\n        this.__emit('update:value', max);\n\n        this.__emit('change', max);\n      }\n\n      if ('min' in props && prevProps.min !== min && typeof nextValue === 'number' && nextValue < min) {\n        this.__emit('update:value', min);\n\n        this.__emit('change', min);\n      }\n    }\n\n    this.prevProps = _extends({}, props);\n    this.$nextTick(function () {\n      _this2.updatedFunc();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.stop();\n  },\n  methods: {\n    updatedFunc: function updatedFunc() {\n      var inputElem = this.inputRef; // Restore cursor\n\n      try {\n        // Firefox set the input cursor after it get focused.\n        // This caused that if an input didn't init with the selection,\n        // set will cause cursor not correct when first focus.\n        // Safari will focus input if set selection. We need skip this.\n        if (this.cursorStart !== undefined && this.$data.focused) {\n          // In most cases, the string after cursor is stable.\n          // We can move the cursor before it\n          if ( // If not match full str, try to match part of str\n          !this.partRestoreByAfter(this.cursorAfter) && this.$data.sValue !== this.value) {\n            // If not match any of then, let's just keep the position\n            // TODO: Logic should not reach here, need check if happens\n            var pos = this.cursorStart + 1; // If not have last string, just position to the end\n\n            if (!this.cursorAfter) {\n              pos = inputElem.value.length;\n            } else if (this.lastKeyCode === KeyCode.BACKSPACE) {\n              pos = this.cursorStart - 1;\n            } else if (this.lastKeyCode === KeyCode.DELETE) {\n              pos = this.cursorStart;\n            }\n\n            this.fixCaret(pos, pos);\n          } else if (this.currentValue === inputElem.value) {\n            // Handle some special key code\n            switch (this.lastKeyCode) {\n              case KeyCode.BACKSPACE:\n                this.fixCaret(this.cursorStart - 1, this.cursorStart - 1);\n                break;\n\n              case KeyCode.DELETE:\n                this.fixCaret(this.cursorStart + 1, this.cursorStart + 1);\n                break;\n\n              default: // Do nothing\n\n            }\n          }\n        }\n      } catch (e) {// Do nothing\n      } // Reset last key\n\n\n      this.lastKeyCode = null; // pressingUpOrDown is true means that someone just click up or down button\n\n      if (!this.pressingUpOrDown) {\n        return;\n      }\n\n      if (this.focusOnUpDown && this.$data.focused) {\n        if (document.activeElement !== inputElem) {\n          this.focus();\n        }\n      }\n\n      this.pressingUpOrDown = false;\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === KeyCode.UP) {\n        var ratio = this.getRatio(e);\n        this.up(e, ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.DOWN) {\n        var _ratio = this.getRatio(e);\n\n        this.down(e, _ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.ENTER) {\n        this.__emit('pressEnter', e);\n      } // Trigger user key down\n\n\n      this.recordCursorPosition();\n      this.lastKeyCode = e.keyCode;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      this.__emit.apply(this, ['keydown', e].concat(args));\n    },\n    onKeyUp: function onKeyUp(e) {\n      this.stop();\n      this.recordCursorPosition();\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this.__emit.apply(this, ['keyup', e].concat(args));\n    },\n    onTrigger: function onTrigger(e) {\n      if (e.target.composing) return false;\n      this.onChange(e);\n    },\n    onChange: function onChange(e) {\n      if (this.$data.focused) {\n        this.inputting = true;\n      }\n\n      this.rawInput = this.parser(this.getValueFromEvent(e));\n      this.setState({\n        inputValue: this.rawInput\n      });\n      var num = this.toNumber(this.rawInput); // valid number or invalid string\n\n      this.__emit('update:value', num);\n\n      this.__emit('change', num);\n    },\n    onFocus: function onFocus() {\n      this.setState({\n        focused: true\n      });\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.__emit.apply(this, ['focus'].concat(args));\n    },\n    onBlur: function onBlur() {\n      this.inputting = false;\n      this.setState({\n        focused: false\n      });\n      var value = this.getCurrentValidValue(this.$data.inputValue);\n      var newValue = this.setValue(value);\n\n      if (this.$attrs.onBlur && this.inputRef) {\n        var originValue = this.inputRef.value;\n        var inputValue = this.getInputDisplayValue({\n          focused: false,\n          sValue: newValue\n        });\n        this.inputRef.value = inputValue;\n\n        for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        this.__emit.apply(this, ['blur'].concat(args));\n\n        this.inputRef.value = originValue;\n      }\n    },\n    getCurrentValidValue: function getCurrentValidValue(value) {\n      var val = value;\n\n      if (val === '') {\n        val = '';\n      } else if (!this.isNotCompleteNumber(parseFloat(val, 10))) {\n        val = this.getValidValue(val);\n      } else {\n        val = this.$data.sValue;\n      }\n\n      return this.toNumber(val);\n    },\n    getRatio: function getRatio(e) {\n      var ratio = 1;\n\n      if (e.metaKey || e.ctrlKey) {\n        ratio = 0.1;\n      } else if (e.shiftKey) {\n        ratio = 10;\n      }\n\n      return ratio;\n    },\n    getValueFromEvent: function getValueFromEvent(e) {\n      // optimize for chinese input expierence\n      // https://github.com/ant-design/ant-design/issues/8196\n      var value = e.target.value.trim().replace(/ã€‚/g, '.');\n\n      if (isValidProps(this.decimalSeparator)) {\n        value = value.replace(this.decimalSeparator, '.');\n      }\n\n      return value;\n    },\n    getValidValue: function getValidValue(value) {\n      var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.min;\n      var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.max;\n      var val = parseFloat(value, 10); // https://github.com/ant-design/ant-design/issues/7358\n\n      if (isNaN(val)) {\n        return value;\n      }\n\n      if (val < min) {\n        val = min;\n      }\n\n      if (val > max) {\n        val = max;\n      }\n\n      return val;\n    },\n    setValue: function setValue(v, callback) {\n      // trigger onChange\n      var precision = this.$props.precision;\n      var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? null : parseFloat(v, 10);\n      var _this$$data = this.$data,\n          _this$$data$sValue = _this$$data.sValue,\n          value = _this$$data$sValue === void 0 ? null : _this$$data$sValue,\n          _this$$data$inputValu = _this$$data.inputValue,\n          inputValue = _this$$data$inputValu === void 0 ? null : _this$$data$inputValu; // https://github.com/ant-design/ant-design/issues/7363\n      // https://github.com/ant-design/ant-design/issues/16622\n\n      var newValueInString = typeof newValue === 'number' ? newValue.toFixed(precision) : \"\".concat(newValue);\n      var changed = newValue !== value || newValueInString !== \"\".concat(inputValue);\n\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: newValue,\n          inputValue: this.toPrecisionAsStep(v)\n        }, callback);\n      } else {\n        // always set input value same as value\n        this.setState({\n          inputValue: this.toPrecisionAsStep(this.$data.sValue)\n        }, callback);\n      }\n\n      if (changed) {\n        this.__emit('update:value', newValue);\n\n        this.__emit('change', newValue);\n      }\n\n      return newValue;\n    },\n    getPrecision: function getPrecision(value) {\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var valueString = value.toString();\n\n      if (valueString.indexOf('e-') >= 0) {\n        return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n      }\n\n      var precision = 0;\n\n      if (valueString.indexOf('.') >= 0) {\n        precision = valueString.length - valueString.indexOf('.') - 1;\n      }\n\n      return precision;\n    },\n    // step={1.0} value={1.51}\n    // press +\n    // then value should be 2.51, rather than 2.5\n    // if this.$props.precision is undefined\n    // https://github.com/react-component/input-number/issues/39\n    getMaxPrecision: function getMaxPrecision(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var step = this.step;\n      var ratioPrecision = this.getPrecision(ratio);\n      var stepPrecision = this.getPrecision(step);\n      var currentValuePrecision = this.getPrecision(currentValue);\n\n      if (!currentValue) {\n        return ratioPrecision + stepPrecision;\n      }\n\n      return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n    },\n    getPrecisionFactor: function getPrecisionFactor(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var precision = this.getMaxPrecision(currentValue, ratio);\n      return Math.pow(10, precision);\n    },\n    getInputDisplayValue: function getInputDisplayValue(state) {\n      var _ref = state || this.$data,\n          focused = _ref.focused,\n          inputValue = _ref.inputValue,\n          sValue = _ref.sValue;\n\n      var inputDisplayValue;\n\n      if (focused) {\n        inputDisplayValue = inputValue;\n      } else {\n        inputDisplayValue = this.toPrecisionAsStep(sValue);\n      }\n\n      if (inputDisplayValue === undefined || inputDisplayValue === null) {\n        inputDisplayValue = '';\n      }\n\n      var inputDisplayValueFormat = this.formatWrapper(inputDisplayValue);\n\n      if (isValidProps(this.$props.decimalSeparator)) {\n        inputDisplayValueFormat = inputDisplayValueFormat.toString().replace('.', this.$props.decimalSeparator);\n      }\n\n      return inputDisplayValueFormat;\n    },\n    recordCursorPosition: function recordCursorPosition() {\n      // Record position\n      try {\n        var inputElem = this.inputRef;\n        this.cursorStart = inputElem.selectionStart;\n        this.cursorEnd = inputElem.selectionEnd;\n        this.currentValue = inputElem.value;\n        this.cursorBefore = inputElem.value.substring(0, this.cursorStart);\n        this.cursorAfter = inputElem.value.substring(this.cursorEnd);\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    fixCaret: function fixCaret(start, end) {\n      if (start === undefined || end === undefined || !this.inputRef || !this.inputRef.value) {\n        return;\n      }\n\n      try {\n        var inputElem = this.inputRef;\n        var currentStart = inputElem.selectionStart;\n        var currentEnd = inputElem.selectionEnd;\n\n        if (start !== currentStart || end !== currentEnd) {\n          inputElem.setSelectionRange(start, end);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    restoreByAfter: function restoreByAfter(str) {\n      if (str === undefined) return false;\n      var fullStr = this.inputRef.value;\n      var index = fullStr.lastIndexOf(str);\n      if (index === -1) return false;\n      var prevCursorPos = this.cursorBefore.length;\n\n      if (this.lastKeyCode === KeyCode.DELETE && this.cursorBefore.charAt(prevCursorPos - 1) === str[0]) {\n        this.fixCaret(prevCursorPos, prevCursorPos);\n        return true;\n      }\n\n      if (index + str.length === fullStr.length) {\n        this.fixCaret(index, index);\n        return true;\n      }\n\n      return false;\n    },\n    partRestoreByAfter: function partRestoreByAfter(str) {\n      var _this3 = this;\n\n      if (str === undefined) return false; // For loop from full str to the str with last char to map. e.g. 123\n      // -> 123\n      // -> 23\n      // -> 3\n\n      return Array.prototype.some.call(str, function (_, start) {\n        var partStr = str.substring(start);\n        return _this3.restoreByAfter(partStr);\n      });\n    },\n    focus: function focus() {\n      this.inputRef.focus();\n      this.recordCursorPosition();\n    },\n    blur: function blur() {\n      this.inputRef.blur();\n    },\n    formatWrapper: function formatWrapper(num) {\n      // http://2ality.com/2012/03/signedzero.html\n      // https://github.com/ant-design/ant-design/issues/9439\n      if (this.formatter) {\n        return this.formatter(num);\n      }\n\n      return num;\n    },\n    toPrecisionAsStep: function toPrecisionAsStep(num) {\n      if (this.isNotCompleteNumber(num) || num === '') {\n        return num;\n      }\n\n      var precision = Math.abs(this.getMaxPrecision(num));\n\n      if (!isNaN(precision)) {\n        return Number(num).toFixed(precision);\n      }\n\n      return num.toString();\n    },\n    // '1.' '1x' 'xx' '' => are not complete numbers\n    isNotCompleteNumber: function isNotCompleteNumber(num) {\n      return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n    },\n    toNumber: function toNumber(num) {\n      var _this$$props2 = this.$props,\n          precision = _this$$props2.precision,\n          autofocus = _this$$props2.autofocus;\n      var _this$$data$focused = this.$data.focused,\n          focused = _this$$data$focused === void 0 ? autofocus : _this$$data$focused; // num.length > 16 => This is to prevent input of large numbers\n\n      var numberIsTooLarge = num && num.length > 16 && focused;\n\n      if (this.isNotCompleteNumber(num) || numberIsTooLarge) {\n        return num;\n      }\n\n      if (isValidProps(precision)) {\n        return Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n      }\n\n      return Number(num);\n    },\n    upStep: function upStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    downStep: function downStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    stepFn: function stepFn(type, e) {\n      var _this4 = this;\n\n      var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var recursive = arguments.length > 3 ? arguments[3] : undefined;\n      this.stop();\n\n      if (e) {\n        // e.persist()\n        e.preventDefault();\n      }\n\n      if (this.disabled) {\n        return;\n      }\n\n      var max = this.max,\n          min = this.min;\n      var value = this.getCurrentValidValue(this.$data.inputValue) || 0;\n\n      if (this.isNotCompleteNumber(value)) {\n        return;\n      }\n\n      var val = this[\"\".concat(type, \"Step\")](value, ratio);\n      var outOfRange = val > max || val < min;\n\n      if (val > max) {\n        val = max;\n      } else if (val < min) {\n        val = min;\n      }\n\n      this.setValue(val);\n      this.setState({\n        focused: true\n      });\n\n      if (outOfRange) {\n        return;\n      }\n\n      this.autoStepTimer = setTimeout(function () {\n        _this4[type](e, ratio, true);\n      }, recursive ? SPEED : DELAY);\n    },\n    stop: function stop() {\n      if (this.autoStepTimer) {\n        clearTimeout(this.autoStepTimer);\n      }\n    },\n    down: function down(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('down', e, ratio, recursive);\n    },\n    up: function up(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('up', e, ratio, recursive);\n    },\n    handleInputClick: function handleInputClick() {\n      this.__emit('click');\n    },\n    saveUp: function saveUp(node) {\n      this.upHandlerRef = node;\n    },\n    saveDown: function saveDown(node) {\n      this.downHandlerRef = node;\n    },\n    saveInput: function saveInput(node) {\n      this.inputRef = node;\n    },\n    onCompositionstart: function onCompositionstart(e) {\n      e.target.composing = true;\n    },\n    onCompositionend: function onCompositionend(e) {\n      this.onChange(e);\n      e.target.composing = false;\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var props = _extends(_extends({}, this.$props), this.$attrs);\n\n    var prefixCls = props.prefixCls,\n        disabled = props.disabled,\n        readonly = props.readonly,\n        useTouch = props.useTouch,\n        autocomplete = props.autocomplete,\n        upHandler = props.upHandler,\n        downHandler = props.downHandler,\n        className = props.class;\n    var classes = classNames((_classNames = {}, _defineProperty(_classNames, className, className), _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), this.$data.focused), _classNames));\n    var upDisabledClass = '';\n    var downDisabledClass = '';\n    var sValue = this.$data.sValue;\n\n    if (sValue || sValue === 0) {\n      if (!isNaN(sValue)) {\n        var val = Number(sValue);\n\n        if (val >= this.max) {\n          upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        }\n\n        if (val <= this.min) {\n          downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n        }\n      } else {\n        upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n      }\n    }\n\n    var dataOrAriaAttributeProps = {};\n\n    for (var key in props) {\n      if (props.hasOwnProperty(key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n        dataOrAriaAttributeProps[key] = props[key];\n      }\n    }\n\n    var editable = !this.readonly && !this.disabled; // focus state, show input value\n    // unfocus state, show valid value\n\n    var inputDisplayValue = this.getInputDisplayValue();\n    var upEvents;\n    var downEvents;\n\n    if (useTouch) {\n      var _upEvents, _downEvents;\n\n      upEvents = (_upEvents = {}, _defineProperty(_upEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !upDisabledClass && this.up), _defineProperty(_upEvents, \"onTouchend\", this.stop), _upEvents);\n      downEvents = (_downEvents = {}, _defineProperty(_downEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !downDisabledClass && this.down), _defineProperty(_downEvents, \"onTouchend\", this.stop), _downEvents);\n    } else {\n      upEvents = {\n        onMousedown: editable && !upDisabledClass && this.up,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n      downEvents = {\n        onMousedown: editable && !downDisabledClass && this.down,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n    }\n\n    var isUpDisabled = !!upDisabledClass || disabled || readonly;\n    var isDownDisabled = !!downDisabledClass || disabled || readonly;\n\n    var upHandlerProps = _extends(_extends({\n      disabled: isUpDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Increase Value',\n      'aria-disabled': !!isUpDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-up \").concat(upDisabledClass)\n    }, upEvents), {\n      ref: this.saveUp\n    });\n\n    var downHandlerProps = _extends(_extends({\n      disabled: isDownDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Decrease Value',\n      'aria-disabled': !!isDownDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-down \").concat(downDisabledClass)\n    }, downEvents), {\n      ref: this.saveDown\n    });\n\n    return _createVNode(\"div\", {\n      \"class\": classes,\n      \"style\": props.style,\n      \"title\": props.title,\n      \"onMouseenter\": props.onMouseenter,\n      \"onMouseleave\": props.onMouseleave,\n      \"onMouseover\": props.onMouseover,\n      \"onMouseout\": props.onMouseout\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-handler-wrap\")\n    }, [_createVNode(\"span\", null, [_createVNode(InputHandler, _objectSpread(_objectSpread({}, upHandlerProps), {}, {\n      \"key\": \"upHandler\"\n    }), {\n      default: function _default() {\n        return [upHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-up-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(InputHandler, _objectSpread(_objectSpread({}, downHandlerProps), {}, {\n      \"key\": \"downHandler\"\n    }), {\n      default: function _default() {\n        return [downHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-down-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-input-wrap\")\n    }, [_createVNode(\"input\", _objectSpread({\n      \"role\": \"spinbutton\",\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-valuenow\": sValue,\n      \"required\": this.required,\n      \"type\": props.type,\n      \"placeholder\": this.placeholder,\n      \"onClick\": this.handleInputClick,\n      \"class\": \"\".concat(prefixCls, \"-input\"),\n      \"tabindex\": this.tabindex,\n      \"autocomplete\": autocomplete,\n      \"onFocus\": this.onFocus,\n      \"onBlur\": this.onBlur,\n      \"onKeydown\": editable && this.onKeyDown,\n      \"onKeyup\": editable && this.onKeyUp,\n      \"autofocus\": this.autofocus,\n      \"maxlength\": this.maxlength,\n      \"readonly\": this.readonly,\n      \"disabled\": this.disabled,\n      \"max\": this.max,\n      \"min\": this.min,\n      \"step\": this.step,\n      \"name\": this.name,\n      \"title\": this.title,\n      \"id\": this.id,\n      \"onInput\": this.onTrigger,\n      \"onCompositionstart\": this.onCompositionstart,\n      \"onCompositionend\": this.onCompositionend,\n      \"ref\": this.saveInput,\n      \"value\": inputDisplayValue,\n      \"pattern\": this.pattern\n    }, dataOrAriaAttributeProps), null)])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}