"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_utils=require("../../tools/utils"),_dom=require("../../tools/dom"),_log=require("../../tools/log"),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_props=_interopRequireDefault(require("../../table/src/props")),_emits=_interopRequireDefault(require("../../table/src/emits")),_size=require("../../hooks/size"),_event=require("../../tools/event");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__spreadArray=function(e,t){for(var o=0,r=t.length,n=e.length;o<r;o++,n++)e[n]=t[o];return e},tableComponentPropKeys=Object.keys(_props.default),tableComponentMethodKeys=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],gridComponentEmits=__spreadArray(__spreadArray([],_emits.default),["page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","toolbar-button-click","toolbar-tool-click","zoom"]),_default2=(0,_vue.defineComponent)({name:"VxeGrid",props:__assign(__assign({},_props.default),{columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:function(){return _conf.default.grid.size||_conf.default.size}}}),emits:gridComponentEmits,setup:function(H,e){function t(e){var t={};return e.forEach(function(r){t[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=G.value;return o&&o[r].apply(o,e)}}),t}var f=e.slots,r=e.emit,o=_xeUtils.default.uniqueId(),n=(0,_vue.getCurrentInstance)(),v=(0,_size.useSize)(H),K=(0,_vue.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],pendingRecords:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:10,currentPage:1}}),p=(0,_vue.ref)(),G=(0,_vue.ref)(),m=(0,_vue.ref)(),_=(0,_vue.ref)(),x=(0,_vue.ref)(),b=(0,_vue.ref)(),h=(0,_vue.ref)(),C=(0,_vue.ref)(),E=(0,_vue.ref)(),R=(0,_vue.ref)(),Q=t(tableComponentMethodKeys);tableComponentMethodKeys.forEach(function(r){Q[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=G.value;return o&&o[r].apply(o,e)}});function g(t){var e=K.pendingRecords,o=H.rowClassName,r=[];return e.some(function(e){return e===t.row})&&r.push("row--pending"),r.push(o?_xeUtils.default.isFunction(o)?o(t):o:""),r}function y(e){var t=H.editConfig,o=K.pendingRecords,r=G.value,t=t?t.activeMethod:null;return-1===r.findRowIndexOf(o,e.row)&&(!t||t(__assign(__assign({},e),{$grid:oe})))}function a(){(0,_vue.nextTick)(function(){var e=G.value,t=_.value;e&&t&&e.connect(t)})}function i(){var e=H.pagerConfig,t=K.tablePage,o=(r=T.value).currentPage,r=r.pageSize;e&&(o&&(t.currentPage=o),r&&(t.pageSize=r))}function Y(e,t){var o,r=void 0===(r=W.value.props)?{}:r;return(o=e&&r.message?_xeUtils.default.get(e,r.message):o)||_conf.default.i18n(t)}function J(e,t,o){var r=ee.value,n=Q.getCheckboxRecords();if(r){if(n.length)return _vXETable.VXETable.modal.confirm({id:"cfm_"+e,content:_conf.default.i18n(t),escClosable:!0}).then(function(e){"confirm"===e&&o()});"development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:"msg_"+e,content:_conf.default.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else n.length&&o();return Promise.resolve()}function l(e){var t=K.isZMax;return(e?!t:t)&&(K.isZMax=!t,K.tZindex<(0,_utils.getLastZIndex)()&&(K.tZindex=(0,_utils.nextZIndex)())),(0,_vue.nextTick)().then(function(){return Q.recalculate(!0)}).then(function(){return K.isZMax})}var W=(0,_vue.computed)(function(){return Object.assign({},_conf.default.grid.proxyConfig,H.proxyConfig)}),ee=(0,_vue.computed)(function(){return!1!==W.value.message}),T=(0,_vue.computed)(function(){return Object.assign({},_conf.default.grid.pagerConfig,H.pagerConfig)}),w=(0,_vue.computed)(function(){return Object.assign({},_conf.default.grid.formConfig,H.formConfig)}),te=(0,_vue.computed)(function(){return Object.assign({},_conf.default.grid.toolbarConfig,H.toolbarConfig)}),s=(0,_vue.computed)(function(){return Object.assign({},_conf.default.grid.zoomConfig,H.zoomConfig)}),O=(0,_vue.computed)(function(){return K.isZMax?{zIndex:K.tZindex}:null}),M=(0,_vue.computed)(function(){var t={},o=H;return tableComponentPropKeys.forEach(function(e){t[e]=o[e]}),t}),u={refElem:p,refTable:G,refForm:m,refToolbar:_,refPager:x},c={computeProxyOpts:W,computePagerOpts:T,computeFormOpts:w,computeToolbarOpts:te,computeZoomOpts:s},oe={xID:o,props:H,context:e,instance:n,reactData:K,getRefMaps:function(){return u},getComputeMaps:function(){return c}},re={},D=(0,_vue.computed)(function(){var e=H.seqConfig,t=H.pagerConfig,o=H.loading,r=H.editConfig,n=H.proxyConfig,a=K.isZMax,i=K.tableLoading,l=K.tablePage,s=K.tableData,u=M.value,c=W.value,d=Object.assign({},u);return a&&(u.maxHeight?d.maxHeight="auto":d.height="auto"),n&&(d.loading=o||i,d.data=s,d.rowClassName=g,c.seq&&(0,_utils.isEnableConf)(t)&&(d.seqConfig=Object.assign({},e,{startIndex:(l.currentPage-1)*l.pageSize}))),r&&(d.editConfig=Object.assign({},r,{activeMethod:y})),d}),k=function(e){var t=H.proxyConfig,o=K.tablePage,r=e.currentPage,n=e.pageSize;o.currentPage=r,o.pageSize=n,re.dispatchEvent("page-change",e),t&&re.commitProxy("query")},P=function(e){var t=G.value,o=H.proxyConfig;t.getComputeMaps().computeSortOpts.value.remote&&(K.sortData=e.sortList,o&&(K.tablePage.currentPage=1,re.commitProxy("query"))),re.dispatchEvent("sort-change",e)},S=function(e){var t=G.value,o=H.proxyConfig;t.getComputeMaps().computeFilterOpts.value.remote&&(K.filterData=e.filterList,o&&(K.tablePage.currentPage=1,re.commitProxy("query"))),re.dispatchEvent("filter-change",e)},V=function(e){H.proxyConfig&&re.commitProxy("reload"),re.dispatchEvent("form-submit",e)},X=function(e){H.proxyConfig&&re.commitProxy("reload"),re.dispatchEvent("form-reset",e)},I=function(e){re.dispatchEvent("form-submit-invalid",e)},q=function(e){(0,_vue.nextTick)(function(){return Q.recalculate(!0)}),re.dispatchEvent("form-toggle-collapse",e),re.dispatchEvent("form-collapse",e)},N=function(e,t){t=e[t];if(t){if(!_xeUtils.default.isString(t))return t;if(f[t])return f[t];"development"===process.env.NODE_ENV&&(0,_log.errLog)("vxe.error.notSlot",[t])}return null},L={};_emits.default.forEach(function(o){var e=_xeUtils.default.camelCase("on-"+o);L[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,__spreadArray([o],e))}});function d(){var n,e=H.proxyConfig,t=H.formConfig,o=K.proxyInited,r=W.value,a=w.value;e&&((0,_utils.isEnableConf)(t)&&r.form&&a.items&&(n={},a.items.forEach(function(e){var t,o=e.field,r=e.itemRender;o&&(t=null,r&&(r=r.defaultValue,_xeUtils.default.isFunction(r)?t=r({item:e}):_xeUtils.default.isUndefined(r)||(t=r)),n[o]=t)}),K.formData=n),o||!1===r.autoLoad||(K.proxyInited=!0,(0,_vue.nextTick)(function(){return re.commitProxy("_init")})))}re={dispatchEvent:function(e,t,o){r(e,Object.assign({$grid:oe,$event:o},t))},commitProxy:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var r=H.toolbarConfig,n=H.pagerConfig,a=H.editRules,i=K.tablePage,l=K.formData,s=ee.value,u=W.value,c=te.value,d=u.beforeQuery,g=u.afterQuery,f=u.beforeDelete,v=u.afterDelete,p=u.beforeSave,m=u.afterSave,_=u.ajax,x=void 0===_?{}:_,u=u.props,b=void 0===u?{}:u,h=G.value,C=null,E=null;E=_xeUtils.default.isString(t)?(c=c.buttons,C=(c=r&&c?_xeUtils.default.findTree(c,function(e){return e.code===t},{children:"dropdowns"}):null)?c.item:null,t):(C=t).code;var R,y,T,w,O=C?C.params:null;switch(E){case"insert":h.insert({});break;case"insert_actived":h.insert({}).then(function(e){e=e.row;return h.setActiveRow(e)});break;case"mark_cancel":V=E,T=K.pendingRecords,S=ee.value,w=G.value,(P=w.getCheckboxRecords()).length?(R=[],y=[],P.forEach(function(t){(T.some(function(e){return t===e})?y:R).push(t)}),y.length?K.pendingRecords=T.filter(function(e){return-1===w.findRowIndexOf(y,e)}).concat(R):R.length&&(K.pendingRecords=T.concat(R)),Q.clearCheckboxRow()):S&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:V,content:_conf.default.i18n("vxe.grid.selectOneRecord"),status:"warning"}));break;case"remove":return J(E,"vxe.grid.removeSelectRecord",function(){return h.removeCheckboxRow()});case"import":h.importData(O);break;case"open_import":h.openImport(O);break;case"export":h.exportData(O);break;case"open_export":h.openExport(O);break;case"reset_custom":h.resetColumn(!0);break;case"_init":case"reload":case"query":var M=x.query;if(M){var D="_init"===E,k="reload"===E,P=[],S=[],V={};n&&((D||k)&&(i.currentPage=1),(0,_utils.isEnableConf)(n)&&(V=__assign({},i))),D?((D=h.getComputeMaps().computeSortOpts.value.defaultSort)&&(P=(D=!_xeUtils.default.isArray(D)?[D]:D).map(function(e){return{field:e.field,property:e.field,order:e.order}})),S=h.getCheckedFilters()):k?(K.pendingRecords=[],h.clearAll()):(P=h.getSortColumns(),S=h.getCheckedFilters());V={code:E,button:C,$grid:oe,page:V,sort:P.length?P[0]:{},sorts:P,filters:S,form:l,options:M};K.sortData=P,K.filterData=S,K.tableLoading=!0;var X=[V].concat(e);return Promise.resolve((d||M).apply(void 0,X)).catch(function(e){return e}).then(function(e){var t;K.tableLoading=!1,e?(0,_utils.isEnableConf)(n)?(t=_xeUtils.default.get(e,b.total||"page.total")||0,i.total=t,K.tableData=_xeUtils.default.get(e,b.result||"result")||[],t=Math.max(Math.ceil(t/i.pageSize),1),i.currentPage>t&&(i.currentPage=t)):K.tableData=(b.list?_xeUtils.default.get(e,b.list):e)||[]:K.tableData=[],g&&g.apply(void 0,X)})}"development"===process.env.NODE_ENV&&(0,_log.errLog)("vxe.error.notFunc",["proxy-config.ajax.query"]);break;case"delete":var I=x.delete;if(I){var q=Q.getCheckboxRecords(),N=q.filter(function(e){return!h.isInsertByRow(e)}),L=[{$grid:oe,code:E,button:C,body:{removeRecords:N},options:I}].concat(e);if(q.length)return J(E,"vxe.grid.deleteSelectRecord",function(){return N.length?(K.tableLoading=!0,Promise.resolve((f||I).apply(void 0,L)).then(function(e){K.tableLoading=!1,K.pendingRecords=K.pendingRecords.filter(function(e){return-1===h.findRowIndexOf(N,e)}),s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({content:Y(e,"vxe.grid.delSuccess"),status:"success"})),v?v.apply(void 0,L):re.commitProxy("query")}).catch(function(e){K.tableLoading=!1,s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal.message||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:E,content:Y(e,"vxe.grid.operError"),status:"error"}))})):h.remove(q)});s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:E,content:_conf.default.i18n("vxe.grid.selectOneRecord"),status:"warning"}))}else"development"===process.env.NODE_ENV&&(0,_log.errLog)("vxe.error.notFunc",["proxy-config.ajax.delete"]);break;case"save":var U=x.save;if(U){var z=Object.assign({pendingRecords:K.pendingRecords},h.getRecordset()),j=z.insertRecords,F=z.removeRecords,Z=z.updateRecords,A=z.pendingRecords,$=[{$grid:oe,code:E,button:C,body:z,options:U}].concat(e);j.length&&(z.pendingRecords=A.filter(function(e){return-1===h.findRowIndexOf(j,e)})),A.length&&(z.insertRecords=j.filter(function(e){return-1===h.findRowIndexOf(A,e)}));var B=Promise.resolve();return(B=a?h.validate(z.insertRecords.concat(Z)):B).then(function(e){if(!e)return z.insertRecords.length||F.length||Z.length||z.pendingRecords.length?(K.tableLoading=!0,Promise.resolve((p||U).apply(void 0,$)).then(function(e){K.tableLoading=!1,K.pendingRecords=[],s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({content:Y(e,"vxe.grid.saveSuccess"),status:"success"})),m?m.apply(void 0,$):re.commitProxy("query")}).catch(function(e){K.tableLoading=!1,s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:E,content:Y(e,"vxe.grid.operError"),status:"error"}))})):void(s&&("development"===process.env.NODE_ENV&&(_vXETable.VXETable.modal||(0,_log.errLog)("vxe.error.reqModule",["Modal"])),_vXETable.VXETable.modal.message({id:E,content:_conf.default.i18n("vxe.grid.dataUnchanged"),status:"info"})))})}"development"===process.env.NODE_ENV&&(0,_log.errLog)("vxe.error.notFunc",["proxy-config.ajax.save"]);break;default:B=_vXETable.VXETable.commands.get(E);B&&B.apply(void 0,__spreadArray([{code:E,button:C,$grid:oe,$table:h}],e))}return(0,_vue.nextTick)()},zoom:function(){return K.isZMax?re.revert():re.maximize()},isMaximized:function(){return K.isZMax},maximize:function(){return l(!0)},revert:function(){return l()},getFormItems:function(e){var t=w.value,o=H.formConfig,t=t.items,r=[];return _xeUtils.default.eachTree((0,_utils.isEnableConf)(o)&&t?t:[],function(e){r.push(e)},{children:"children"}),_xeUtils.default.isUndefined(e)?r:r[e]},getPendingRecords:function(){return K.pendingRecords},getProxyInfo:function(){if(H.proxyConfig){var e=K.sortData;return{data:K.tableData,filter:K.filterData,form:K.formData,sort:e.length?e[0]:{},sorts:e,pager:K.tablePage,pendingRecords:K.pendingRecords}}return null}};"development"===process.env.NODE_ENV&&(re.loadColumn=function(e){var t=G.value;return _xeUtils.default.eachTree(e,function(e){e.slots&&_xeUtils.default.each(e.slots,function(e){_xeUtils.default.isFunction(e)||f[e]||(0,_log.errLog)("vxe.error.notSlot",[e])})}),t.loadColumn(e)},re.reloadColumn=function(e){return Q.clearAll(),re.loadColumn(e)});var U={extendTableMethods:t,callSlot:function(e,t){return e&&(_xeUtils.default.isString(e)&&(e=f[e]||null),_xeUtils.default.isFunction(e))?e(t):[]},getExcludeHeight:function(){var e=H.height,t=K.isZMax,o=p.value,r=b.value,n=h.value,a=C.value,i=E.value,l=R.value;return(t||"auto"!==e?0:(0,_dom.getPaddingTopBottomSize)(o.parentNode))+(0,_dom.getPaddingTopBottomSize)(o)+(0,_dom.getOffsetHeight)(r)+(0,_dom.getOffsetHeight)(n)+(0,_dom.getOffsetHeight)(a)+(0,_dom.getOffsetHeight)(i)+(0,_dom.getOffsetHeight)(l)},getParentHeight:function(){var e=p.value;return e?(K.isZMax?(0,_dom.getDomNode)().visibleHeight:_xeUtils.default.toNumber(getComputedStyle(e.parentNode).height))-U.getExcludeHeight():0},triggerToolbarBtnEvent:function(e,t){re.commitProxy(e,t),re.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent:function(e,t){re.commitProxy(e,t),re.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent:function(e){re.zoom(),re.dispatchEvent("zoom",{type:K.isZMax?"max":"revert"},e)}};Object.assign(oe,Q,re,U),(0,_vue.watch)(function(){return H.columns},function(e){(0,_vue.nextTick)(function(){return oe.loadColumn(e||[])})}),(0,_vue.watch)(function(){return H.toolbarConfig},function(e){e&&a()}),(0,_vue.watch)(function(){return H.proxyConfig},function(){d()}),(0,_vue.watch)(function(){return H.pagerConfig},function(){i()});function z(e){var t=s.value;(0,_event.hasEventKey)(e,_event.EVENT_KEYS.ESCAPE)&&K.isZMax&&!1!==t.escRestore&&U.triggerZoomEvent(e)}_vXETable.VXETable.hooks.forEach(function(e){e=e.setupGrid;!e||(e=e(oe))&&_xeUtils.default.isObject(e)&&Object.assign(oe,e)}),(0,_vue.onMounted)(function(){(0,_vue.nextTick)(function(){var e=H.data,t=H.columns,o=H.proxyConfig,r=W.value,n=w.value;o&&(e||r.form&&n.data)&&(0,_log.errLog)("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),t&&t.length&&oe.loadColumn(t),a(),i(),d()}),_event.GlobalEvent.on(oe,"keydown",z)}),(0,_vue.onUnmounted)(function(){_event.GlobalEvent.off(oe,"keydown")});return oe.renderVN=function(){var e,t,o,r,n,a,i,l,s,u,c,d=v.value,g=O.value;return(0,_vue.h)("div",{ref:p,class:["vxe-grid",((c={})["size--"+d]=d,c["is--animat"]=!!H.animat,c["is--round"]=H.round,c["is--maximize"]=K.isZMax,c["is--loading"]=H.loading||K.tableLoading,c)],style:g},(l=H.formConfig,s=H.proxyConfig,u=K.formData,d=W.value,c=w.value,g=[],((0,_utils.isEnableConf)(l)||f.form)&&(l=[],f.form?l=f.form({$grid:oe}):c.items&&(a={},c.inited||(c.inited=!0,i=d.beforeItem,d&&i&&c.items.forEach(function(e){i({$grid:oe,item:e})})),c.items.forEach(function(e){_xeUtils.default.each(e.slots,function(e){_xeUtils.default.isFunction(e)||f[e]&&(a[e]=f[e])})}),l.push((0,_vue.h)((0,_vue.resolveComponent)("vxe-form"),__assign(__assign({ref:m},Object.assign({},c,{data:s&&d.form?u:c.data})),{onSubmit:V,onReset:X,onSubmitInvalid:I,onCollapse:q}),a))),g.push((0,_vue.h)("div",{ref:b,class:"vxe-grid--form-wrapper"},l))),g.concat((c=H.toolbarConfig,l=te.value,g=[],((0,_utils.isEnableConf)(c)||f.toolbar)&&(t=[],f.toolbar?t=f.toolbar({$grid:oe}):(r=o=void 0,n={},(c=l.slots)&&(o=N(c,"buttons"),r=N(c,"tools"),o&&(n.buttons=o),r&&(n.tools=r)),t.push((0,_vue.h)((0,_vue.resolveComponent)("vxe-toolbar"),__assign({ref:_},l),n))),g.push((0,_vue.h)("div",{ref:h,class:"vxe-grid--toolbar-wrapper"},t))),g),f.top?[(0,_vue.h)("div",{ref:C,class:"vxe-grid--top-wrapper"},f.top({$grid:oe}))]:[],(c=H.proxyConfig,o=D.value,r=W.value,l=Object.assign({},L),e=f.empty,c&&(r.sort&&(l.onSortChange=P),r.filter&&(l.onFilterChange=S)),[(0,_vue.h)((0,_vue.resolveComponent)("vxe-table"),__assign(__assign({ref:G},o),l),e?{empty:function(){return e({})}}:{})]),f.bottom?[(0,_vue.h)("div",{ref:E,class:"vxe-grid--bottom-wrapper"},f.bottom({$grid:oe}))]:[],(n=H.pagerConfig,t=T.value,g=[],((0,_utils.isEnableConf)(n)||f.pager)&&(c=[],f.pager?c=f.pager({$grid:oe}):(r={},l=o=void 0,(n=t.slots)&&(o=N(n,"left"),l=N(n,"right"),o&&(r.left=o),l&&(r.right=l)),c.push((0,_vue.h)((0,_vue.resolveComponent)("vxe-pager"),__assign(__assign(__assign({ref:x},t),H.proxyConfig?K.tablePage:{}),{onPageChange:k}),r))),g.push((0,_vue.h)("div",{ref:R,class:"vxe-grid--pager-wrapper"},c))),g))))},(0,_vue.provide)("$xegrid",oe),oe},render:function(){return this.renderVN()}});exports.default=_default2;